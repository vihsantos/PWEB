/*! For license information please see main.6e1b03ed.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var h=0;h<s.length;h++)r.call(o,s[h])&&(u[s[h]]=o[s[h]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,x=60106,I=60107,T=60108,S=60114,_=60109,A=60110,C=60112,N=60113,R=60120,O=60115,D=60116,P=60121,L=60128,M=60129,U=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;E=F("react.element"),x=F("react.portal"),I=F("react.fragment"),T=F("react.strict_mode"),S=F("react.profiler"),_=F("react.provider"),A=F("react.context"),C=F("react.forward_ref"),N=F("react.suspense"),R=F("react.suspense_list"),O=F("react.memo"),D=F("react.lazy"),P=F("react.block"),F("react.scope"),L=F("react.opaque.id"),M=F("react.debug_trace_mode"),U=F("react.offscreen"),j=F("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case S:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case P:return G(e._render);case D:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ae=null,Ce=null;function Ne(e){if(e=ri(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),_e(e.stateNode,e.type,t))}}function Re(e){Ae?Ce?Ce.push(e):Ce=[e]:Ae=e}function Oe(){if(Ae){var e=Ae,t=Ce;if(Ce=Ae=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=De,Ue=!1,je=!1;function Fe(){null===Ae&&null===Ce||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Be=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ye){Be=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,Ke=null,We=!1,Ge=null,Qe={onError:function(e){He=!0,Ke=e}};function Ye(e,t,n,r,i,a,o,s,u){He=!1,Ke=null,qe.apply(Qe,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Je(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ze(i),e;if(a===r)return Ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ht=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ht.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function Et(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ht.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Tt={},St={};function _t(e){if(Tt[e])return Tt[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Tt[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var At=_t("animationend"),Ct=_t("animationiteration"),Nt=_t("animationstart"),Rt=_t("transitionend"),Ot=new Map,Dt=new Map,Pt=["abort","abort",At,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ut(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ut(u),i=Mt):0!==(s&=a)&&(r=Ut(s),i=Mt)}else 0!==(a=n&~o)?(r=Ut(a),i=Mt):0!==s&&(r=Ut(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ut(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function Jt(e,t,n,r){Ue||Le();var i=Zt,a=Ue;Ue=!0;try{Pe(i,e,t,n,r)}finally{(Ue=a)||Fe()}}function Xt(e,t,n,r){Qt(Gt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=yt(st,e,t,n,r,i),!0;case"dragenter":return ut=yt(ut,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ht.set(a,yt(ht.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,ln=e.screenY-hn.screenY):ln=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=un(yn),gn=un(i({},yn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(bn),xn=un(i({},fn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function An(){return _n}var Cn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(Cn),Rn=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Dn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Pn),Mn=[9,13,27,32],Un=h&&"CompositionEvent"in window,jn=null;h&&"documentMode"in document&&(jn=document.documentMode);var Fn=h&&"TextEvent"in window&&!jn,Vn=h&&(!Un||jn&&8<jn&&11>=jn),Bn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Ur(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Jn=null;function Xn(e){Cr(e,0)}function Zn(e){if(X(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Jn=Yn=null)}function ar(e){if("value"===e.propertyName&&Zn(Jn)){var t=[];if(Qn(t,Jn,e,Se(e)),e=Xn,Ue)e(t);else{Ue=!0;try{De(e,t)}finally{Ue=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),Jn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Jn)}function ur(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=h&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,Er=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==kr||kr!==Z(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&fr(br,r)||(br=r,0<(r=Ur(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Pt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Ir.length;Tr++)Dt.set(Ir[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var l=Ke;He=!1,Ke=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ar(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ar(i,s,c),a=u}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Rr]||(e[Rr]=!0,s.forEach((function(t){_r.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&_r.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Pr(a,e,i,t),o.add(s))}function Pr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Xt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Fe()}}((function(){var r=a,i=Se(n),o=[];e:{var s=Ot.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case At:case Ct:case Nt:u=wn;break;case Rt:u=Dn;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Ve(p,f))&&l.push(Mr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=jr(d))p++;for(d=0,v=f;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)f=jr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=jr(l),f=jr(f)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==h&&Fr(o,h,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=$n;else if(Gn(s))if(er)y=cr;else{y=sr;var m=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ur);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ie(s,"number",s.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Un)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(m=Ur(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Hn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Un&&qn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Cr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Xr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Xr,$r="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Zr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Zr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function hi(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},di=ci(fi),pi=ci(!1),vi=fi;function yi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==fi)throw Error(o(168));hi(di,t),hi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,vi=di.current,hi(di,e),hi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),hi(di,e)):li(pi),hi(pi,n)}var xi=null,Ii=null,Ti=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,_i=a.unstable_cancelCallback,Ai=a.unstable_shouldYield,Ci=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Ui={},ji=void 0!==Ci?Ci:function(){},Fi=null,Vi=null,Bi=!1,zi=Ni(),qi=1e4>zi?Ni:function(){return Ni()-zi};function Hi(){switch(Ri()){case Oi:return 99;case Di:return 98;case Pi:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Oi;case 98:return Di;case 97:return Pi;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),Ti(e,t)}function Gi(e,t,n){return e=Ki(e),Si(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,_i(e)}Yi()}function Yi(){if(!Bi&&null!==Fi){Bi=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Si(Oi,Qi),n}finally{Bi=!1}}}var Ji=b.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=ci(null),$i=null,ea=null,ta=null;function na(){ta=ea=$i=null}function ra(e){var t=Zi.current;li(Zi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){$i=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Uo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===$i)throw Error(o(308));ea=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==o){for(f=a.baseState,s=0,h=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===h&&(c=f),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=h,Bs|=s,e.lanes=s,e.memoizedState=f}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ha(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ka(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Ea=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Xu(t,e.mode,n)).return=e,t}if(Ea(t)||z(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(Ea(n)||z(n))return null!==i?null:h(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===I?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ea(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,h=o,v=o=0,y=null;null!==h&&v<s.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var m=d(i,h,s[v],u);if(null===m){null===h&&(h=y);break}e&&h&&null===m.alternate&&t(i,h),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,h=y}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(o=a(h,o,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(y=p(h,i,v,s[v],u))&&(e&&null!==y.alternate&&h.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&h.forEach((function(e){return t(i,e)})),c}function y(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,y),null===h?l=k:h.sibling=k,h=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=f(i,g.value,c))&&(s=a(g,s,y),null===h?l=g:h.sibling=g,h=g);return l}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=a(g,s,y),null===h?l=g:h.sibling=g,h=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case E:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ju(a,e.mode,u)).return=e,e=r),s(e);if(Ea(a))return v(e,r,a,u);if(z(a))return y(e,r,a,u);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ta(!0),_a=Ta(!1),Aa={},Ca=ci(Aa),Na=ci(Aa),Ra=ci(Aa);function Oa(e){if(e===Aa)throw Error(o(174));return e}function Da(e,t){switch(hi(Ra,t),hi(Na,e),hi(Ca,Aa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ca),hi(Ca,t)}function Pa(){li(Ca),li(Na),li(Ra)}function La(e){Oa(Ra.current);var t=Oa(Ca.current),n=pe(t,e.type);t!==n&&(hi(Na,e),hi(Ca,n))}function Ma(e){Na.current===e&&(li(Ca),li(Na))}var Ua=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Va=null,Ba=!1;function za(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ba){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Fa=e);za(Fa,n)}Fa=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Fa=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Wa(e){if(e!==Fa)return!1;if(!Ba)return Ka(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)za(e,t),t=Qr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Fa?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Fa=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ja=b.ReactCurrentDispatcher,Xa=b.ReactCurrentBatchConfig,Za=0,$a=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Za=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=null===e||null===e.memoizedState?Do:Po,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ja.current=Lo,e=n(r,i)}while(ro)}if(Ja.current=Oo,t=null!==eo&&null!==eo.next,Za=0,to=eo=$a=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$a.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$a.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$a.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Za&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,a=r):u=u.next=h,$a.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Uo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ho(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Uo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Za&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ds;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ja.current,c=u.useState((function(){return fo(i,t,n)})),l=c[1],h=c[0];c=to;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var y=$a;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(h,e)||(l(e),e=du(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:h}).dispatch=l=Ro.bind(null,$a,e),c.queue=e,c.baseQueue=null,h=fo(i,t,n),c.memoizedState=c.baseState=h),h}function vo(e,t,n){return po(uo(),e,t,n)}function yo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,$a,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();$a.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}$a.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function Eo(e,t){return wo(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function Io(e,t){return bo(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,To.bind(null,t,e),n)}function _o(){}function Ao(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Hi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Ro(e,t,n){var r=fu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,$a,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:_o,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return Eo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,mo(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:Ao,useContext:oa,useEffect:xo,useImperativeHandle:So,useLayoutEffect:Io,useMemo:Co,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:_o,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Ao,useContext:oa,useEffect:xo,useImperativeHandle:So,useLayoutEffect:Io,useMemo:Co,useReducer:ho,useRef:ko,useState:function(){return ho(co)},useDebugValue:_o,useDeferredValue:function(e){var t=ho(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=ho(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return ho(co)[0]},unstable_isNewReconciler:!1},Mo=b.ReactCurrentOwner,Uo=!1;function jo(e,t,n,r){t.child=null===e?_a(t,null,n,r):Sa(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ku(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Uo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Uo=!0)}return Ho(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Eu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Eu(t,e),null;t.memoizedState={baseLanes:0},Eu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Eu(t,r);return jo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ko(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),sa=!1;var f=t.memoizedState;o.state=f,da(t,r,o,i),u=t.memoizedState,s!==r||f!==u||pi.current||sa?("function"===typeof l&&(ya(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=yi(t,u=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&wa(t,o,r,u),sa=!1,f=t.memoizedState,o.state=f,da(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||pi.current||sa?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,f,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&Ei(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):jo(e,t,s,a),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Da(e,t.containerInfo)}var Qo,Yo,Jo,Xo={dehydrated:null,retryLane:0};function Zo(e,t,n){var r,i=t.pendingProps,a=Ua.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),hi(Ua,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Ua.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Ua,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Pa(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Ca.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Zr]=t,r[$r]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Zr]=t,e[$r]=r,Qo(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Nr(Sr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?Ee(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&me(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&ge(e,h):"number"===typeof h&&ge(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Nr("scroll",e):null!=h&&w(e,s,h,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ra.current),Oa(Ca.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return li(Ua),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ua.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Ds||0===(134217727&Bs)&&0===(134217727&zs)||gu(Ds,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Pa(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ua),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Ua,1&Ua.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=ja(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ua.current,hi(Ua,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Pa(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Ua),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ua),null;case 4:return Pa(),null;case 10:return ra(e),null;case 23:case 24:return xu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Ca.current);var o,s=null;switch(n){case"input":a=$(e,a),r=$(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(h in Ie(n,r),n=null,a)if(!r.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var c=a[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=a?a[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Js||(Js=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zs?Zs=new Set([this]):Zs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ys(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ms(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Uu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Uu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ts(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Is(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Ts(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=qi(),gs(t.child,!0)),void _s(t);case 19:return void _s(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function _s(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function As(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,Ns=b.ReactCurrentDispatcher,Rs=b.ReactCurrentOwner,Os=0,Ds=null,Ps=null,Ls=0,Ms=0,Us=ci(0),js=0,Fs=null,Vs=0,Bs=0,zs=0,qs=0,Hs=null,Ks=0,Ws=1/0;function Gs(){Ws=qi()+500}var Qs,Ys=null,Js=!1,Xs=null,Zs=null,$s=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,hu=!1;function fu(){return 0!==(48&Os)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Vs),0!==Ji.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Os)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Ds&&(zs|=t,4===js&&gu(e,Ls));var r=Hi();1===t?0!==(8&Os)&&0===(48&Os)?ku(e):(yu(e,n),0===Os&&(Gs(),Qi())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),yu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function yu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ut(c);var h=Mt;a[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===Ds?Ls:0),t=Mt,0===r)null!==n&&(n!==Ui&&_i(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ui&&_i(n)}15===t?(n=ku.bind(null,e),null===Fi?(Fi=[n],Vi=Si(Oi,Yi)):Fi.push(n),n=Ui):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,mu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function mu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=jt(e,e===Ds?Ls:0);if(0===n)return null;var r=n,i=Os;Os|=16;var a=Su();for(Ds===e&&Ls===r||(Gs(),Iu(e,r));;)try{Cu();break}catch(u){Tu(e,u)}if(na(),Ns.current=a,Os=i,null!==Ps?r=0:(Ds=null,Ls=0,r=js),0!==(Vs&zs))Iu(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=_u(e,n))),1===r)throw t=Fs,Iu(e,0),gu(e,n),yu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ou(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ks+500-qi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=Kr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(o(329))}}return yu(e,qi()),e.callbackNode===t?mu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Os))throw Error(o(327));if(Lu(),e===Ds&&0!==(e.expiredLanes&Ls)){var t=Ls,n=_u(e,t);0!==(Vs&zs)&&(n=_u(e,t=jt(e,t)))}else n=_u(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=_u(e,t))),1===n)throw n=Fs,Iu(e,0),gu(e,t),yu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),yu(e,qi()),null}function wu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Gs(),Qi())}}function bu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Gs(),Qi())}}function Eu(e,t){hi(Us,Ms),Ms|=t,Vs|=t}function xu(){Ms=Us.current,li(Us)}function Iu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Pa(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Pa();break;case 13:case 19:li(Ua);break;case 10:ra(r);break;case 23:case 24:xu()}n=n.return}Ds=e,Ps=Wu(e.current,null),Ls=Ms=Vs=t,js=0,Fs=null,qs=zs=Bs=0}function Tu(e,t){for(;;){var n=Ps;try{if(na(),Ja.current=Oo,no){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Za=0,to=eo=$a=null,ro=!1,Rs.current=null,null===n||null===n.return){js=1,Fs=t,Ps=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Ua.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var y=f.updateQueue;if(null===y){var m=new Set;m.add(c),f.updateQueue=m}else y.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,ha(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new hs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var w=Bu.bind(null,a,c,s);c.then(w,w)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),f=o;do{switch(f.tag){case 3:a=u,f.flags|=4096,t&=-t,f.lanes|=t,fa(f,fs(0,a,t));break e;case 1:a=u;var b=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof b.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Zs||!Zs.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,fa(f,ds(f,a,t));break e}}f=f.return}while(null!==f)}Ru(n)}catch(x){t=x,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Su(){var e=Ns.current;return Ns.current=Oo,null===e?Oo:e}function _u(e,t){var n=Os;Os|=16;var r=Su();for(Ds===e&&Ls===t||Iu(e,t);;)try{Au();break}catch(i){Tu(e,i)}if(na(),Os=n,Ns.current=r,null!==Ps)throw Error(o(261));return Ds=null,Ls=0,js}function Au(){for(;null!==Ps;)Nu(Ps)}function Cu(){for(;null!==Ps&&!Ai();)Nu(Ps)}function Nu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ps=t,Rs.current=null}function Ru(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===js&&(js=5)}function Ou(e){var t=Hi();return Wi(99,Du.bind(null,e,t)),null}function Du(e,t){do{Lu()}while(null!==eu);if(0!==(48&Os))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Ps=Ds=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Rs.current=null,Br=Yt,mr(s=yr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(S){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,y=s,m=null;t:for(;;){for(var g;y!==u||0!==a&&3!==y.nodeType||(f=h+a),y!==c||0!==l&&3!==y.nodeType||(d=h+l),3===y.nodeType&&(h+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===s)break t;if(m===u&&++p===a&&(f=h),m===c&&++v===l&&(d=h),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,hu=!1,Ys=r;do{try{Pu()}catch(S){if(null===Ys)throw Error(o(330));Vu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ge(Ys.stateNode,""),128&k){var w=Ys.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:Es(Ys),Ys.flags&=-3;break;case 6:Es(Ys),Ys.flags&=-3,Ss(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ss(Ys.alternate,Ys);break;case 4:Ss(Ys.alternate,Ys);break;case 8:Ts(s,u=Ys);var E=u.alternate;ws(u),null!==E&&ws(E)}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(o(330));Vu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);if(b=zr,w=yr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&mr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!b.extend&&E>s&&(u=s,s=E,E=u),u=pr(k,E),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),E>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Yt=!!Br,zr=Br=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var x=Ys.flags;if(36&x&&ms(k,Ys.alternate,Ys),128&x){w=void 0;var I=Ys.ref;if(null!==I){var T=Ys.stateNode;Ys.tag,w=T,"function"===typeof I?I(w):I.current=w}}Ys=Ys.nextEffect}}catch(S){if(null===Ys)throw Error(o(330));Vu(Ys,S),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,ji(),Os=i}else e.current=n;if($s)$s=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((x=Ys).sibling=null,x.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Zs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(S){}if(yu(e,qi()),Js)throw Js=!1,e=Xs,Xs=null,e;return 0!==(8&Os)||Qi(),null}function Pu(){for(;null!==Ys;){var e=Ys.alternate;hu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(hu=!0):13===Ys.tag&&As(e,Ys)&&et(Ys,lu)&&(hu=!0));var t=Ys.flags;0!==(256&t)&&ys(e,Ys),0===(512&t)||$s||($s=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,ju)}return!1}function Mu(e,t){nu.push(t,e),$s||($s=!0,Gi(97,(function(){return Lu(),null})))}function Uu(e,t){ru.push(t,e),$s||($s=!0,Gi(97,(function(){return Lu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(o(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Qi(),!0}function Fu(e,t,n){ha(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(qt(e,1,t),yu(e,t))}function Vu(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r))){var i=ds(n,e=cs(t,e),1);if(ha(n,i),i=fu(),null!==(n=vu(n,1)))qt(n,1,i),yu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Zs||!Zs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ls&n)===n&&(4===js||3===js&&(62914560&Ls)===Ls&&500>qi()-Ks?Iu(e,0):qs|=n),yu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(qt(e,t,n),yu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new qu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case T:s=8,i|=1;break;case S:return(e=Hu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case N:return(e=Hu(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Hu(19,n,t,i)).elementType=R,e.lanes=a,e;case U:return Yu(n,i,a,t);case j:return(e=Hu(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:s=10;break e;case A:s=9;break e;case C:s=11;break e;case O:s=14;break e;case D:s=16,r=null;break e;case P:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=U,e.lanes=n,e}function Ju(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=fu(),s=du(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=wi(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ha(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zu(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return $u(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Uo=!0;else{if(0===(n&r)){switch(Uo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Zo(e,t,n):(hi(Ua,1&Ua.current),null!==(t=as(e,t,n))?t.sibling:null);hi(Ua,1&Ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Ua,Ua.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}Uo=0!==(16384&e.flags)}else Uo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ya(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Fa=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=_a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),qo(e,t),jo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Zo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(hi(Zi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,ha(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,fu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,fu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},_e=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=wu,Pe=function(e,t,n,r,i){var a=Os;Os|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Os=a)&&(Gs(),Qi())}},Le=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,yu(e,qi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Re,Oe,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{xi=hc.inject(lc),Ii=hc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Os=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),a=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!E.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+S(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),_(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(s=e[c],c);u+=_(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=_(s=s.value,t,n,l=r+S(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!E.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r=h;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};u(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(C([])));b&&b!==n&&r.call(b,a)&&(k=b);var E=g.prototype=y.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,u(E,"constructor",g),u(g,"constructor",m),m.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},x(I.prototype),u(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(E),u(E,s,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?b.postMessage(null):(v=!1,y=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,b.postMessage(null))},r=function(e,n){m=f((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>T(o,n))void 0!==u&&0>T(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],_=[],A=1,C=null,N=3,R=!1,O=!1,D=!1;function P(e){for(var t=x(_);null!==t;){if(null===t.callback)I(_);else{if(!(t.startTime<=e))break;I(_),t.sortIndex=t.expirationTime,E(S,t)}t=x(_)}}function L(e){if(D=!1,P(e),!O)if(null!==x(S))O=!0,n(M);else{var t=x(_);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,D&&(D=!1,i()),R=!0;var a=N;try{for(P(n),C=x(S);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,N=C.priorityLevel;var s=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===x(S)&&I(S),P(n)}else I(S);C=x(S)}if(null!==C)var u=!0;else{var c=x(_);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{C=null,N=a,R=!1}}var U=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||R||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return x(S)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:A++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,E(_,e),null===x(S)&&e===x(_)&&(D?i():D=!0,r(L,o-s))):(e.sortIndex=u,E(S,e),O||R||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},541:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACQSURBVHgB7dPNCYQwEAXgN7OwsJds7qtbw5awJViCnWg5lqEl2IEHC1BPIvgLKnhKgooH80ECgeE95hDAsi7BwglYfAOcYQqnt9tPB/Lzw5G24a6PI903nFUDHYPWR0s9DD2UE3UV4yWIQP/x8vCUGZoyhSZ1wc4SvYKdJWakE5p8NP0NFvMmIE5Q5BEs63QDtVY0fEGbePEAAAAASUVORK5CYII="},986:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABD6SURBVHgB7Z1NchRHFsf/WS2jZjxh9w1cPgHiBJZOgGQ8jvDK0gmAE6g6YvagE1isHOExtFjMGvkEtE8w5e2sGsKYZuiuN/m6qkGWER/Kl1mZVe8XYUs4HArUWf963y8BRVEURVEURVEURVEURVEURVEURVEURVEURVEURVEURVEURVEUJSUMlOBMimHOXxdAvv5v2ZnvCdmMUM3Wf94AyhmGs4NiNoMSFBWIB34oRqNP8TwfYLCVwVyzj/yIYLb4K84I4ZKU9tDKCjTLkJUVVb9Vxkx/x3CqApJHBeIIi+HvmG9lRFv20/zKrITgLILLUhJoao/11wo4VdG4owK5BP8qhtsbVgxE2LZ/3EbE2AM+tf+eLkCP/lHMT6F8FCqQD4CtxGeY79o44Sv7ht61H9sISUIza+FOrHX55RmGJ2pd3o8K5B2sLAXoFq2sRKqiuBh7+MdLZI++Kf44gfJWVCDnmBSf2FhicIOIbndRFBfAgf/pHBh/V8xLKK9RgTSwtRgAh4g8pvANC8ValSO1KjW9F8iDYrhvrBuFOvukvMFmxDC+WcyP0WN6K5BaGCuLkUN5F70WSu8EosK4NL0USm8EojGGGOUCy71vi1dT9IDOC6SpYdy1v+g+FDE4RdyHrFenBTIZb96y1e6iR+na0JQ2HX50c/zyHjpKJwXyYzHMN63xgLpTgaDpS5i9LlqTDB2DrcYm6AlUHAExW/yZPzjcvI2O0RkLwrHG55hPoMJola7FJp0QSJOhYpcqR9ysZjmwSpmapwTiZsHywv+baARjRgb8T/UFx1JU/4454qYzma7kBVIH4iayIJG7ZnFKyH7j+Qzrx57uCb9RuWdsCZMbZFtNl/FWbMkIY1DsHc7HSJhkBRJX+rZpIyf6NTPmZK8l94JFU62mGOlGLB3IBnRvhqvjVFvrkxRInaUyNt6gFvun2D3K7i9BJ7EOIjWu57799iu06pYZm+WiJLNcyQmkSeE+RisHHr8oLuKNWOhGS5alfAnspCaSpATyk3UhNpA9buGAT21B7FFmrh7vJT6FN7GuaYX5bkv9aMkF78kIpCVxnC5tyrKrs9z1xCQOKWhqnGYLVDupiCQJgTwcD78H4Rjh6LQwztOKUAz2vz6c30fkRC+QwOLolTDOE7yelIBIohZI7VYNnsA7NCPCuMtNdx9DyJkZG5Ncj9ndirYX603M4RtzZHD1SxXHG3goygpkx37r/e3OZ8xnjUiJ0oIESuWW1p060GVq7yaM20WzlzDXY0wBR2dBwoiDrcbwuorj/fBnZDC/bh/iI3jDjPjMf2yWesdEdBbkYXH1ib8KuY01YO70fVPHZWk2wNz1l2o306fY3ImpLSUqCzIpNu96bB8pjTXjKo7LU8cmxlqTd3QgO0Fb3F+HiIhGIJPx0ObhjZeBm8oGm+xS7SXYCxQb/Bmyy2UtiZfFctx8GtPgVRQuls90brOqpoAijnW5iiYdLI5NoOzEECO2bkE4MLPimMADRHRHxeEP/mz5BQQPcOaMRxrQMq0L5IqngpQ9uAOtbfinEckB5MlH9Qh1q7QqEJ4G9DHwtBKHBuPB4M/ah0i4N6zteKS1GKSud/D2EdmUoYqjPZoWlR8gSrtFxNYsSL23SsXRJfxYEjMaiovuw2lFIOxaQbi1Wlf1x8FKJGTuQJA2Xa3gLpaPVhJN5caHfAqYZk9x9cvQVfbgFkQ6a8UFKxVHfPCZVKLdwMbmfMNX2YNaEF5LQ7IFwbKukKcxJ95M7n0PBxb2oUulyXJSYEQY8nnnECJ0AXEDASHRguBqF9VOSksUrLnOyTGtbX/GL0iEvQIzK5IdEsxWbtQeyCkCEczF4hQgROMOc0d7q+KHz4jPCkKsAvb6WQpCMIHIBmzmSDNW6VCfldw8ia/+r7cRRCDC1sPGHZsFlKQweFlArk0+D2VFgghEUvE8Jpv68rY+wvHIUrCIGMqKeBeIpPXguyd0TDZd6rMTc7WCWBHvAhFUeglPrdVKOGpXi0Q8AFsDuwXPeBXIz8WVXQhZD66Wa9YqfdjVIsqEXnRmi2tL8IhXgQyQSSm81KxVd7g5fnHPCNUyNjzHIt4Ewj1XUrtel34GcpQWWQi5y/yM+Vw8500gV4SUzW8aDcy7R71vS8aKDDDYhSe8CcQIWY+FBuadRepsfQbrXgQiFZyr9eg2clbEjHwF614EYpDdgABqPbqP1BlnnqyIuEC4xVloEUOp1qP7SFkRdul9rAkSF8gSV7YhAKn16A0V0SM4Y/hacPFgXVwgMu4VzZ5h6GW1pRIfmXl5LFFdz+rrrkXxIBByVrGBOUn14nnl4+HqOgTGc0ng2TuPqEDqTIL75NgiwM1GSlws7UsRzshns0QFMpBRsAbnPaTp9JVws7YhiKhArGt0DY6YgPPGSnQ4ew7ScYiYQOoNFu7qVfeqv0i4WSSc7hUTyAJDgYYxmql71V+k3Ky/Yy7WvCgmECHfL5mVNoovjHNNJCOKTyAQiD9IJJOhpAwRTeGIMXKBuphAjMDlmxmWzh+OkjaZEUn3Or+s14gIhAN0OHfv0myveKUC6Tn1WLVzHJJLBeoiApEI0G2KWMWhrCBkp3BkhOc5BBARiERQVGmArjQYVL/BkQoDkUBdRCA2KMrhCKFSC6KsIAFvwnok8QjEmsQv4MgAVEJRsHooT+GITRp9DgFkXCyQc0CkAbqyRmL/GUGmFiJyPwi5z5+X8Ax3eWaC1y9cEuc+Ie41elAM0SZVmIbSEk7nJXYfiQg5HDABBDKox4CdbneKAb6Ax8fd8h+DfWiO4bmplJ8JxxdvDgGcXaymBuKENYdPoShnsOJwzmT9+59D59hYIAYZCpiyrISi/AmZBdeuOAtkAYkUbxwfhhIPNtXr/Ez8scCXcCT4NdBvhVQgyl8oEQFxCMQYFYgSJc4CMajEl3UpigQSaX0BgWQqEKWzxOFiKUqkqECUzkKoJNYIuVFFkm1QlPMQsvYFoiheIIoitnUWCGEgkaLNoShnMaYbAvkES2eBGMTxYSjxYARGKP62gf/AkShcLKnhFqU7SAzh/XcxdG6CdRaIxHAL1MVSziExhCdxhYbUPEgJh4ecAghkCRxnLS/Gbm7+dZpJsT/juO0FFyHmd2IZwhMSCDcbGjiQwzMx7PzlSUDjKBAWx81ifozuk8MBKRELxSDmVzgiMdyidIOfik+d58mlhvCEBOLerj5fYAeKAn4oX+VwRmYIT2jtTzx7jJT0McjcLQhVJQQQEcgSA4GVPVUORYHMLVGVkVllKyKQT/C8hDviV/gqaSKx0+p3DOMRSHONbwknzEgDdaUO0J07K0qpa8TFKukSccj8Fe1B6TUDLCWu8nPOqq6RazWhyrl4lRm5i0+UVDE34AgJXqUhJhCJoIhk7llXEsag2oYjlWDHhJhANjAXUK0Z8Q5dKL2kPnv3zm6pAJ0REwgH6kZAuQMYtSI9JRPYnczPoFSAzoi2u8s00VXJL5hWLkfTzOkECbQ9nUVaIKdwRt2sPtKceQ5HlqATCCIqkLpj1r0vS92s/pGJXE1BM+mubQ8TheYRnKm+l7rGV4kfvkLDCGQwDYyo9WDEBUJCbtZn9GIfSi+oMNyVyF75GCQTF0iG+YmEm2WLhs4FIyUNbHB+CAGeYRi/BanTve4XwVtLtK3BeveRCs55FFkyvbvGy1aTBegIAmwIvVmUeJE64yUqgdj3r3gRiFQ2S61It+GzJYHah6X8pvifuHvFeNuLZQs2akWUdyJ1tsbjthpvAskwEFG0WpFuImg9mDE84U0ge8XzqZSy1Yp0jwHwAwTgZ0xoeeFb8bp6dCGkbH7TPDjcvA2lEzwohvsQ2oVmg3MRV/4ivAqEg3UpK2IMDrW6nj4/FsPcyHkE3oLzNd6XV9vq5n2IYKw6XqirlThXanHkEIA8xh5rvAukWZNZQgCbGbutAXu68NlZ67EPGcoQK1iDXH8gqXQO7tTVSg8+M6nAnAlhPZggApG0IpZcXa30aM4shwxlqAXewS7QkVQ8u1oPx0OdPEwEzlrxmUGIUNaDCSYQVrxoxZPoHmdEoERNnbWiu5CjDHn9g9QFOh8E10UGYtVTM9oEHlvf9rqPLk4f8JXZ9gM/hgPLhK7d5rhjE/PHELyDcoFl0OWCTrfeXIaHxfAYIuOVNdbcHts3ygGU6JgUmxMSHJ/mlva9wGcd/BJPg/ltiU7fNz8P+5PxUIP2yOAzIdndAiUCxh5rgguEB6qIMtFflAiFtqLEw0oc9kwgCBEd+ey5uojgLtaaSTF8LNjNWWOw//XhXKhyr1yGVXaR3OKsv2KmXxcvrqMF2rwn/UDS1VphD0bTv+3hRxw0s1mw1rb+tyYQNpfSrtYKFUkr+BHHyn0et+FarWnNxVrjxdVi1N0Khi9xtJG1Ok+bLlbDnM1nCWnsgWl2yz+T8eYtH+JAS1mr87QuEM5qLVfxiDycSVGR+KPOVpl78ICxBcE2Xas3f49IeHB49bYxoi0JryHQyTNcPUil4h47XCH/DPO7gq3rf4J7rWzxt0AERCMQ5mdbZc8Eq+znKF8CO99F8FZKGe6t4hYfyHXmnsMc2ZRuNDWtCGKQNwzqKrvY7UDnsAdLT5p5aOUScDDOnyH8iWNqsFkgIqKyIIzNauXk9Q3FvzTdm+HqWF2uD4NdKp7nkGxZfwulfRh3Yog7zhKdQJhaJPymkusCfQslJwek75PoGjwm20wC5vBHlOJgohQIMyk+2SJkjz2LZJVrn9ugUGOTPxPIaqCulFdWHK98udZORCsQphbJ4An8UzaZk2Moq9pG3Wzo9+XE2HTu9VjFwUQtEIaDaiM47P8eeu12Ne4U1422EQD7UjqI/aUUvUCYwCJZrbPk6ce+CCW0MJgUxMEkIRAmVExylq4LpQ1hxB5znCcZgTBNTDKB34zK21jFKHzFV+qp4VUVnF7sm/qKu20EJS1xMEkJhAlRJ7kYPmBzYq3K/dSsCluLDZgbhGo/pBU+Q7Sp3HeRnECYpk5iLYnZQnuUjQsWrVgiEEUDV8gpiubDjyVJgax5WGzes7/CLbQOzerrr82jJZbTb1tyIfjFURHtZsZco9W9422KooaXlw8wvL2XqGuatEAYm+EqTHQX7KxcsSnf220TC/brq1JaNCsx2Bgig7lWoeIrBbZjEMRZiOjOzfFLL+3woUheIEyLwfvHwm5ZWVkBZcj461P7FM1gzLverrkVwef2ceOHn+OvHAn8nl2pJ3VCIEwTvBfw1y6vfBinBsO9VF2q83RGIGvqwavqMDZ3o/vYOIwwTt2lOk/nBMJEkuXqE3zV3kGKWar30UmBrGnGeDnLlUPxQDetxlk6LRBGYxM/mNWW+uGdrsQaF9F5gayZFJ/aTNcyhUxX7Jwue9TI2RuBrGk6gyWvA+sLvZyZ6Z1A1qhQPpheD5P1ViBrVCgXYaY2E3jU9ynL3gtkzc/Fld0BslsUvAU8OnoVY7wPFcg5zmS9vkJvrAo3W5qjJZYn3yY0qxECFcg7YKuSIeNrxDqYIq47kCsrDLUWF6MC+QAmxWi0xB/btVjoRrptLPXAF3cZZxiedL2GIYEK5BLUs9xm14CuJRCznNq/4y9WFKdqKT4eFYgjbF0WmG9lq9kMFsyq/ytHO5RWtNOKrCCMmW5gOFUr4YYKxAOvRUO0ZUyWG1RfsFsmNMtRrgeyrBif2lTsNMPSBtaflioGeVQgLcACAuZWRG/EYkU0MshexzbVmVu3Nprvu9gtqyiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiKoiiS/B+t0c7FkCCuUgAAAABJRU5ErkJggg=="},147:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABiCAYAAACrpQYOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQMSURBVHgB7dw9chRHFAfw/+tdScjC0siBiyrL5eEEWk7g4QQWGY4MJ8A+gUzkkFLmDDgBUkjEKiRCnICmgCoyRkhULSW2H693BYgI0PRMv0XvF+iz9FH73+6dfv2mAWOMMcYYY4wxxhhjjDHGmHYRZk1RFBj/WIGodOD1k98K4KfyZoj+4R7qusYMmZ0gzq9V1KNN+aj6yp8YcsBdHDy7gxmgP4hpALfloxKn4yWQm9oD6UErmYLc/M//weH/+BlOryDChltYKXjRPcRoNIJCOkdEcaEk7t+Tf2+AtDzT0WXULz2U0RfEJIS5Bzj9VPQlKsNwUGY6EloLIYpB34Yyql4j3PLaplyWXkX7SiwUhLf7QyihZ2qaTklP0CGZoi5qmaLUTE0uzG2iY5qmKB0jIsNo+IDpYFXDKlzHiAjzG8glLP8NBVQEQRT+QiZE/DsUyD81FWVBPH6FjDRMTwpGxFGJ7JZKZJY/iHfUpI6UxtiVyCx/EH0ukV3I/mTIH8TYKdjAyf8/5A+iFzxy67EFAcx5ZCdbq5nlD6L28dnokY+3lfUxZt5BJswYQgEdJQ6HbeTi+C4UUFMGp5W1Ry1sjX6J5/1nF6GAmjI4E91ExybdHUqo2rOWUSF71VShAwweYv/5ZSihas+aqX9d3nVxBeMx/VtqKOziKAdSjX2EFjH1Lsllc/a1w0nqujjiA8SEK2hnZNTyu69rCyHS23JZlLJ9Ok7Z3+RlJFzRGEKkt+VyJKvdxZ92ZMW1SoRGl7VMvCWvCX9KCB5KzUY3uIwOhPG/Esi3bKnWkysjwhbq50MoN1v3R8RAMK4QUIF4nUAlPjUoxwfey9N/Dy7sSjFx+7iOZYwxxhhjjDHfJf0LuniD+9FSKeXJAahXOPBv8atSvCuleCGLuY+dgv74fU0MH8D7k8VdCB5vXqisL52kL4jzaxWcG8RTBeTBrpCs6McSBnlm2pVw9nCoq+yRP4hzUraYDxtE/Id8Fot7XbU/xvJHPJ1gB72jYe5buPIEEW9mD8s3pCpa4euPdGgZ73GgrVyhdBvEt5+nkcv28TkenbX5dBNE8es1Yrohz7qu22Wa6uwcj3aDmIwA3MrQr5RaDOSfNkdIOzt0nx1oQhcw++LBKlfdwkrJiz88xugw+T5H+hFR/DIgdm0f45BTK2d5pA1iGkLc8M9/O1a7aqYgYaRbKKYL4uyE8EHSMNIE0f7RPlrJNHVwKcX9FUlerN386i2Q+rVBGwrHC+f47ev7aKj5iMh4joYWKW6YT9ByOVfhrAtL19BQ8yDCzK2WW+DW0VCCEaHg5IDvgL5u8DPKglDCglDCglDCglDCglDCglCij6bcpBOCcZYxdmGMMcYYY4wxxhhjjDHGGKPcey//VHq8DRJNAAAAAElFTkSuQmCC"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=n(791),t=n(164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}var s,u=s||(s={});u.Pop="POP",u.Push="PUSH",u.Replace="REPLACE";var c=function(e){return e};function l(e){e.preventDefault(),e.returnValue=""}function h(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function f(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function p(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v(e,t){if(!e)throw new Error(t)}var y=(0,e.createContext)(null);var m=(0,e.createContext)(null);var g=(0,e.createContext)({outlet:null,matches:[]});function k(t){return function(t){var n=(0,e.useContext)(g).outlet;if(n)return(0,e.createElement)(_.Provider,{value:t},n);return n}(t.context)}function w(e){v(!1)}function b(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,u=t.navigationType,c=void 0===u?s.Pop:u,l=t.navigator,h=t.static,f=void 0!==h&&h;I()&&v(!1);var d=V(r),g=(0,e.useMemo)((function(){return{basename:d,navigator:l,static:f}}),[d,l,f]);"string"===typeof o&&(o=p(o));var k=o,w=k.pathname,b=void 0===w?"/":w,E=k.search,x=void 0===E?"":E,T=k.hash,S=void 0===T?"":T,_=k.state,A=void 0===_?null:_,C=k.key,N=void 0===C?"default":C,R=(0,e.useMemo)((function(){var e=j(b,d);return null==e?null:{pathname:e,search:x,hash:S,state:A,key:N}}),[d,b,x,S,A,N]);return null==R?null:(0,e.createElement)(y.Provider,{value:g},(0,e.createElement)(m.Provider,{children:a,value:{location:R,navigationType:c}}))}function E(t){var n=t.children,r=t.location;return function(t,n){I()||v(!1);var r=(0,e.useContext)(g).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=T();if(n){var c,l="string"===typeof n?p(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||v(!1),s=l}else s=u;var h=s.pathname||"/",f="/"===o?h:h.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=j(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;var i=N(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=P(i[o],r);return a}(t,{pathname:f});0;return L(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:F([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:F([o,e.pathnameBase])})})),r)}(C(n),r)}function x(t){I()||v(!1);var n=(0,e.useContext)(y),r=n.basename,i=n.navigator,a=A(t),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(t),h=null!=l&&l.endsWith("/");c="/"===s?r+(h?"/":""):F([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function I(){return null!=(0,e.useContext)(m)}function T(){return I()||v(!1),(0,e.useContext)(m).location}function S(){I()||v(!1);var t=(0,e.useContext)(y),n=t.basename,r=t.navigator,i=(0,e.useContext)(g).matches,a=T().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=U(e,JSON.parse(o),a);"/"!==n&&(i.pathname=F([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var _=(0,e.createContext)(null);function A(t){var n=(0,e.useContext)(g).matches,r=T().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return U(t,JSON.parse(i),r)}),[t,i,r])}function C(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==w&&v(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=C(t.props.children)),n.push(r)}else n.push.apply(n,C(t.props.children))})),n}function N(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||v(!1),a.relativePath=a.relativePath.slice(r.length));var o=F([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&v(!1),N(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:D(o,e.index),routesMeta:s})})),t}var R=/^:\w+$/,O=function(e){return"*"===e};function D(e,t){var n=e.split("/"),r=n.length;return n.some(O)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!O(e)})).reduce((function(e,t){return e+(R.test(t)?3:""===t?1:10)}),r)}function P(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=M({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;a.push({params:r,pathname:F([i,l.pathname]),pathnameBase:F([i,l.pathnameBase]),route:h}),"/"!==l.pathnameBase&&(i=F([i,l.pathnameBase]))}return a}function L(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,a){return(0,e.createElement)(g.Provider,{children:void 0!==i.route.element?i.route.element:(0,e.createElement)(k,null),value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})}),null)}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=a(n,2),i=r[0],o=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function U(e,t,n){var r,i="string"===typeof e?p(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?p(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:B(a),hash:z(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var F=function(e){return e.join("/").replace(/\/\/+/g,"/")},V=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},B=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},z=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=["onClick","reloadDocument","replace","state","target","to"];function W(t){var n=t.basename,r=t.children,i=t.window,u=(0,e.useRef)();null==u.current&&(u.current=function(e){function t(){var e=p(v.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=y.state||{};return[r.idx,c({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(m)E.call(m),m=null;else{var e=s.Pop,n=t(),r=n[0];if(n=n[1],E.length){if(null!=r){var i=k-r;i&&(m={action:e,location:n,retry:function(){u(-1*i)}},u(i))}}else a(e)}}function r(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=v.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:d(e))}function i(e,t){return void 0===t&&(t=null),c(o({pathname:w.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:f()}))}function a(e){g=e,e=t(),k=e[0],w=e[1],b.call({action:g,location:w})}function u(e){y.go(e)}void 0===e&&(e={});var v=void 0===(e=e.window)?document.defaultView:e,y=v.history,m=null;v.addEventListener("popstate",n),v.addEventListener("hashchange",(function(){d(t()[1])!==d(w)&&n()}));var g=s.Pop,k=(e=t())[0],w=e[1],b=h(),E=h();return null==k&&(k=0,y.replaceState(o({},y.state,{idx:k}),"")),{get action(){return g},get location(){return w},createHref:r,push:function e(t,n){var o=s.Push,u=i(t,n);if(!E.length||(E.call({action:o,location:u,retry:function(){e(t,n)}}),0)){var c=[{usr:u.state,key:u.key,idx:k+1},r(u)];u=c[0],c=c[1];try{y.pushState(u,"",c)}catch(uu){v.location.assign(c)}a(o)}},replace:function e(t,n){var o=s.Replace,u=i(t,n);E.length&&(E.call({action:o,location:u,retry:function(){e(t,n)}}),1)||(u=[{usr:u.state,key:u.key,idx:k},r(u)],y.replaceState(u[0],"",u[1]),a(o))},go:u,back:function(){u(-1)},forward:function(){u(1)},listen:function(e){return b.push(e)},block:function(e){var t=E.push(e);return 1===E.length&&v.addEventListener("beforeunload",l),function(){t(),E.length||v.removeEventListener("beforeunload",l)}}}}({window:i}));var v=u.current,y=a((0,e.useState)({action:v.action,location:v.location}),2),m=y[0],g=y[1];return(0,e.useLayoutEffect)((function(){return v.listen(g)}),[v]),(0,e.createElement)(b,{basename:n,children:r,location:m.location,navigationType:m.action,navigator:v})}var G=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,a=t.replace,o=void 0!==a&&a,s=t.state,u=t.target,c=t.to,l=H(t,K),h=x(c),f=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=S(),u=T(),c=A(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!a||d(u)===d(c);s(t,{replace:n,state:o})}}),[u,s,c,a,o,i,t])}(c,{replace:o,state:s,target:u});return(0,e.createElement)("a",q({},l,{href:h,onClick:function(e){r&&r(e),e.defaultPrevented||i||f(e)},ref:n,target:u}))}));var Q=n(184);function Y(){return(0,Q.jsx)("main",{children:(0,Q.jsxs)("div",{className:"container",children:[(0,Q.jsxs)("header",{children:[(0,Q.jsx)("h1",{children:"PWEB"}),(0,Q.jsx)("p",{children:"Loca\xe7\xe3o de ve\xedculos com apenas um clique."})]}),(0,Q.jsx)("div",{className:"imagem",children:(0,Q.jsx)("img",{src:"http://www.alexandreautomoveisrp.com.br/images/carros.png",alt:"carros"})}),(0,Q.jsxs)("div",{className:"botoes",children:[(0,Q.jsx)(G,{to:"/escolha",children:(0,Q.jsx)("div",{className:"botao-login",children:"Login"})}),(0,Q.jsx)(G,{to:"/cadcliente",children:(0,Q.jsx)("div",{className:"botao-cadastrar",children:"Cadastrar Cliente"})})]})]})})}function J(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){J(a,r,i,o,s,"next",e)}function s(e){J(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Z=n(757),$=n.n(Z);function ee(e){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ee(e)}function te(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ee(e)););return e}function ne(){return ne="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=te(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ne.apply(this,arguments)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t){return ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ie(e,t)}function ae(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ie(e,t)}function oe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ue(e,t){if(t&&("object"===se(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return re(e)}function ce(e){var t=oe();return function(){var n,r=ee(e);if(t){var i=ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ue(this,n)}}function le(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return t&&fe(e.prototype,t),n&&fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pe(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t,n){return ye=oe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ie(i,n.prototype),i},ye.apply(null,arguments)}function me(e){var t="function"===typeof Map?new Map:void 0;return me=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ye(e,arguments,ee(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ie(n,e)},me(e)}var ge=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ge(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},we=function(e){try{return ke.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var be=function(){function e(){var t=this;he(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return de(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ee(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function xe(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function Ie(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Te(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Se(){var e=Ee();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var _e=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(re(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(re(a),Ae.prototype.create),a}return de(n)}(me(Error)),Ae=function(){function e(t,n,r){he(this,e),this.service=t,this.serviceName=n,this.errors=r}return de(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ce(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new _e(n,a,t);return o}}]),e}();function Ce(e,t){return e.replace(Ne,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ne=/\{\$([^}]+)}/g;function Re(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Oe(s)&&Oe(u)){if(!Re(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function Oe(e){return null!==e&&"object"===typeof e}function De(e){for(var t=[],n=function(){var e=a(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Pe(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=a(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Le(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Me=function(){function e(t,n){var r=this;he(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return de(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=le(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ue),void 0===r.error&&(r.error=Ue),void 0===r.complete&&(r.complete=Ue);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ue(){}function je(e){return e&&e._delegate?e._delegate:e}var Fe=function(){function e(t,n,r){he(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return de(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ve="[DEFAULT]",Be=function(){function e(t,n){he(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return de(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new be;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch(c){}var t,n=le(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=a(t.value,2),i=r[0],o=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=X(Z.mark((function e(){var t;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(pe(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),pe(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=le(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=a(i.value,2),c=u[0],l=u[1],h=this.normalizeInstanceIdentifier(c);r===h&&l.resolve(o)}}catch(f){s.e(f)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Av){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ve?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Av){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve;return this.component?this.component.multipleInstances?e:Ve:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ze,qe,He=function(){function e(t){he(this,e),this.name=t,this.providers=new Map}return de(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Be(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ke=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(qe||(qe={}));var We,Ge,Qe={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},Ye=qe.INFO,Je=(ve(ze={},qe.DEBUG,"log"),ve(ze,qe.VERBOSE,"log"),ve(ze,qe.INFO,"info"),ve(ze,qe.WARN,"warn"),ve(ze,qe.ERROR,"error"),ze),Xe=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Je[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ze=function(){function e(t){he(this,e),this.name=t,this._logLevel=Ye,this._logHandler=Xe,this._userLogHandler=null,Ke.push(this)}return de(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in qe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Qe[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.DEBUG].concat(t)),this._logHandler.apply(this,[this,qe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,qe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.INFO].concat(t)),this._logHandler.apply(this,[this,qe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.WARN].concat(t)),this._logHandler.apply(this,[this,qe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,qe.ERROR].concat(t)),this._logHandler.apply(this,[this,qe.ERROR].concat(t))}}]),e}();var $e=function(){function e(t){he(this,e),this.container=t}return de(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var et="@firebase/app",tt="0.7.11",nt=new Ze("@firebase/app"),rt="[DEFAULT]",it=(ve(We={},et,"fire-core"),ve(We,"@firebase/app-compat","fire-core-compat"),ve(We,"@firebase/analytics","fire-analytics"),ve(We,"@firebase/analytics-compat","fire-analytics-compat"),ve(We,"@firebase/app-check","fire-app-check"),ve(We,"@firebase/app-check-compat","fire-app-check-compat"),ve(We,"@firebase/auth","fire-auth"),ve(We,"@firebase/auth-compat","fire-auth-compat"),ve(We,"@firebase/database","fire-rtdb"),ve(We,"@firebase/database-compat","fire-rtdb-compat"),ve(We,"@firebase/functions","fire-fn"),ve(We,"@firebase/functions-compat","fire-fn-compat"),ve(We,"@firebase/installations","fire-iid"),ve(We,"@firebase/installations-compat","fire-iid-compat"),ve(We,"@firebase/messaging","fire-fcm"),ve(We,"@firebase/messaging-compat","fire-fcm-compat"),ve(We,"@firebase/performance","fire-perf"),ve(We,"@firebase/performance-compat","fire-perf-compat"),ve(We,"@firebase/remote-config","fire-rc"),ve(We,"@firebase/remote-config-compat","fire-rc-compat"),ve(We,"@firebase/storage","fire-gcs"),ve(We,"@firebase/storage-compat","fire-gcs-compat"),ve(We,"@firebase/firestore","fire-fst"),ve(We,"@firebase/firestore-compat","fire-fst-compat"),ve(We,"fire-js","fire-js"),ve(We,"firebase","fire-js-all"),We),at=new Map,ot=new Map;function st(e,t){try{e.container.addComponent(t)}catch(n){nt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ut(e){var t=e.name;if(ot.has(t))return nt.debug("There were multiple attempts to register component ".concat(t,".")),!1;ot.set(t,e);var n,r=le(at.values());try{for(r.s();!(n=r.n()).done;){st(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ct(e,t){return e.container.getProvider(t)}var lt,ht=(ve(Ge={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ve(Ge,"bad-app-name","Illegal App name: '{$appName}"),ve(Ge,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ve(Ge,"app-deleted","Firebase App named '{$appName}' already deleted"),ve(Ge,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ve(Ge,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ge),ft=new Ae("app","Firebase",ht),dt=function(){function e(t,n,r){var i=this;he(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fe("app",(function(){return i}),"PUBLIC"))}return de(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ft.create("app-deleted",{appName:this._name})}}]),e}(),pt="9.6.1";function vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=at.get(e);if(!t)throw ft.create("no-app",{appName:e});return t}function yt(e,t,n){var r,i=null!==(r=it[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void nt.warn(s.join(" "))}ut(new Fe("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}lt="",ut(new Fe("platform-logger",(function(e){return new $e(e)}),"PRIVATE")),yt(et,tt,lt),yt(et,tt,"esm2017"),yt("fire-js","");function mt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var gt;Object.create;function kt(){return ve({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var wt=kt,bt=new Ae("auth","Firebase",kt()),Et=new Ze("@firebase/auth");function xt(e){if(Et.logLevel<=qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Et.error.apply(Et,["Auth (".concat(pt,"): ").concat(e)].concat(n))}}function It(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _t.apply(void 0,[e].concat(n))}function Tt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _t.apply(void 0,[e].concat(n))}function St(e,t,n){var r=Object.assign(Object.assign({},wt()),ve({},t,n));return new Ae("auth","Firebase",r).create(t,{appName:e.name})}function _t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=pe(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(pe(o)))}return bt.create.apply(bt,[e].concat(n))}function At(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _t.apply(void 0,[t].concat(r))}}function Ct(e){var t="INTERNAL ASSERTION FAILED: "+e;throw xt(t),new Error(t)}function Nt(e,t){e||Ct(t)}var Rt=new Map;function Ot(e){Nt(e instanceof Function,"Expected a class definition");var t=Rt.get(e);return t?(Nt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Rt.set(e,t),t)}function Dt(e,t){var n=ct(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Re(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;It(r,"already-initialized")}return n.initialize({options:t})}function Pt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Lt(){return"http:"===Mt()||"https:"===Mt()}function Mt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ut=function(){function e(t,n){he(this,e),this.shortDelay=t,this.longDelay=n,Nt(n>t,"Short delay should be less than long delay!"),this.isMobile=xe()||Te()}return de(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Lt()||Ie()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function jt(e,t){Nt(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ft=function(){function e(){he(this,e)}return de(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ct("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ct("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ct("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Vt=(ve(gt={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ve(gt,"MISSING_CUSTOM_TOKEN","internal-error"),ve(gt,"INVALID_IDENTIFIER","invalid-email"),ve(gt,"MISSING_CONTINUE_URI","internal-error"),ve(gt,"INVALID_PASSWORD","wrong-password"),ve(gt,"MISSING_PASSWORD","internal-error"),ve(gt,"EMAIL_EXISTS","email-already-in-use"),ve(gt,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ve(gt,"INVALID_IDP_RESPONSE","invalid-credential"),ve(gt,"INVALID_PENDING_TOKEN","invalid-credential"),ve(gt,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ve(gt,"MISSING_REQ_TYPE","internal-error"),ve(gt,"EMAIL_NOT_FOUND","user-not-found"),ve(gt,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ve(gt,"EXPIRED_OOB_CODE","expired-action-code"),ve(gt,"INVALID_OOB_CODE","invalid-action-code"),ve(gt,"MISSING_OOB_CODE","internal-error"),ve(gt,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ve(gt,"INVALID_ID_TOKEN","invalid-user-token"),ve(gt,"TOKEN_EXPIRED","user-token-expired"),ve(gt,"USER_NOT_FOUND","user-token-expired"),ve(gt,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ve(gt,"INVALID_CODE","invalid-verification-code"),ve(gt,"INVALID_SESSION_INFO","invalid-verification-id"),ve(gt,"INVALID_TEMPORARY_PROOF","invalid-credential"),ve(gt,"MISSING_SESSION_INFO","missing-verification-id"),ve(gt,"SESSION_EXPIRED","code-expired"),ve(gt,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ve(gt,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ve(gt,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ve(gt,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ve(gt,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ve(gt,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ve(gt,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ve(gt,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ve(gt,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ve(gt,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ve(gt,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),gt),Bt=new Ut(3e4,6e4);function zt(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function qt(e,t,n,r){return Ht.apply(this,arguments)}function Ht(){return Ht=X($().mark((function e(t,n,r,i){var a,o=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Kt(t,a,X($().mark((function e(){var a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=De(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ft.fetch()(Yt(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ht.apply(this,arguments)}function Kt(e,t,n){return Wt.apply(this,arguments)}function Wt(){return Wt=X($().mark((function e(t,n,r){var i,o,s,u,c,l,h,f,d,p;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Vt),n),e.prev=2,o=new Jt(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Xt(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),h=a(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Xt(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw Xt(t,"email-already-in-use",u);case 25:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw St(t,p,d);case 30:It(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof _e)){e.next=37;break}throw e.t0;case 37:It(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Wt.apply(this,arguments)}function Gt(e,t,n,r){return Qt.apply(this,arguments)}function Qt(){return Qt=X($().mark((function e(t,n,r,i){var a,o,s=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,qt(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&It(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Qt.apply(this,arguments)}function Yt(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?jt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Jt=function(){function e(t){var n=this;he(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Tt(n.auth,"timeout"))}),Bt.get())}))}return de(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Xt(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Tt(e,t,r);return i.customData._tokenResponse=n,i}function Zt(e,t){return $t.apply(this,arguments)}function $t(){return $t=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),$t.apply(this,arguments)}function en(e,t){return tn.apply(this,arguments)}function tn(){return tn=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),tn.apply(this,arguments)}function nn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function rn(){return rn=X($().mark((function e(t){var n,r,i,a,o,s,u=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=je(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,At((a=on(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:nn(an(a.auth_time)),issuedAtTime:nn(an(a.iat)),expirationTime:nn(an(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),rn.apply(this,arguments)}function an(e){return 1e3*Number(e)}function on(e){var t=a(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return xt("JWT malformed, contained fewer than 3 sections"),null;try{var o=we(r);return o?JSON.parse(o):(xt("Failed to decode base64 JWT payload"),null)}catch(s){return xt("Caught error parsing JWT payload as JSON",s),null}}function sn(e,t){return un.apply(this,arguments)}function un(){return un=X($().mark((function e(t,n){var r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof _e&&cn(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),un.apply(this,arguments)}function cn(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ln=function(){function e(t){he(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return de(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(X($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),hn=function(){function e(t,n){he(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return de(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=nn(this.lastLoginAt),this.creationTime=nn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function fn(e){return dn.apply(this,arguments)}function dn(){return dn=X($().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,sn(t,en(r,{idToken:i}));case 6:At(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?yn(o.providerUserInfo):[],u=vn(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hn(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),dn.apply(this,arguments)}function pn(){return(pn=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je(t),e.next=3,fn(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(pe(n),pe(t))}function yn(e){return e.map((function(e){var t=e.providerId,n=mt(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function mn(e,t){return gn.apply(this,arguments)}function gn(){return gn=X($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt(t,{},X($().mark((function e(){var r,i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=De({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Yt(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ft.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),gn.apply(this,arguments)}var kn=function(){function e(){he(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return de(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){At(e.idToken,"internal-error"),At("undefined"!==typeof e.idToken,"internal-error"),At("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=on(e);return At(t,"internal-error"),At("undefined"!==typeof t.exp,"internal-error"),At("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=X($().mark((function e(t){var n,r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],At(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=X($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mn(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ct("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(At("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(At("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(At("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function wn(e,t){At("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var bn=function(){function e(t){he(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=mt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new hn(a.createdAt||void 0,a.lastLoginAt||void 0)}return de(e,[{key:"getIdToken",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sn(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(At(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return rn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return pn.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(At(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=X($().mark((function e(t){var n,r,i=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,fn(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,sn(this,Zt(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,E=n.providerData,x=n.stsTokenManager;At(k&&x,t,"internal-error");var I=kn.fromJSON(this.name,x);At("string"===typeof k,t,"internal-error"),wn(h,t.name),wn(f,t.name),At("boolean"===typeof w,t,"internal-error"),At("boolean"===typeof b,t,"internal-error"),wn(d,t.name),wn(p,t.name),wn(v,t.name),wn(y,t.name),wn(m,t.name),wn(g,t.name);var T=new e({uid:k,auth:t,email:f,emailVerified:w,displayName:h,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:m,lastLoginAt:g});return E&&Array.isArray(E)&&(T.providerData=E.map((function(e){return Object.assign({},e)}))),y&&(T._redirectEventId=y),T}},{key:"_fromIdTokenResponse",value:function(){var t=X($().mark((function t(n,r){var i,a,o,s=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new kn).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,fn(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),En=function(){function e(){he(this,e),this.type="NONE",this.storage={}}return de(e,[{key:"_isAvailable",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();En.type="NONE";var xn=En;function In(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Tn=function(){function e(t,n,r){he(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=In(this.userKey,a.apiKey,o),this.fullPersistenceKey=In("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return de(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?bn._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=X($().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ot(xn),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ot(xn),s=In(i,n.config.apiKey,n.name),u=null,c=le(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=bn._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Sn(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Nn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_n(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(On(t))return"Blackberry";if(Dn(t))return"Webos";if(An(t))return"Safari";if((t.includes("chrome/")||Cn(t))&&!t.includes("edge/"))return"Chrome";if(Rn(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function _n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/firefox\//i.test(e)}function An(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Cn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/crios\//i.test(e)}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/iemobile/i.test(e)}function Rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/android/i.test(e)}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/blackberry/i.test(e)}function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/webos/i.test(e)}function Pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/iphone|ipad|ipod/i.test(e)}function Ln(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return Pn(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Mn(){return Se()&&10===document.documentMode}function Un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return Pn(e)||Rn(e)||Dn(e)||On(e)||/windows phone/i.test(e)||Nn(e)}function jn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Sn(Ee());break;case"Worker":t="".concat(Sn(Ee()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(pt,"/").concat(r)}var Fn=function(){function e(t,n){he(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bn(this),this.idTokenSubscription=new Bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return de(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ot(t)),this._initializationPromise=this.queue(X($().mark((function r(){var i,a;return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Tn.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=X($().mark((function e(t){var n,r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return At(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fn(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?je(t):null)&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=X($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(X($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ot(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ae("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=X($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return At(n=t&&Ot(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Tn.create(this,[Ot(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=X($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=X($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return At(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jn(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ve({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vn(e){return je(e)}var Bn=function(){function e(t){var n=this;he(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Me(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return de(e,[{key:"next",get:function(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var zn=function(){function e(t,n){he(this,e),this.providerId=t,this.signInMethod=n}return de(e,[{key:"toJSON",value:function(){return Ct("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ct("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ct("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ct("not implemented")}}]),e}();function qn(e,t){return Hn.apply(this,arguments)}function Hn(){return Hn=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Hn.apply(this,arguments)}function Kn(e,t){return Wn.apply(this,arguments)}function Wn(){return Wn=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gt(t,"POST","/v1/accounts:signInWithPassword",zt(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wn.apply(this,arguments)}function Gn(e,t){return Qn.apply(this,arguments)}function Qn(){return Qn=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gt(t,"POST","/v1/accounts:signInWithEmailLink",zt(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qn.apply(this,arguments)}function Yn(e,t){return Jn.apply(this,arguments)}function Jn(){return Jn=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gt(t,"POST","/v1/accounts:signInWithEmailLink",zt(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jn.apply(this,arguments)}var Xn=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return he(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return de(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Kn(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Gn(t,{email:this._email,oobCode:this._password}));case 5:It(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qn(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Yn(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:It(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(zn);function Zn(e,t){return $n.apply(this,arguments)}function $n(){return $n=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gt(t,"POST","/v1/accounts:signInWithIdp",zt(t,n)));case 1:case"end":return e.stop()}}),e)}))),$n.apply(this,arguments)}var er=function(e){ae(n,e);var t=ce(n);function n(){var e;return he(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return de(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Zn(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zn(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zn(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=De(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):It("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=mt(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(zn);function tr(e,t){return nr.apply(this,arguments)}function nr(){return nr=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qt(t,"POST","/v1/accounts:sendVerificationCode",zt(t,n)));case 1:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}function rr(){return rr=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gt(t,"POST","/v1/accounts:signInWithPhoneNumber",zt(t,n)));case 1:case"end":return e.stop()}}),e)}))),rr.apply(this,arguments)}function ir(){return ir=X($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(t,"POST","/v1/accounts:signInWithPhoneNumber",zt(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Xt(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ir.apply(this,arguments)}var ar=ve({},"USER_NOT_FOUND","user-not-found");function or(){return or=X($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Gt(t,"POST","/v1/accounts:signInWithPhoneNumber",zt(t,r),ar));case 2:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}var sr=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this,"phone","phone")).params=e,r}return de(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return rr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ir.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return or.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(zn);var ur=function(){function e(t){var n,r,i,a,o,s;he(this,e);var u=Pe(Le(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);At(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return de(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Pe(Le(e)).link,n=t?Pe(Le(t)).deep_link_id:null,r=Pe(Le(e)).deep_link_id;return(r?Pe(Le(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Av){return null}}}]),e}();var cr=function(){function e(){he(this,e),this.providerId=e.PROVIDER_ID}return de(e,null,[{key:"credential",value:function(e,t){return Xn._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ur.parseLink(t);return At(n,"argument-error"),Xn._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();cr.PROVIDER_ID="password",cr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",cr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var lr=function(){function e(t){he(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return de(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),hr=function(e){ae(n,e);var t=ce(n);function n(){var e;return he(this,n),(e=t.apply(this,arguments)).scopes=[],e}return de(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return pe(this.scopes)}}]),n}(lr),fr=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.call(this,"facebook.com")}return de(n,null,[{key:"credential",value:function(e){return er._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Av){return null}}}]),n}(hr);fr.FACEBOOK_SIGN_IN_METHOD="facebook.com",fr.PROVIDER_ID="facebook.com";var dr=function(e){ae(n,e);var t=ce(n);function n(){var e;return he(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return de(n,null,[{key:"credential",value:function(e,t){return er._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Av){return null}}}]),n}(hr);dr.GOOGLE_SIGN_IN_METHOD="google.com",dr.PROVIDER_ID="google.com";var pr=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.call(this,"github.com")}return de(n,null,[{key:"credential",value:function(e){return er._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Av){return null}}}]),n}(hr);pr.GITHUB_SIGN_IN_METHOD="github.com",pr.PROVIDER_ID="github.com";var vr=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.call(this,"twitter.com")}return de(n,null,[{key:"credential",value:function(e,t){return er._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Av){return null}}}]),n}(hr);vr.TWITTER_SIGN_IN_METHOD="twitter.com",vr.PROVIDER_ID="twitter.com";var yr=function(){function e(t){he(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return de(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=X($().mark((function t(n,r,i){var a,o,s,u,c=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,bn._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=mr(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=X($().mark((function t(n,r,i){var a;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=mr(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function mr(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var gr=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a){var o,s;return he(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(re(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return de(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(_e);function kr(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw gr._fromErrorAndOperation(e,n,t,r);throw n}))}function wr(e,t){return br.apply(this,arguments)}function br(){return br=X($().mark((function e(t,n){var r,i,a=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=sn,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",yr._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),br.apply(this,arguments)}function Er(e,t){return xr.apply(this,arguments)}function xr(){return xr=X($().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,sn(t,kr(i,a,n,t),r);case 6:return At((o=e.sent).idToken,i,"internal-error"),At(s=on(o.idToken),i,"internal-error"),u=s.sub,At(t.uid===u,i,"user-mismatch"),e.abrupt("return",yr._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&It(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),xr.apply(this,arguments)}function Ir(e,t){return Tr.apply(this,arguments)}function Tr(){return Tr=X($().mark((function e(t,n){var r,i,a,o,s=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,kr(t,i,n);case 4:return a=e.sent,e.next=7,yr._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Tr.apply(this,arguments)}function Sr(e,t){return _r.apply(this,arguments)}function _r(){return _r=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ir(Vn(t),n));case 1:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function Ar(e,t,n){return Sr(je(e),cr.credential(t,n))}function Cr(e,t){return qt(e,"POST","/v2/accounts/mfaEnrollment:start",zt(e,t))}new WeakMap;var Nr="__sak",Rr=function(){function e(t,n){he(this,e),this.storageRetriever=t,this.type=n}return de(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Nr,"1"),this.storage.removeItem(Nr),Promise.resolve(!0)):Promise.resolve(!1)}catch(Av){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Or=function(e){ae(n,e);var t=ce(n);function n(){var e;return he(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ee();return An(e)||Pn(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Un(),e._shouldAllowMigration=!0,e}return de(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Mn()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=X($().mark((function e(t,r){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(ee(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=X($().mark((function e(t){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(ee(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(ee(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Rr);Or.type="LOCAL";var Dr=Or,Pr=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return de(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Rr);Pr.type="SESSION";var Lr=Pr;function Mr(e){return Promise.all(e.map(function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ur=function(){function e(t){he(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return de(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=X($().mark((function e(t){var n,r,i,a,o,s,u,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Mr(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function jr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ur.receivers=[];var Fr=function(){function e(t){he(this,e),this.target=t,this.handlers=new Set}return de(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=X($().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=jr("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Vr(){return window}function Br(){return"undefined"!==typeof Vr().WorkerGlobalScope&&"function"===typeof Vr().importScripts}function zr(){return qr.apply(this,arguments)}function qr(){return(qr=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Hr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Kr="firebaseLocalStorageDb",Wr="firebaseLocalStorage",Gr="fbase_key",Qr=function(){function e(t){he(this,e),this.request=t}return de(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Yr(e,t){return e.transaction([Wr],t?"readwrite":"readonly").objectStore(Wr)}function Jr(){var e=indexedDB.deleteDatabase(Kr);return new Qr(e).toPromise()}function Xr(){var e=indexedDB.open(Kr,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Wr,{keyPath:Gr})}catch(r){n(r)}})),e.addEventListener("success",X($().mark((function n(){var r;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Wr)){n.next=12;break}return r.close(),n.next=5,Jr();case 5:return n.t0=t,n.next=8,Xr();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Zr(e,t,n){return $r.apply(this,arguments)}function $r(){return $r=X($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Yr(t,!0).put((ve(i={},Gr,n),ve(i,"value",r),i)),e.abrupt("return",new Qr(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yr(t,!1).get(n),e.next=3,new Qr(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e,t){var n=Yr(e,!0).delete(t);return new Qr(n).toPromise()}var ri=function(){function e(){he(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return de(e,[{key:"_openDb",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Xr();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=X($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=X($().mark((function e(){var t=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ur._getInstance(Br()?self:null),this.receiver._subscribe("keyChanged",function(){var e=X($().mark((function e(n,r){var i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=X($().mark((function e(){var t,n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zr();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Fr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Hr()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Xr();case 5:return t=e.sent,e.next=8,Zr(t,Nr,"1");case 8:return e.next=10,ni(t,Nr);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=X($().mark((function e(t,n){var r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Zr(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ei(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=X($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ni(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=X($().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Yr(e,!1).getAll();return new Qr(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=le(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(X($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ri.type="LOCAL";var ii=ri;function ai(e,t){return qt(e,"POST","/v2/accounts/mfaSignIn:start",zt(e,t))}function oi(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Tt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function si(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}si("rcb"),new Ut(3e4,6e4);var ui="recaptcha";function ci(e,t,n){return li.apply(this,arguments)}function li(){return li=X($().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,At("string"===typeof a,t,"argument-error"),At(r.type===ui,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return At("enroll"===s.type,t,"internal-error"),e.next=13,Cr(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return At("signin"===s.type,t,"internal-error"),At(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ai(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,tr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),li.apply(this,arguments)}var hi=function(){function e(t){he(this,e),this.providerId=e.PROVIDER_ID,this.auth=Vn(t)}return de(e,[{key:"verifyPhoneNumber",value:function(e,t){return ci(this.auth,e,je(t))}}],[{key:"credential",value:function(e,t){return sr._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?sr._fromTokenResponse(n,r):null}}]),e}();function fi(e,t){return t?Ot(t):(At(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}hi.PROVIDER_ID="phone",hi.PHONE_SIGN_IN_METHOD="phone";var di=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this,"custom","custom")).params=e,r}return de(n,[{key:"_getIdTokenResponse",value:function(e){return Zn(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Zn(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Zn(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(zn);function pi(e){return Ir(e.auth,new di(e),e.bypassAuthState)}function vi(e){var t=e.auth,n=e.user;return At(n,t,"internal-error"),Er(n,new di(e),e.bypassAuthState)}function yi(e){return mi.apply(this,arguments)}function mi(){return mi=X($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,At(r=t.user,n,"internal-error"),e.abrupt("return",wr(r,new di(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}var gi=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];he(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return de(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=X($().mark((function t(n,r){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=X($().mark((function e(t){var n,r,i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pi;case"linkViaPopup":case"linkViaRedirect":return yi;case"reauthViaPopup":case"reauthViaRedirect":return vi;default:It(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ki=new Ut(2e3,1e4);var wi=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a,o){var s;return he(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=re(s),s}return de(n,[{key:"executeNotNull",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return At(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=X($().mark((function e(){var t,n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nt(1===this.filter.length,"Popup operations only handle one event"),t=jr(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Tt(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Tt(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Tt(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ki.get())}()}}]),n}(gi);wi.currentPopupAction=null;var bi=new Map,Ei=function(e){ae(n,e);var t=ce(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return he(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return de(n,[{key:"execute",value:function(){var e=X($().mark((function e(){var t,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=bi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,xi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ne(ee(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:bi.set(this.auth._key(),t);case 21:return this.bypassAuthState||bi.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=X($().mark((function e(t){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ne(ee(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ne(ee(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(gi);function xi(e,t){return Ii.apply(this,arguments)}function Ii(){return Ii=X($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Si(n),i=Ti(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Ii.apply(this,arguments)}function Ti(e){return Ot(e._redirectPersistence)}function Si(e){return In("pendingRedirect",e.config.apiKey,e.name)}function _i(e,t){return Ai.apply(this,arguments)}function Ai(){return Ai=X($().mark((function e(t,n){var r,i,a,o,s,u=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Vn(t),a=fi(i,n),o=new Ei(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}var Ci=function(){function e(t){he(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return de(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ri(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Ri(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Tt(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ni(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ni(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ni(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Ri(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Oi(e){return Di.apply(this,arguments)}function Di(){return Di=X($().mark((function e(t){var n,r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",qt(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}var Pi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Li=/^https?/;function Mi(){return Mi=X($().mark((function e(t){var n,r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Oi(t);case 4:n=e.sent,r=n.authorizedDomains,i=le(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ui(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:It(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Mi.apply(this,arguments)}function Ui(e){var t=Pt(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Li.test(r))return!1;if(Pi.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ji=new Ut(3e4,6e4);function Fi(){var e=Vr().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=pe(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Vi=null;function Bi(e){return Vi=Vi||function(e){return new Promise((function(t,n){var r,i,a;function o(){Fi(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Fi(),n(Tt(e,"network-request-failed"))},timeout:ji.get()})}if(null===(i=null===(r=Vr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Vr().gapi)||void 0===a?void 0:a.load)){var s=si("iframefcb");return Vr()[s]=function(){gapi.load?o():n(Tt(e,"network-request-failed"))},oi("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Vi=null,e}))}(e),Vi}var zi=new Ut(5e3,15e3),qi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ki(e){var t=e.config;At(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?jt(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:pt},i=Hi.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(De(r).slice(1))}function Wi(e){return Gi.apply(this,arguments)}function Gi(){return Gi=X($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bi(t);case 2:return n=e.sent,At(r=Vr().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ki(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qi,dontclear:!0},(function(e){return new Promise(function(){var n=X($().mark((function n(r,i){var a,o,s;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Vr().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Tt(t,"network-request-failed"),o=Vr().setTimeout((function(){i(a)}),zi.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Gi.apply(this,arguments)}var Qi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yi="_blank",Ji="http://localhost",Xi=function(){function e(t){he(this,e),this.window=t,this.associatedEvent=null}return de(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Zi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},Qi),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ee().toLowerCase();n&&(u=Cn(l)?Yi:n),_n(l)&&(t=t||Ji,c.scrollbars="yes");var h=Object.entries(c).reduce((function(e,t){var n=a(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ln(l)&&"_self"!==u)return $i(t||"",u),new Xi(null);var f=window.open(t||"",u,h);At(f,e,"popup-blocked");try{f.focus()}catch(d){}return new Xi(f)}function $i(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ea="__/auth/handler",ta="emulator/auth/handler";function na(e,t,n,r,i,o){At(e.config.authDomain,e,"auth-domain-config-required"),At(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:pt,eventId:i};if(t instanceof lr){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(o||{});u<c.length;u++){var l=a(c[u],2),h=l[0],f=l[1];s[h]=f}}if(t instanceof hr){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ea);return jt(t,ta)}(e),"?").concat(De(p).slice(1))}var ra="webStorageSupport",ia=function(){function e(){he(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lr,this._completeRedirectFn=_i}return de(e,[{key:"_openPopup",value:function(){var e=X($().mark((function e(t,n,r,i){var a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nt(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=na(t,n,r,Pt(),i),e.abrupt("return",Zi(t,o,jr()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=X($().mark((function e(t,n,r,i){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=na(t,n,r,Pt(),i),Vr().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Nt(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=X($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi(t);case 2:return n=e.sent,r=new Ci(t),n.register("authEvent",(function(e){return At(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(ra,{type:ra},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),It(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Mi.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Un()||An()||Pn()}}]),e}(),aa=ia,oa=function(){function e(t){he(this,e),this.factorId=t}return de(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ct("unexpected MultiFactorSessionType")}}}]),e}(),sa=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this,"phone")).credential=e,r}return de(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return qt(e,"POST","/v2/accounts/mfaEnrollment:finalize",zt(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return qt(e,"POST","/v2/accounts/mfaSignIn:finalize",zt(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(oa);(function(){function e(){he(this,e)}return de(e,null,[{key:"assertion",value:function(e){return sa._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var ua,ca="@firebase/auth",la="0.19.4",ha=function(){function e(t){he(this,e),this.auth=t,this.internalListeners=new Map}return de(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();ua="Browser",ut(new Fe("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){At(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),At(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:ua,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jn(ua)},r=new Fn(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ot);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ut(new Fe("auth-internal",(function(e){return function(e){return new ha(e)}(Vn(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),yt(ca,la,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ua)),yt(ca,la,"esm2017");var fa=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},da={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fa(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},pa=function(e){try{return da.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var va=function(){function e(){var t=this;he(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return de(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ya(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ma(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ya())}function ga(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ka(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function wa(){var e=ya();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}var ba=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(re(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(re(a),Ea.prototype.create),a}return de(n)}(me(Error)),Ea=function(){function e(t,n,r){he(this,e),this.service=t,this.serviceName=n,this.errors=r}return de(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?xa(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ba(n,a,t);return o}}]),e}();function xa(e,t){return e.replace(Ia,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ia=/\{\$([^}]+)}/g;function Ta(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Sa(s)&&Sa(u)){if(!Ta(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function Sa(e){return null!==e&&"object"===typeof e}function _a(e){for(var t=[],n=function(){var e=a(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Aa(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=a(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ca(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Na=function(){function e(t,n){var r=this;he(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return de(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=le(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ra),void 0===r.error&&(r.error=Ra),void 0===r.complete&&(r.complete=Ra);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ra(){}function Oa(e){return e&&e._delegate?e._delegate:e}var Da=function(){function e(t,n,r){he(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return de(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Pa="[DEFAULT]",La=function(){function e(t,n){he(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return de(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new va;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch(c){}var t,n=le(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=a(t.value,2),i=r[0],o=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=X(Z.mark((function e(){var t;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(pe(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),pe(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=le(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=a(i.value,2),c=u[0],l=u[1],h=this.normalizeInstanceIdentifier(c);r===h&&l.resolve(o)}}catch(f){s.e(f)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Av){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Pa?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Av){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pa;return this.component?this.component.multipleInstances?e:Pa:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ma,Ua,ja=function(){function e(t){he(this,e),this.name=t,this.providers=new Map}return de(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new La(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Fa=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ua||(Ua={}));var Va,Ba,za={debug:Ua.DEBUG,verbose:Ua.VERBOSE,info:Ua.INFO,warn:Ua.WARN,error:Ua.ERROR,silent:Ua.SILENT},qa=Ua.INFO,Ha=(ve(Ma={},Ua.DEBUG,"log"),ve(Ma,Ua.VERBOSE,"log"),ve(Ma,Ua.INFO,"info"),ve(Ma,Ua.WARN,"warn"),ve(Ma,Ua.ERROR,"error"),Ma),Ka=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ha[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Wa=function(){function e(t){he(this,e),this.name=t,this._logLevel=qa,this._logHandler=Ka,this._userLogHandler=null,Fa.push(this)}return de(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ua))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?za[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ua.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ua.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ua.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ua.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ua.INFO].concat(t)),this._logHandler.apply(this,[this,Ua.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ua.WARN].concat(t)),this._logHandler.apply(this,[this,Ua.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ua.ERROR].concat(t)),this._logHandler.apply(this,[this,Ua.ERROR].concat(t))}}]),e}();var Ga=function(){function e(t){he(this,e),this.container=t}return de(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Qa="@firebase/app",Ya="0.7.11",Ja=new Wa("@firebase/app"),Xa="[DEFAULT]",Za=(ve(Va={},Qa,"fire-core"),ve(Va,"@firebase/app-compat","fire-core-compat"),ve(Va,"@firebase/analytics","fire-analytics"),ve(Va,"@firebase/analytics-compat","fire-analytics-compat"),ve(Va,"@firebase/app-check","fire-app-check"),ve(Va,"@firebase/app-check-compat","fire-app-check-compat"),ve(Va,"@firebase/auth","fire-auth"),ve(Va,"@firebase/auth-compat","fire-auth-compat"),ve(Va,"@firebase/database","fire-rtdb"),ve(Va,"@firebase/database-compat","fire-rtdb-compat"),ve(Va,"@firebase/functions","fire-fn"),ve(Va,"@firebase/functions-compat","fire-fn-compat"),ve(Va,"@firebase/installations","fire-iid"),ve(Va,"@firebase/installations-compat","fire-iid-compat"),ve(Va,"@firebase/messaging","fire-fcm"),ve(Va,"@firebase/messaging-compat","fire-fcm-compat"),ve(Va,"@firebase/performance","fire-perf"),ve(Va,"@firebase/performance-compat","fire-perf-compat"),ve(Va,"@firebase/remote-config","fire-rc"),ve(Va,"@firebase/remote-config-compat","fire-rc-compat"),ve(Va,"@firebase/storage","fire-gcs"),ve(Va,"@firebase/storage-compat","fire-gcs-compat"),ve(Va,"@firebase/firestore","fire-fst"),ve(Va,"@firebase/firestore-compat","fire-fst-compat"),ve(Va,"fire-js","fire-js"),ve(Va,"firebase","fire-js-all"),Va),$a=new Map,eo=new Map;function to(e,t){try{e.container.addComponent(t)}catch(n){Ja.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function no(e){var t=e.name;if(eo.has(t))return Ja.debug("There were multiple attempts to register component ".concat(t,".")),!1;eo.set(t,e);var n,r=le($a.values());try{for(r.s();!(n=r.n()).done;){to(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ro(e,t){return e.container.getProvider(t)}var io=(ve(Ba={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ve(Ba,"bad-app-name","Illegal App name: '{$appName}"),ve(Ba,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ve(Ba,"app-deleted","Firebase App named '{$appName}' already deleted"),ve(Ba,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ve(Ba,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ba),ao=new Ea("app","Firebase",io),oo=function(){function e(t,n,r){var i=this;he(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Da("app",(function(){return i}),"PUBLIC"))}return de(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}]),e}(),so="9.6.1";function uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=$a.get(e);if(!t)throw ao.create("no-app",{appName:e});return t}function co(e,t,n){var r,i=null!==(r=Za[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ja.warn(s.join(" "))}no(new Da("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}!function(e){no(new Da("platform-logger",(function(e){return new Ga(e)}),"PRIVATE")),co(Qa,Ya,e),co(Qa,Ya,"esm2017"),co("fire-js","")}("");co("firebase","9.6.1","app");var lo,ho="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},fo={},po=po||{},vo=ho||self;function yo(){}function mo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function go(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ko="closure_uid_"+(1e9*Math.random()>>>0),wo=0;function bo(e,t,n){return e.call.apply(e.bind,arguments)}function Eo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function xo(e,t,n){return(xo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bo:Eo).apply(null,arguments)}function Io(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function To(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function So(){this.s=this.s,this.o=this.o}var _o={};So.prototype.s=!1,So.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ko)&&e[ko]||(e[ko]=++wo)}(this);delete _o[e]}},So.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ao=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Co=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function No(e){return Array.prototype.concat.apply([],arguments)}function Ro(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Oo(e){return/^[\s\xa0]*$/.test(e)}var Do,Po=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Lo(e,t){return-1!=e.indexOf(t)}function Mo(e,t){return e<t?-1:e>t?1:0}e:{var Uo=vo.navigator;if(Uo){var jo=Uo.userAgent;if(jo){Do=jo;break e}}Do=""}function Fo(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Vo(e){var t={};for(var n in e)t[n]=e[n];return t}var Bo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zo(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Bo.length;a++)n=Bo[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function qo(e){return qo[" "](e),e}qo[" "]=yo;var Ho,Ko=Lo(Do,"Opera"),Wo=Lo(Do,"Trident")||Lo(Do,"MSIE"),Go=Lo(Do,"Edge"),Qo=Go||Wo,Yo=Lo(Do,"Gecko")&&!(Lo(Do.toLowerCase(),"webkit")&&!Lo(Do,"Edge"))&&!(Lo(Do,"Trident")||Lo(Do,"MSIE"))&&!Lo(Do,"Edge"),Jo=Lo(Do.toLowerCase(),"webkit")&&!Lo(Do,"Edge");function Xo(){var e=vo.document;return e?e.documentMode:void 0}e:{var Zo="",$o=function(){var e=Do;return Yo?/rv:([^\);]+)(\)|;)/.exec(e):Go?/Edge\/([\d\.]+)/.exec(e):Wo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Jo?/WebKit\/(\S+)/.exec(e):Ko?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($o&&(Zo=$o?$o[1]:""),Wo){var es=Xo();if(null!=es&&es>parseFloat(Zo)){Ho=String(es);break e}}Ho=Zo}var ts,ns={};function rs(){return function(e){var t=ns;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Po(String(Ho)).split("."),n=Po("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Mo(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Mo(0==a[2].length,0==o[2].length)||Mo(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(vo.document&&Wo){var is=Xo();ts=is||(parseInt(Ho,10)||void 0)}else ts=void 0;var as=ts,os=function(){if(!vo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{vo.addEventListener("test",yo,t),vo.removeEventListener("test",yo,t)}catch(n){}return e}();function ss(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function us(e,t){if(ss.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Yo){e:{try{qo(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:cs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&us.Z.h.call(this)}}ss.prototype.h=function(){this.defaultPrevented=!0},To(us,ss);var cs={2:"touch",3:"pen",4:"mouse"};us.prototype.h=function(){us.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ls="closure_listenable_"+(1e6*Math.random()|0),hs=0;function fs(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++hs,this.ca=this.fa=!1}function ds(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ps(e){this.src=e,this.g={},this.h=0}function vs(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ao(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ds(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ys(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}ps.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ys(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fs(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ms="closure_lm_"+(1e6*Math.random()|0),gs={};function ks(e,t,n,r,i){if(r&&r.once)return bs(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ks(e,t[a],n,r,i);return null}return n=As(n),e&&e[ls]?e.N(t,n,go(r)?!!r.capture:!!r,i):ws(e,t,n,!1,r,i)}function ws(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=go(i)?!!i.capture:!!i,s=Ss(e);if(s||(e[ms]=s=new ps(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ts;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)os||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Is(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function bs(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)bs(e,t[a],n,r,i);return null}return n=As(n),e&&e[ls]?e.O(t,n,go(r)?!!r.capture:!!r,i):ws(e,t,n,!0,r,i)}function Es(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Es(e,t[a],n,r,i);else r=go(r)?!!r.capture:!!r,n=As(n),e&&e[ls]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ys(a=e.g[t],n,r,i))&&(ds(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ss(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ys(t,n,r,i)),(n=-1<e?t[e]:null)&&xs(n))}function xs(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ls])vs(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Is(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ss(t))?(vs(n,e),0==n.h&&(n.src=null,t[ms]=null)):ds(e)}}}function Is(e){return e in gs?gs[e]:gs[e]="on"+e}function Ts(e,t){if(e.ca)e=!0;else{t=new us(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&xs(e),e=n.call(r,t)}return e}function Ss(e){return(e=e[ms])instanceof ps?e:null}var _s="__closure_events_fn_"+(1e9*Math.random()>>>0);function As(e){return"function"===typeof e?e:(e[_s]||(e[_s]=function(t){return e.handleEvent(t)}),e[_s])}function Cs(){So.call(this),this.i=new ps(this),this.P=this,this.I=null}function Ns(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ss(t,e);else if(t instanceof ss)t.target=t.target||e;else{var i=t;zo(t=new ss(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Rs(o,r,!0,t)&&i}if(i=Rs(o=t.g=e,r,!0,t)&&i,i=Rs(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Rs(o=t.g=n[a],r,!1,t)&&i}function Rs(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&vs(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}To(Cs,So),Cs.prototype[ls]=!0,Cs.prototype.removeEventListener=function(e,t,n,r){Es(this,e,t,n,r)},Cs.prototype.M=function(){if(Cs.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ds(n[r]);delete t.g[e],t.h--}}this.I=null},Cs.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Cs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Os=vo.JSON.stringify;function Ds(){var e=Bs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ps,Ls=function(){function e(){he(this,e),this.h=this.g=null}return de(e,[{key:"add",value:function(e,t){var n=Ms.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ms=new(function(){function e(t,n){he(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return de(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Us}),(function(e){return e.reset()})),Us=function(){function e(){he(this,e),this.next=this.g=this.h=null}return de(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function js(e){vo.setTimeout((function(){throw e}),0)}function Fs(e,t){Ps||function(){var e=vo.Promise.resolve(void 0);Ps=function(){e.then(zs)}}(),Vs||(Ps(),Vs=!0),Bs.add(e,t)}var Vs=!1,Bs=new Ls;function zs(){for(var e;e=Ds();){try{e.h.call(e.g)}catch(n){js(n)}var t=Ms;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vs=!1}function qs(e,t){Cs.call(this),this.h=e||1,this.g=t||vo,this.j=xo(this.kb,this),this.l=Date.now()}function Hs(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ks(e,t,n){if("function"===typeof e)n&&(e=xo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=xo(e.handleEvent,e)}return 2147483647<Number(t)?-1:vo.setTimeout(e,t||0)}function Ws(e){e.g=Ks((function(){e.g=null,e.i&&(e.i=!1,Ws(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}To(qs,Cs),(lo=qs.prototype).da=!1,lo.S=null,lo.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ns(this,"tick"),this.da&&(Hs(this),this.start()))}},lo.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lo.M=function(){qs.Z.M.call(this),Hs(this),delete this.g};var Gs=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return de(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ws(this)}},{key:"M",value:function(){ne(ee(n.prototype),"M",this).call(this),this.g&&(vo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(So);function Qs(e){So.call(this),this.h=e,this.g={}}To(Qs,So);var Ys=[];function Js(e,t,n,r){Array.isArray(n)||(n&&(Ys[0]=n.toString()),n=Ys);for(var i=0;i<n.length;i++){var a=ks(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Xs(e){Fo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xs(e)}),e),e.g={}}function Zs(){this.g=!0}function $s(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Os(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Qs.prototype.M=function(){Qs.Z.M.call(this),Xs(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zs.prototype.Aa=function(){this.g=!1},Zs.prototype.info=function(){};var eu={},tu=null;function nu(){return tu=tu||new Cs}function ru(e){ss.call(this,eu.Ma,e)}function iu(e){var t=nu();Ns(t,new ru(t,e))}function au(e,t){ss.call(this,eu.STAT_EVENT,e),this.stat=t}function ou(e){var t=nu();Ns(t,new au(t,e))}function su(e,t){ss.call(this,eu.Na,e),this.size=t}function uu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return vo.setTimeout((function(){e()}),t)}eu.Ma="serverreachability",To(ru,ss),eu.STAT_EVENT="statevent",To(au,ss),eu.Na="timingevent",To(su,ss);var cu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hu(){}function fu(e){return e.h||(e.h=e.i())}function du(){}hu.prototype.h=null;var pu,vu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function yu(){ss.call(this,"d")}function mu(){ss.call(this,"c")}function gu(){}function ku(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Qs(this),this.P=bu,e=Qo?125:void 0,this.W=new qs(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wu}function wu(){this.i=null,this.g="",this.h=!1}To(yu,ss),To(mu,ss),To(gu,hu),gu.prototype.g=function(){return new XMLHttpRequest},gu.prototype.i=function(){return{}},pu=new gu;var bu=45e3,Eu={},xu={};function Iu(e,t,n){e.K=1,e.v=Gu(Bu(t)),e.s=n,e.U=!0,Tu(e,null)}function Tu(e,t){e.F=Date.now(),Cu(e),e.A=Bu(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),oc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new wu,e.g=ul(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Gs(xo(e.Ia,e,e.g),e.O)),Js(e.V,e.g,"readystatechange",e.gb),t=e.H?Vo(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),iu(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Su(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function _u(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Au(e,n))==xu){4==t&&(e.o=4,ou(14),i=!1),$s(e.j,e.m,null,"[Incomplete Response]");break}if(r==Eu){e.o=4,ou(15),$s(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$s(e.j,e.m,r,null),Pu(e,r)}Su(e)&&r!=xu&&r!=Eu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ou(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),el(t),t.L=!0,ou(11))):($s(e.j,e.m,n,"[Invalid Chunked Response]"),Du(e),Ou(e))}function Au(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xu:(n=Number(t.substring(n,r)),isNaN(n)?Eu:(r+=1)+n>t.length?xu:(t=t.substr(r,n),e.C=r+n,t))}function Cu(e){e.Y=Date.now()+e.P,Nu(e,e.P)}function Nu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=uu(xo(e.eb,e),t)}function Ru(e){e.B&&(vo.clearTimeout(e.B),e.B=null)}function Ou(e){0==e.l.G||e.I||rl(e.l,e)}function Du(e){Ru(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Hs(e.W),Xs(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||pc(n.i,e)))if(n.I=e.N,!e.J&&pc(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;nl(n),Kc(n)}$c(n),ou(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=uu(xo(n.ab,n),6e3));if(1>=dc(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else al(n,11)}else if((e.J||n.g==e)&&nl(n),!Oo(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Lo(l,"spdy")||Lo(l,"quic")||Lo(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(vc(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Wu(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=sl(r,r.H?r.la:null,r.W),d.J){yc(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ru(p),Cu(p)),r.g=d}else Zc(r);0<n.l.length&&Qc(n)}else"stop"!=a[0]&&"close"!=a[0]||al(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?al(n,7):Hc(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}iu(4)}catch(a){}}function Lu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(mo(e)||"string"===typeof e)Co(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(mo(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(mo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Mu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Mu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Uu(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ju(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ju(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ju(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(lo=ku.prototype).setTimeout=function(e){this.P=e},lo.gb=function(e){e=e.target;var t=this.L;t&&3==Fc(e)?t.l():this.Ia(e)},lo.Ia=function(e){try{if(e==this.g)e:{var t=Fc(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Qo||this.g&&(this.h.h||this.g.ga()||Vc(this.g)))){this.I||4!=t||7==n||iu(8==n||0>=r?3:2),Ru(this);var i=this.g.ba();this.N=i;t:if(Su(this)){var a=Vc(this.g);e="";var o=a.length,s=4==Fc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Du(this),Ou(this);var u="";break t}this.h.i=new vo.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oo(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,ou(12),Du(this),Ou(this);break e}$s(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pu(this,i)}this.U?(_u(this,t,u),Qo&&this.i&&3==t&&(Js(this.V,this.W,"tick",this.fb),this.W.start())):($s(this.j,this.m,u,null),Pu(this,u)),4==t&&Du(this),this.i&&!this.I&&(4==t?rl(this.l,this):(this.i=!1,Cu(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ou(12)):(this.o=0,ou(13)),Du(this),Ou(this)}}}catch(t){}},lo.fb=function(){if(this.g){var e=Fc(this.g),t=this.g.ga();this.C<t.length&&(Ru(this),_u(this,e,t),this.i&&4!=e&&Cu(this))}},lo.cancel=function(){this.I=!0,Du(this)},lo.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(iu(3),ou(17)),Du(this),this.o=2,Ou(this)):Nu(this,this.Y-e)},(lo=Mu.prototype).R=function(){Uu(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},lo.T=function(){return Uu(this),this.g.concat()},lo.get=function(e,t){return ju(this.h,e)?this.h[e]:t},lo.set=function(e,t){ju(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},lo.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Fu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vu(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Vu){this.g=void 0!==t?t:e.g,zu(this,e.j),this.s=e.s,qu(this,e.i),Hu(this,e.m),this.l=e.l,t=e.h;var n=new nc;n.i=t.i,t.g&&(n.g=new Mu(t.g),n.h=t.h),Ku(this,n),this.o=e.o}else e&&(n=String(e).match(Fu))?(this.g=!!t,zu(this,n[1]||"",!0),this.s=Qu(n[2]||""),qu(this,n[3]||"",!0),Hu(this,n[4]),this.l=Qu(n[5]||"",!0),Ku(this,n[6]||"",!0),this.o=Qu(n[7]||"")):(this.g=!!t,this.h=new nc(null,this.g))}function Bu(e){return new Vu(e)}function zu(e,t,n){e.j=n?Qu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qu(e,t,n){e.i=n?Qu(t,!0):t}function Hu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ku(e,t,n){t instanceof nc?(e.h=t,function(e,t){t&&!e.j&&(rc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ic(this,t),oc(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Yu(t,ec)),e.h=new nc(t,e.g))}function Wu(e,t,n){e.h.set(t,n)}function Gu(e){return Wu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Qu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yu(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ju),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ju(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yu(t,Xu,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Yu(t,Xu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yu(n,"/"==n.charAt(0)?$u:Zu,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yu(n,tc)),e.join("")};var Xu=/[#\/\?@]/g,Zu=/[#\?:]/g,$u=/[#\?]/g,ec=/[#\?@]/g,tc=/#/g;function nc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function rc(e){e.g||(e.g=new Mu,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ic(e,t){rc(e),t=sc(e,t),ju(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ju((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Uu(e)))}function ac(e,t){return rc(e),t=sc(e,t),ju(e.g.h,t)}function oc(e,t,n){ic(e,t),0<n.length&&(e.i=null,e.g.set(sc(e,t),Ro(n)),e.h+=n.length)}function sc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(lo=nc.prototype).add=function(e,t){rc(this),this.i=null,e=sc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},lo.forEach=function(e,t){rc(this),this.g.forEach((function(n,r){Co(n,(function(n){e.call(t,n,r,this)}),this)}),this)},lo.T=function(){rc(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},lo.R=function(e){rc(this);var t=[];if("string"===typeof e)ac(this,e)&&(t=No(t,this.g.get(sc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=No(t,e[n])}return t},lo.set=function(e,t){return rc(this),this.i=null,ac(this,e=sc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},lo.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},lo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var uc=de((function e(t,n){he(this,e),this.h=t,this.g=n}));function cc(e){this.l=e||hc,vo.PerformanceNavigationTiming?e=0<(e=vo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(vo.g&&vo.g.Ea&&vo.g.Ea()&&vo.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lc,hc=10;function fc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dc(e){return e.h?1:e.g?e.g.size:0}function pc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vc(e,t){e.g?e.g.add(t):e.h=t}function yc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mc(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=le(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ro(e.i)}function gc(){}function kc(){this.g=new gc}function wc(e,t,n){var r=n||"";try{Lu(e,(function(e,n){var i=e;go(e)&&(i=Os(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Ec(e){this.l=e.$b||null,this.j=e.ib||!1}function xc(e,t){Cs.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ic,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cc.prototype.cancel=function(){if(this.i=mc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=le(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},gc.prototype.stringify=function(e){return vo.JSON.stringify(e,void 0)},gc.prototype.parse=function(e){return vo.JSON.parse(e,void 0)},To(Ec,hu),Ec.prototype.g=function(){return new xc(this.l,this.j)},Ec.prototype.i=(lc={},function(){return lc}),To(xc,Cs);var Ic=0;function Tc(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Sc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_c(e)}function _c(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(lo=xc.prototype).open=function(e,t){if(this.readyState!=Ic)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_c(this)},lo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||vo).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},lo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sc(this)),this.readyState=Ic},lo.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_c(this)),this.g&&(this.readyState=3,_c(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof vo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tc(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},lo.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sc(this):_c(this),3==this.readyState&&Tc(this)}},lo.Ua=function(e){this.g&&(this.response=this.responseText=e,Sc(this))},lo.Ta=function(e){this.g&&(this.response=e,Sc(this))},lo.ha=function(){this.g&&Sc(this)},lo.setRequestHeader=function(e,t){this.v.append(e,t)},lo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},lo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ac=vo.JSON.parse;function Cc(e){Cs.call(this),this.headers=new Mu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Nc,this.K=this.L=!1}To(Cc,Cs);var Nc="",Rc=/^https?$/i,Oc=["POST","PUT"];function Dc(e){return"content-type"==e.toLowerCase()}function Pc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Lc(e),Uc(e)}function Lc(e){e.D||(e.D=!0,Ns(e,"complete"),Ns(e,"error"))}function Mc(e){if(e.h&&"undefined"!=typeof po&&(!e.C[1]||4!=Fc(e)||2!=e.ba()))if(e.v&&4==Fc(e))Ks(e.Fa,0,e);else if(Ns(e,"readystatechange"),4==Fc(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Fu)[1]||null;if(!a&&vo.self&&vo.self.location){var o=vo.self.location.protocol;a=o.substr(0,o.length-1)}i=!Rc.test(a?a.toLowerCase():"")}t=i}if(t)Ns(e,"complete"),Ns(e,"success");else{e.m=6;try{var s=2<Fc(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Lc(e)}}finally{Uc(e)}}}function Uc(e,t){if(e.g){jc(e);var n=e.g,r=e.C[0]?yo:null;e.g=null,e.C=null,t||Ns(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function jc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(vo.clearTimeout(e.A),e.A=null)}function Fc(e){return e.g?e.g.readyState:0}function Vc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Nc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Bc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Fo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wu(e,t,n))}function zc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qc(e){this.za=0,this.l=[],this.h=new Zs,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zc("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zc("baseRetryDelayMs",5e3,e),this.$a=zc("retryDelaySeedMs",1e4,e),this.Ya=zc("forwardChannelMaxRetries",2,e),this.ra=zc("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new cc(e&&e.concurrentRequestLimit),this.Ca=new kc,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Hc(e){if(Wc(e),3==e.G){var t=e.V++,n=Bu(e.F);Wu(n,"SID",e.J),Wu(n,"RID",t),Wu(n,"TYPE","terminate"),Jc(e,n),(t=new ku(e,e.h,t,void 0)).K=2,t.v=Gu(Bu(n)),n=!1,vo.navigator&&vo.navigator.sendBeacon&&(n=vo.navigator.sendBeacon(t.v.toString(),"")),!n&&vo.Image&&((new Image).src=t.v,n=!0),n||(t.g=ul(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Cu(t)}ol(e)}function Kc(e){e.g&&(el(e),e.g.cancel(),e.g=null)}function Wc(e){Kc(e),e.u&&(vo.clearTimeout(e.u),e.u=null),nl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&vo.clearTimeout(e.m),e.m=null)}function Gc(e,t){e.l.push(new uc(e.Za++,t)),3==e.G&&Qc(e)}function Qc(e){fc(e.i)||e.m||(e.m=!0,Fs(e.Ha,e),e.C=0)}function Yc(e,t){var n;n=t?t.m:e.V++;var r=Bu(e.F);Wu(r,"SID",e.J),Wu(r,"RID",n),Wu(r,"AID",e.U),Jc(e,r),e.o&&e.s&&Bc(r,e.o,e.s),n=new ku(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Xc(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),vc(e.i,n),Iu(n,r,t)}function Jc(e,t){e.j&&Lu({},(function(e,n){Wu(t,n,e)}))}function Xc(e,t,n){n=Math.min(e.l.length,n);var r=e.j?xo(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{wc(l,o,"req"+c+"_")}catch(Vl){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Zc(e){e.g||e.u||(e.Y=1,Fs(e.Ga,e),e.A=0)}function $c(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=uu(xo(e.Ga,e),il(e,e.A)),e.A++,!0)}function el(e){null!=e.B&&(vo.clearTimeout(e.B),e.B=null)}function tl(e){e.g=new ku(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Bu(e.oa);Wu(t,"RID","rpc"),Wu(t,"SID",e.J),Wu(t,"CI",e.N?"0":"1"),Wu(t,"AID",e.U),Jc(e,t),Wu(t,"TYPE","xmlhttp"),e.o&&e.s&&Bc(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Gu(Bu(t)),n.s=null,n.U=!0,Tu(n,e)}function nl(e){null!=e.v&&(vo.clearTimeout(e.v),e.v=null)}function rl(e,t){var n=null;if(e.g==t){nl(e),el(e),e.g=null;var r=2}else{if(!pc(e.i,t))return;n=t.D,yc(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ns(r=nu(),new su(r,n,t,i)),Qc(e)}else Zc(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(dc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=uu(xo(e.Ha,e,t),il(e,e.C)),e.C++,!0))}(e,t)||2==r&&$c(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:al(e,5);break;case 4:al(e,10);break;case 3:al(e,6);break;default:al(e,2)}}function il(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function al(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=xo(e.jb,e);n||(n=new Vu("//www.google.com/images/cleardot.gif"),vo.location&&"http"==vo.location.protocol||zu(n,"https"),Gu(n)),function(e,t){var n=new Zs;if(vo.Image){var r=new Image;r.onload=Io(bc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Io(bc,n,r,"TestLoadImage: error",!1,t),r.onabort=Io(bc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Io(bc,n,r,"TestLoadImage: timeout",!1,t),vo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ou(2);e.G=0,e.j&&e.j.va(t),ol(e),Wc(e)}function ol(e){e.G=0,e.I=-1,e.j&&(0==mc(e.i).length&&0==e.l.length||(e.i.i.length=0,Ro(e.l),e.l.length=0),e.j.ua())}function sl(e,t,n){var r=function(e){return e instanceof Vu?Bu(e):new Vu(e,void 0)}(n);if(""!=r.i)t&&qu(r,t+"."+r.i),Hu(r,r.m);else{var i=vo.location;r=function(e,t,n,r){var i=new Vu(null,void 0);return e&&zu(i,e),t&&qu(i,t),n&&Hu(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Fo(e.aa,(function(e,t){Wu(r,t,e)})),t=e.D,n=e.sa,t&&n&&Wu(r,t,n),Wu(r,"VER",e.ma),Jc(e,r),r}function ul(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Cc(new Ec({ib:!0})):new Cc(e.qa)).L=e.H,t}function cl(){}function ll(){if(Wo&&!(10<=Number(as)))throw Error("Environmental error: no available transport.")}function hl(e,t){Cs.call(this),this.g=new qc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Oo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oo(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new pl(this)}function fl(e){yu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dl(){mu.call(this),this.status=1}function pl(e){this.g=e}(lo=Cc.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pu.g(),this.C=this.u?fu(this.u):fu(pu),this.g.onreadystatechange=xo(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Pc(this,a)}e=n||"";var i=new Mu(this.headers);r&&Lu(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Dc,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=vo.FormData&&e instanceof vo.FormData,!(0<=Ao(Oc,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jc(this),0<this.B&&((this.K=function(e){return Wo&&rs()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xo(this.pa,this)):this.A=Ks(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Pc(this,a)}},lo.pa=function(){"undefined"!=typeof po&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ns(this,"timeout"),this.abort(8))},lo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ns(this,"complete"),Ns(this,"abort"),Uc(this))},lo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uc(this,!0)),Cc.Z.M.call(this)},lo.Fa=function(){this.s||(this.F||this.v||this.l?Mc(this):this.cb())},lo.cb=function(){Mc(this)},lo.ba=function(){try{return 2<Fc(this)?this.g.status:-1}catch(lc){return-1}},lo.ga=function(){try{return this.g?this.g.responseText:""}catch(lc){return""}},lo.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ac(t)}},lo.Da=function(){return this.m},lo.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(lo=qc.prototype).ma=8,lo.G=1,lo.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},lo.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ku(this,this.h,e,void 0),n=this.s;if(this.P&&(n?zo(n=Vo(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Xc(this,t,r),Wu(i=Bu(this.F),"RID",e),Wu(i,"CVER",22),this.D&&Wu(i,"X-HTTP-Session-Id",this.D),Jc(this,i),this.o&&n&&Bc(i,this.o,n),vc(this.i,t),this.Ra&&Wu(i,"TYPE","init"),this.ja?(Wu(i,"$req",r),Wu(i,"SID","null"),t.$=!0,Iu(t,i,null)):Iu(t,i,r),this.G=2}}else 3==this.G&&(e?Yc(this,e):0==this.l.length||fc(this.i)||Yc(this))},lo.Ga=function(){if(this.u=null,tl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=uu(xo(this.bb,this),e)}},lo.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ou(10),Kc(this),tl(this))},lo.ab=function(){null!=this.v&&(this.v=null,Kc(this),$c(this),ou(19))},lo.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ou(2)):(this.h.info("Failed to ping google.com"),ou(1))},(lo=cl.prototype).xa=function(){},lo.wa=function(){},lo.va=function(){},lo.ua=function(){},lo.Oa=function(){},ll.prototype.g=function(e,t){return new hl(e,t)},To(hl,Cs),hl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Fs(xo(e.hb,e,t))),ou(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=sl(e,null,e.W),Qc(e)},hl.prototype.close=function(){Hc(this.g)},hl.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Gc(this.g,t)}else this.v?((t={}).__data__=Os(e),Gc(this.g,t)):Gc(this.g,e)},hl.prototype.M=function(){this.g.j=null,delete this.j,Hc(this.g),delete this.g,hl.Z.M.call(this)},To(fl,yu),To(dl,mu),To(pl,cl),pl.prototype.xa=function(){Ns(this.g,"a")},pl.prototype.wa=function(e){Ns(this.g,new fl(e))},pl.prototype.va=function(e){Ns(this.g,new dl(e))},pl.prototype.ua=function(){Ns(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,hl.prototype.send=hl.prototype.u,hl.prototype.open=hl.prototype.m,hl.prototype.close=hl.prototype.close,cu.NO_ERROR=0,cu.TIMEOUT=8,cu.HTTP_ERROR=6,lu.COMPLETE="complete",du.EventType=vu,vu.OPEN="a",vu.CLOSE="b",vu.ERROR="c",vu.MESSAGE="d",Cs.prototype.listen=Cs.prototype.N,Cc.prototype.listenOnce=Cc.prototype.O,Cc.prototype.getLastError=Cc.prototype.La,Cc.prototype.getLastErrorCode=Cc.prototype.Da,Cc.prototype.getStatus=Cc.prototype.ba,Cc.prototype.getResponseJson=Cc.prototype.Qa,Cc.prototype.getResponseText=Cc.prototype.ga,Cc.prototype.send=Cc.prototype.ea;var vl=fo.createWebChannelTransport=function(){return new ll},yl=fo.getStatEventTarget=function(){return nu()},ml=fo.ErrorCode=cu,gl=fo.EventType=lu,kl=fo.Event=eu,wl=fo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bl=fo.FetchXmlHttpFactory=Ec,El=fo.WebChannel=du,xl=fo.XhrIo=Cc,Il="@firebase/firestore",Tl=function(){function e(t){he(this,e),this.uid=t}return de(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Tl.UNAUTHENTICATED=new Tl(null),Tl.GOOGLE_CREDENTIALS=new Tl("google-credentials-uid"),Tl.FIRST_PARTY=new Tl("first-party-uid"),Tl.MOCK_USER=new Tl("mock-user");var Sl="9.6.1",_l=new Wa("@firebase/firestore");function Al(){return _l.logLevel}function Cl(e){if(_l.logLevel<=Ua.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ol);_l.debug.apply(_l,["Firestore (".concat(Sl,"): ").concat(e)].concat(pe(i)))}}function Nl(e){if(_l.logLevel<=Ua.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ol);_l.error.apply(_l,["Firestore (".concat(Sl,"): ").concat(e)].concat(pe(i)))}}function Rl(e){if(_l.logLevel<=Ua.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ol);_l.warn.apply(_l,["Firestore (".concat(Sl,"): ").concat(e)].concat(pe(i)))}}function Ol(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Sl,") INTERNAL ASSERTION FAILED: ")+e;throw Nl(t),new Error(t)}function Pl(e,t){e||Dl()}function Ll(e,t){return e}var Ml={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ul=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return de(n)}(me(Error)),jl=de((function e(){var t=this;he(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Fl=de((function e(t,n){he(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Vl=function(){function e(){he(this,e)}return de(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tl.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Bl=function(){function e(t){he(this,e),this.t=t,this.currentUser=Tl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return de(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new jl;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new jl,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Cl("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Cl("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new jl)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Cl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Pl("string"==typeof n.accessToken),new Fl(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Pl(null===e||"string"==typeof e),new Tl(e)}}]),e}(),zl=de((function e(t,n,r){he(this,e),this.type="FirstParty",this.user=Tl.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),ql=function(){function e(t,n,r){he(this,e),this.h=t,this.l=n,this.m=r}return de(e,[{key:"getToken",value:function(){return Promise.resolve(new zl(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tl.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Hl=de((function e(t){he(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Kl=function(){function e(t){he(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return de(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Cl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Cl("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Cl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Pl("string"==typeof e.token),new Hl(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Wl=function(){function e(t,n){var r=this;he(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return de(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Gl(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Wl.I=-1;var Ql=function(){function e(){he(this,e)}return de(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Gl(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Yl(e,t){return e<t?-1:e>t?1:0}function Jl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Xl=function(){function e(t,n){if(he(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ul(Ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ul(Ml.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ul(Ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ul(Ml.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return de(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Yl(this.nanoseconds,e.nanoseconds):Yl(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Zl=function(){function e(t){he(this,e),this.timestamp=t}return de(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Xl(0,0))}}]),e}();function $l(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function eh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function th(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var nh=function(){function e(t,n,r){he(this,e),void 0===n?n=0:n>t.length&&Dl(),void 0===r?r=t.length-n:r>t.length-n&&Dl(),this.segments=t,this.offset=n,this.len=r}return de(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),rh=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.apply(this,arguments)}return de(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Ul(Ml.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,pe(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(nh),ih=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ah=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.apply(this,arguments)}return de(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ih.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ul(Ml.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ul(Ml.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ul(Ml.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Ul(Ml.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(nh),oh=function(){function e(t){he(this,e),this.fields=t,t.sort(ah.comparator)}return de(e,[{key:"covers",value:function(e){var t,n=le(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Jl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var sh=function(){function e(t){he(this,e),this.binaryString=t}return de(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Yl(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();sh.EMPTY_BYTE_STRING=new sh("");var uh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ch(e){if(Pl(!!e),"string"==typeof e){var t=0,n=uh.exec(e);if(Pl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:lh(e.seconds),nanos:lh(e.nanos)}}function lh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hh(e){return"string"==typeof e?sh.fromBase64String(e):sh.fromUint8Array(e)}function fh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dh(e){var t=ch(e.mapValue.fields.__local_write_time__.timestampValue);return new Xl(t.seconds,t.nanos)}function ph(e){return null==e}function vh(e){return 0===e&&1/e==-1/0}function yh(e){return"number"==typeof e&&Number.isInteger(e)&&!vh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var mh=function(){function e(t){he(this,e),this.path=t}return de(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===rh.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(rh.fromString(t))}},{key:"fromName",value:function(t){return new e(rh.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return rh.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new rh(t.slice()))}}]),e}();function gh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fh(e)?4:10:Dl()}function kh(e,t){var n=gh(e);if(n!==gh(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dh(e).isEqual(dh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ch(e.timestampValue),r=ch(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hh(e.bytesValue).isEqual(hh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return lh(e.geoPointValue.latitude)===lh(t.geoPointValue.latitude)&&lh(e.geoPointValue.longitude)===lh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return lh(e.integerValue)===lh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=lh(e.doubleValue),r=lh(t.doubleValue);return n===r?vh(n)===vh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Jl(e.arrayValue.values||[],t.arrayValue.values||[],kh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($l(n)!==$l(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kh(n[i],r[i])))return!1;return!0}(e,t);default:return Dl()}}function wh(e,t){return void 0!==(e.values||[]).find((function(e){return kh(e,t)}))}function bh(e,t){var n=gh(e),r=gh(t);if(n!==r)return Yl(n,r);switch(n){case 0:return 0;case 1:return Yl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=lh(e.integerValue||e.doubleValue),r=lh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Eh(e.timestampValue,t.timestampValue);case 4:return Eh(dh(e),dh(t));case 5:return Yl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=hh(e),r=hh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Yl(n[i],r[i]);if(0!==a)return a}return Yl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Yl(lh(e.latitude),lh(t.latitude));return 0!==n?n:Yl(lh(e.longitude),lh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=bh(n[i],r[i]);if(a)return a}return Yl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Yl(r[o],a[o]);if(0!==s)return s;var u=bh(n[r[o]],i[a[o]]);if(0!==u)return u}return Yl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Dl()}}function Eh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yl(e,t);var n=ch(e),r=ch(t),i=Yl(n.seconds,r.seconds);return 0!==i?i:Yl(n.nanos,r.nanos)}function xh(e){return Ih(e)}function Ih(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ch(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hh(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,mh.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=le(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ih(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=le(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ih(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Dl();var t,n}function Th(e){return!!e&&"integerValue"in e}function Sh(e){return!!e&&"arrayValue"in e}function _h(e){return!!e&&"mapValue"in e}function Ah(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return eh(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ah(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ah(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ch=function(){function e(t){he(this,e),this.value=t}return de(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!_h(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ah(t)}},{key:"setAll",value:function(e){var t=this,n=ah.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ah(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());_h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return kh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];_h(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){eh(t,(function(t,n){return e[t]=n}));var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ah(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Nh(e){var t=[];return eh(e.fields,(function(e,n){var r=new ah([e]);if(_h(n)){var i=Nh(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=le(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new oh(t)}var Rh=function(){function e(t,n,r,i,a){he(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return de(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ch.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ch.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Zl.min(),Ch.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ch.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ch.empty(),2)}}]),e}(),Oh=de((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;he(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function Dh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Oh(e,t,n,r,i,a,o)}function Ph(e){var t=Ll(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+xh(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ph(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Wh(t.startAt)),t.endAt&&(n+="|ub:",n+=Wh(t.endAt)),t.R=n}return t.R}function Lh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Qh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!kh(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Jh(e.startAt,t.startAt)&&Jh(e.endAt,t.endAt)}var Mh=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return de(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(bh(t,this.value)):null!==t&&gh(this.value)===gh(t)&&this.v(bh(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dl()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Uh(e,t,r):"array-contains"===t?new Bh(e,r):"in"===t?new zh(e,r):"not-in"===t?new qh(e,r):"array-contains-any"===t?new Hh(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new jh(e,n):new Fh(e,n)}}]),n}(function(){return de((function e(){he(this,e)}))}());var Uh=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,e,r,i)).key=mh.fromName(i.referenceValue),a}return de(n,[{key:"matches",value:function(e){var t=mh.comparator(e.key,this.key);return this.v(t)}}]),n}(Mh),jh=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e,"in",r)).keys=Vh("in",r),i}return de(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mh),Fh=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e,"not-in",r)).keys=Vh("not-in",r),i}return de(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mh);function Vh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return mh.fromName(e.referenceValue)}))}var Bh=function(e){ae(n,e);var t=ce(n);function n(e,r){return he(this,n),t.call(this,e,"array-contains",r)}return de(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Sh(t)&&wh(t.arrayValue,this.value)}}]),n}(Mh),zh=function(e){ae(n,e);var t=ce(n);function n(e,r){return he(this,n),t.call(this,e,"in",r)}return de(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&wh(this.value.arrayValue,t)}}]),n}(Mh),qh=function(e){ae(n,e);var t=ce(n);function n(e,r){return he(this,n),t.call(this,e,"not-in",r)}return de(n,[{key:"matches",value:function(e){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!wh(this.value.arrayValue,t)}}]),n}(Mh),Hh=function(e){ae(n,e);var t=ce(n);function n(e,r){return he(this,n),t.call(this,e,"array-contains-any",r)}return de(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Sh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return wh(t.value.arrayValue,e)}))}}]),n}(Mh),Kh=de((function e(t,n){he(this,e),this.position=t,this.before=n}));function Wh(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return xh(e)})).join(","))}var Gh=de((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";he(this,e),this.field=t,this.dir=n}));function Qh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Yh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?mh.comparator(mh.fromName(o.referenceValue),n.key):bh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Jh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!kh(e.position[n],t.position[n]))return!1;return!0}var Xh=de((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;he(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function Zh(e,t,n,r,i,a,o,s){return new Xh(e,t,n,r,i,a,o,s)}function $h(e){return new Xh(e)}function ef(e){return!ph(e.limit)&&"F"===e.limitType}function tf(e){return!ph(e.limit)&&"L"===e.limitType}function nf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function rf(e){var t,n=le(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function af(e){return null!==e.collectionGroup}function of(e){var t=Ll(e);if(null===t.S){t.S=[];var n=rf(t),r=nf(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Gh(n)),t.S.push(new Gh(ah.keyField(),"asc"));else{var i,a=!1,o=le(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Gh(ah.keyField(),u))}}}return t.S}function sf(e){var t=Ll(e);if(!t.D)if("F"===t.limitType)t.D=Dh(t.path,t.collectionGroup,of(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=le(of(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Gh(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Kh(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Kh(t.startAt.position,!t.startAt.before):null;t.D=Dh(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function uf(e,t,n){return new Xh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function cf(e,t){return Lh(sf(e),sf(t))&&e.limitType===t.limitType}function lf(e){return"".concat(Ph(sf(e)),"|lt:").concat(e.limitType)}function hf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(xh(t.value));var t})).join(", "),"]")),ph(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Wh(e.startAt)),e.endAt&&(t+=", endAt: "+Wh(e.endAt)),"Target(".concat(t,")")}(sf(e)),"; limitType=").concat(e.limitType,")")}function ff(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):mh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=le(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=le(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Yh(e.startAt,of(e),t))&&(!e.endAt||!Yh(e.endAt,of(e),t))}(e,t)}function df(e){return function(t,n){var r,i=!1,a=le(of(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=pf(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function pf(e,t,n){var r=e.field.isKeyField()?mh.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?bh(r,i):Dl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Dl()}}function vf(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(t)?"-0":t}}function yf(e){return{integerValue:""+e}}function mf(e,t){return yh(t)?yf(t):vf(e,t)}var gf=de((function e(){he(this,e),this._=void 0}));function kf(e,t,n){return e instanceof Ef?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof xf?If(e,t):e instanceof Tf?Sf(e,t):function(e,t){var n=bf(e,t),r=Af(n)+Af(e.N);return Th(n)&&Th(e.N)?yf(r):vf(e.k,r)}(e,t)}function wf(e,t,n){return e instanceof xf?If(e,t):e instanceof Tf?Sf(e,t):n}function bf(e,t){return e instanceof _f?Th(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ef=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.apply(this,arguments)}return de(n)}(gf),xf=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this)).elements=e,r}return de(n)}(gf);function If(e,t){var n,r=Cf(t),i=le(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return kh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Tf=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this)).elements=e,r}return de(n)}(gf);function Sf(e,t){var n,r=Cf(t),i=le(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!kh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _f=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).k=e,i.N=r,i}return de(n)}(gf);function Af(e){return lh(e.integerValue||e.doubleValue)}function Cf(e){return Sh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Nf=de((function e(t,n){he(this,e),this.version=t,this.transformResults=n})),Rf=function(){function e(t,n){he(this,e),this.updateTime=t,this.exists=n}return de(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Of(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Df=de((function e(){he(this,e)}));function Pf(e,t,n){e instanceof Ff?function(e,t,n){var r=e.value.clone(),i=zf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Vf?function(e,t,n){if(Of(e.precondition,t)){var r=zf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Bf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Lf(e,t,n){e instanceof Ff?function(e,t,n){if(Of(e.precondition,t)){var r=e.value.clone(),i=qf(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(jf(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Vf?function(e,t,n){if(Of(e.precondition,t)){var r=qf(e.fieldTransforms,n,t),i=t.data;i.setAll(Bf(e)),i.setAll(r),t.convertToFoundDocument(jf(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Of(e.precondition,t)&&t.convertToNoDocument(Zl.min())}(e,t)}function Mf(e,t){var n,r=null,i=le(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=bf(a.transform,o||null);null!=s&&(null==r&&(r=Ch.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Uf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Jl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof xf&&t instanceof xf||e instanceof Tf&&t instanceof Tf?Jl(e.elements,t.elements,kh):e instanceof _f&&t instanceof _f?kh(e.N,t.N):e instanceof Ef&&t instanceof Ef}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function jf(e){return e.isFoundDocument()?e.version:Zl.min()}var Ff=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return he(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return de(n)}(Df),Vf=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return he(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return de(n)}(Df);function Bf(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function zf(e,t,n){var r=new Map;Pl(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,wf(o,s,n[i]))}return r}function qf(e,t,n){var r,i=new Map,a=le(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,kf(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Hf,Kf,Wf=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return de(n)}(Df),Gf=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return de(n)}(Df);function Qf(e){switch(e){default:return Dl();case Ml.CANCELLED:case Ml.UNKNOWN:case Ml.DEADLINE_EXCEEDED:case Ml.RESOURCE_EXHAUSTED:case Ml.INTERNAL:case Ml.UNAVAILABLE:case Ml.UNAUTHENTICATED:return!1;case Ml.INVALID_ARGUMENT:case Ml.NOT_FOUND:case Ml.ALREADY_EXISTS:case Ml.PERMISSION_DENIED:case Ml.FAILED_PRECONDITION:case Ml.ABORTED:case Ml.OUT_OF_RANGE:case Ml.UNIMPLEMENTED:case Ml.DATA_LOSS:return!0}}function Yf(e){if(void 0===e)return Nl("GRPC error has no .code"),Ml.UNKNOWN;switch(e){case Hf.OK:return Ml.OK;case Hf.CANCELLED:return Ml.CANCELLED;case Hf.UNKNOWN:return Ml.UNKNOWN;case Hf.DEADLINE_EXCEEDED:return Ml.DEADLINE_EXCEEDED;case Hf.RESOURCE_EXHAUSTED:return Ml.RESOURCE_EXHAUSTED;case Hf.INTERNAL:return Ml.INTERNAL;case Hf.UNAVAILABLE:return Ml.UNAVAILABLE;case Hf.UNAUTHENTICATED:return Ml.UNAUTHENTICATED;case Hf.INVALID_ARGUMENT:return Ml.INVALID_ARGUMENT;case Hf.NOT_FOUND:return Ml.NOT_FOUND;case Hf.ALREADY_EXISTS:return Ml.ALREADY_EXISTS;case Hf.PERMISSION_DENIED:return Ml.PERMISSION_DENIED;case Hf.FAILED_PRECONDITION:return Ml.FAILED_PRECONDITION;case Hf.ABORTED:return Ml.ABORTED;case Hf.OUT_OF_RANGE:return Ml.OUT_OF_RANGE;case Hf.UNIMPLEMENTED:return Ml.UNIMPLEMENTED;case Hf.DATA_LOSS:return Ml.DATA_LOSS;default:return Dl()}}(Kf=Hf||(Hf={}))[Kf.OK=0]="OK",Kf[Kf.CANCELLED=1]="CANCELLED",Kf[Kf.UNKNOWN=2]="UNKNOWN",Kf[Kf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kf[Kf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kf[Kf.NOT_FOUND=5]="NOT_FOUND",Kf[Kf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kf[Kf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kf[Kf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kf[Kf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kf[Kf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kf[Kf.ABORTED=10]="ABORTED",Kf[Kf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kf[Kf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kf[Kf.INTERNAL=13]="INTERNAL",Kf[Kf.UNAVAILABLE=14]="UNAVAILABLE",Kf[Kf.DATA_LOSS=15]="DATA_LOSS";var Jf=function(){function e(t,n){he(this,e),this.comparator=t,this.root=n||Zf.EMPTY}return de(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Zf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Xf(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Xf(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Xf(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Xf(this.root,e,this.comparator,!0)}}]),e}(),Xf=function(){function e(t,n,r,i){he(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return de(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Zf=function(){function e(t,n,r,i,a){he(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return de(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Dl();if(this.right.isRed())throw Dl();var e=this.left.check();if(e!==this.right.check())throw Dl();return e+(this.isRed()?0:1)}}]),e}();Zf.EMPTY=null,Zf.RED=!0,Zf.BLACK=!1,Zf.EMPTY=new(function(){function e(){he(this,e),this.size=0}return de(e,[{key:"key",get:function(){throw Dl()}},{key:"value",get:function(){throw Dl()}},{key:"color",get:function(){throw Dl()}},{key:"left",get:function(){throw Dl()}},{key:"right",get:function(){throw Dl()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Zf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var $f=function(){function e(t){he(this,e),this.comparator=t,this.data=new Jf(this.comparator)}return de(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ed(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ed(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ed=function(){function e(t){he(this,e),this.iter=t}return de(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),td=new Jf(mh.comparator);function nd(){return td}var rd=new Jf(mh.comparator);function id(){return rd}var ad=new Jf(mh.comparator);function od(){return ad}var sd=new $f(mh.comparator);function ud(){for(var e=sd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var cd=new $f(Yl);function ld(){return cd}var hd=de((function e(t,n){he(this,e),this.databaseId=t,this.C=n}));function fd(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function dd(e,t){return e.C?t.toBase64():t.toUint8Array()}function pd(e,t){return fd(e,t.toTimestamp())}function vd(e){return Pl(!!e),Zl.fromTimestamp(function(e){var t=ch(e);return new Xl(t.seconds,t.nanos)}(e))}function yd(e,t){return function(e){return new rh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function md(e){var t=rh.fromString(e);return Pl(Rd(t)),t}function gd(e,t){return yd(e.databaseId,t.path)}function kd(e){var t=md(e);return 4===t.length?rh.emptyPath():bd(t)}function wd(e){return new rh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bd(e){return Pl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ed(e,t,n){return{name:gd(e,t),fields:n.value.mapValue.fields}}function xd(e,t){var n;if(t instanceof Ff)n={update:Ed(e,t.key,t.value)};else if(t instanceof Wf)n={delete:gd(e,t.key)};else if(t instanceof Vf)n={update:Ed(e,t.key,t.data),updateMask:Nd(t.fieldMask)};else{if(!(t instanceof Gf))return Dl();n={verify:gd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ef)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof xf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _f)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Dl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:pd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Dl()}(e,t.precondition)),n}function Id(e){var t=kd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Pl(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Td(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Gh(_d(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ph(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Sd(n.startAt));var l=null;return n.endAt&&(l=Sd(n.endAt)),Zh(t,i,s,o,u,"F",c,l)}function Td(e){return e?void 0!==e.unaryFilter?[Cd(e)]:void 0!==e.fieldFilter?[Ad(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Td(e)})).reduce((function(e,t){return e.concat(t)})):Dl():[]}function Sd(e){var t=!!e.before,n=e.values||[];return new Kh(n,t)}function _d(e){return ah.fromServerFormat(e.fieldPath)}function Ad(e){return Mh.create(_d(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dl()}}(e.fieldFilter.op),e.fieldFilter.value)}function Cd(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_d(e.unaryFilter.field);return Mh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_d(e.unaryFilter.field);return Mh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_d(e.unaryFilter.field);return Mh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_d(e.unaryFilter.field);return Mh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Dl()}}function Nd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Od(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Pd(t)),t=Dd(e.get(n),t);return Pd(t)}function Dd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Pd(e){return e+"\x01\x01"}var Ld=de((function e(t,n,r){he(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Ld.store="owner",Ld.key="owner";var Md=de((function e(t,n,r){he(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Md.store="mutationQueues",Md.keyPath="userId";var Ud=de((function e(t,n,r,i,a){he(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Ud.store="mutations",Ud.keyPath="batchId",Ud.userMutationsIndex="userMutationsIndex",Ud.userMutationsKeyPath=["userId","batchId"];var jd=function(){function e(){he(this,e)}return de(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Od(t)]}},{key:"key",value:function(e,t,n){return[e,Od(t),n]}}]),e}();jd.store="documentMutations",jd.PLACEHOLDER=new jd;var Fd=de((function e(t,n,r,i,a,o){he(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Fd.store="remoteDocuments",Fd.readTimeIndex="readTimeIndex",Fd.readTimeIndexPath="readTime",Fd.collectionReadTimeIndex="collectionReadTimeIndex",Fd.collectionReadTimeIndexPath=["parentPath","readTime"];var Vd=de((function e(t){he(this,e),this.byteSize=t}));Vd.store="remoteDocumentGlobal",Vd.key="remoteDocumentGlobalKey";var Bd=de((function e(t,n,r,i,a,o,s){he(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));Bd.store="targets",Bd.keyPath="targetId",Bd.queryTargetsIndexName="queryTargetsIndex",Bd.queryTargetsKeyPath=["canonicalId","targetId"];var zd=de((function e(t,n,r){he(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));zd.store="targetDocuments",zd.keyPath=["targetId","path"],zd.documentTargetsIndex="documentTargetsIndex",zd.documentTargetsKeyPath=["path","targetId"];var qd=de((function e(t,n,r,i){he(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));qd.key="targetGlobalKey",qd.store="targetGlobal";var Hd=de((function e(t,n){he(this,e),this.collectionId=t,this.parent=n}));Hd.store="collectionParents",Hd.keyPath=["collectionId","parent"];var Kd=de((function e(t,n,r,i){he(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Kd.store="clientMetadata",Kd.keyPath="clientId";var Wd=de((function e(t,n,r){he(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Wd.store="bundles",Wd.keyPath="bundleId";var Gd=de((function e(t,n,r){he(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Gd.store="namedQueries",Gd.keyPath="name";[Md.store,Ud.store,jd.store,Fd.store,Bd.store,Ld.store,qd.store,zd.store].concat([Kd.store]).concat([Vd.store]).concat([Hd.store]).concat([Wd.store,Gd.store]);var Qd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Yd=function(){function e(){he(this,e),this.onCommittedListeners=[]}return de(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Jd=function(){function e(t){var n=this;he(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return de(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Dl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=le(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function Xd(e){return"IndexedDbTransactionError"===e.name}var Zd=function(){function e(t,n,r,i){he(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return de(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Pf(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=le(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Lf(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=le(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Lf(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Zl.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ud())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Jl(this.mutations,e.mutations,(function(e,t){return Uf(e,t)}))&&Jl(this.baseMutations,e.baseMutations,(function(e,t){return Uf(e,t)}))}}]),e}(),$d=function(){function e(t,n,r,i){he(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return de(e,null,[{key:"from",value:function(t,n,r){Pl(t.mutations.length===r.length);for(var i=od(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ep=de((function e(t){he(this,e),this.Gt=t}));function tp(e){var t=Id({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?uf(t,t.limit,"L"):t}var np=function(){function e(){he(this,e),this.zt=new rp}return de(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Jd.resolve()}},{key:"getCollectionParents",value:function(e,t){return Jd.resolve(this.zt.getEntries(t))}}]),e}(),rp=function(){function e(){he(this,e),this.index={}}return de(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $f(rh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new $f(rh.comparator)).toArray()}}]),e}();var ip=function(){function e(t,n,r){he(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return de(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();ip.DEFAULT_COLLECTION_PERCENTILE=10,ip.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ip.DEFAULT=new ip(41943040,ip.DEFAULT_COLLECTION_PERCENTILE,ip.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ip.DISABLED=new ip(-1,0,0);var ap=function(){function e(t){he(this,e),this.se=t}return de(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}();function op(e){return sp.apply(this,arguments)}function sp(){return sp=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ml.FAILED_PRECONDITION&&t.message===Qd){e.next=2;break}throw t;case 2:Cl("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}var up=function(){function e(t,n){he(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return de(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],u=o[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){eh(this.inner,(function(t,n){var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],u=o[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return th(this.inner)}}]),e}(),cp=function(){function e(){he(this,e),this.changes=new up((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return de(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Zl.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Rh.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Jd.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var lp=function(){function e(t,n,r){he(this,e),this.Je=t,this.An=n,this.Jt=r}return de(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=le(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=le(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return mh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):af(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new mh(t)).next((function(e){var t=id();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=id();return this.Jt.getCollectionParents(e,i).next((function(o){return Jd.forEach(o,(function(o){var s=function(e,t){return new Xh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=le(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=le(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=Rh.newInvalidDocument(c),r=r.insert(c,l)),Lf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){n.e(h)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){ff(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=ud(),a=le(t);try{for(a.s();!(r=a.n()).done;){var o,s=le(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof Vf&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),hp=function(){function e(t,n,r,i){he(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return de(e,null,[{key:"$n",value:function(t,n){var r,i=ud(),a=ud(),o=le(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),fp=function(){function e(){he(this,e)}return de(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Zl.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(ef(t)||tf(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Al()<=Ua.DEBUG&&Cl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hf(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new $f(df(e));return t.forEach((function(t,r){ff(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Al()<=Ua.DEBUG&&Cl("QueryEngine","Using full collection scan to execute query:",hf(t)),this.On.getDocumentsMatchingQuery(e,t,Zl.min())}}]),e}(),dp=function(){function e(t,n,r,i){he(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Jf(Yl),this.Kn=new up((function(e){return Ph(e)}),Lh),this.jn=Zl.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new lp(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return de(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function pp(e,t,n,r){return new dp(e,t,n,r)}function vp(e,t){return yp.apply(this,arguments)}function yp(){return yp=X($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ll(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new lp(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=ud(),u=le(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,h=le(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=le(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=le(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function mp(e,t){var n=Ll(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Jd.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Pl(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function gp(e){var t=Ll(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function kp(e,t){var n=Ll(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}var wp=function(){function e(t){he(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return de(e,[{key:"getBundleMetadata",value:function(e,t){return Jd.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:vd(n.createTime)}),Jd.resolve()}},{key:"getNamedQuery",value:function(e,t){return Jd.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:tp(e.bundledQuery),readTime:vd(e.readTime)}}(t)),Jd.resolve()}}]),e}(),bp=function(){function e(){he(this,e),this.ts=new $f(Ep.es),this.ns=new $f(Ep.ss)}return de(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Ep(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Ep(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new mh(new rh([])),r=new Ep(n,e),i=new Ep(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new mh(new rh([])),n=new Ep(t,e),r=new Ep(t,e+1),i=ud();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Ep(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Ep=function(){function e(t,n){he(this,e),this.key=t,this.fs=n}return de(e,null,[{key:"es",value:function(e,t){return mh.comparator(e.key,t.key)||Yl(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Yl(e.fs,t.fs)||mh.comparator(e.key,t.key)}}]),e}(),xp=function(){function e(t,n){he(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new $f(Ep.es)}return de(e,[{key:"checkEmpty",value:function(e){return Jd.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Zd(i,t,n,r);this.An.push(a);var o,s=le(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new Ep(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Jd.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Jd.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Jd.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Jd.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Jd.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Ep(t,0),i=new Ep(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Jd.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new $f(Yl);return t.forEach((function(e){var t=new Ep(e,0),i=new Ep(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Jd.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;mh.isDocumentKey(i)||(i=i.child(""));var a=new Ep(new mh(i),0),o=new $f(Yl);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Jd.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Pl(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Jd.forEach(t.mutations,(function(i){var a=new Ep(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Ep(t,0),r=this.ws.firstAfterOrEqual(n);return Jd.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Jd.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Ip=function(){function e(t,n){he(this,e),this.Jt=t,this.Ts=n,this.docs=new Jf(mh.comparator),this.size=0}return de(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Jd.resolve(n?n.document.clone():Rh.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=nd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Rh.newInvalidDocument(e))})),Jd.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=nd(),i=new mh(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||ff(t,c)&&(r=r.insert(c.key,c.clone()))}return Jd.resolve(r)}},{key:"Es",value:function(e,t){return Jd.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Tp(this)}},{key:"getSize",value:function(e){return Jd.resolve(this.size)}}]),e}(),Tp=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this)).De=e,r}return de(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Jd.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(cp),Sp=function(){function e(t){he(this,e),this.persistence=t,this.Is=new up((function(e){return Ph(e)}),Lh),this.lastRemoteSnapshotVersion=Zl.min(),this.highestTargetId=0,this.As=0,this.Rs=new bp,this.targetCount=0,this.Ps=ap.ie()}return de(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Jd.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Jd.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Jd.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),Jd.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Jd.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new ap(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,Jd.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),Jd.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Jd.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Jd.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Jd.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Jd.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Jd.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Jd.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Jd.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Jd.resolve(n)}},{key:"containsKey",value:function(e,t){return Jd.resolve(this.Rs.containsKey(t))}}]),e}(),_p=function(){function e(t,n){var r=this;he(this,e),this.bs={},this.Be=new Wl(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Sp(this),this.Jt=new np,this.Je=function(e,t){return new Ip(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new ep(n),this.Ye=new wp(this.k)}return de(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new xp(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Cl("MemoryPersistence","Starting transaction:",e);var i=new Ap(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Jd.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Ap=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return de(n)}(Yd),Cp=function(){function e(t){he(this,e),this.persistence=t,this.Cs=new bp,this.Ns=null}return de(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Dl()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Jd.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Jd.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Jd.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jd.forEach(this.xs,(function(r){var i=mh.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Jd.or([function(){return Jd.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();var Np=function(){function e(){he(this,e),this.activeTargetIds=ld()}return de(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Rp=function(){function e(){he(this,e),this.pi=new Np,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return de(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Np,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Op=function(){function e(){he(this,e)}return de(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Dp=function(){function e(){var t=this;he(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return de(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Cl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=le(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){Cl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=le(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Pp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lp=function(){function e(t){he(this,e),this.Vi=t.Vi,this.Si=t.Si}return de(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Mp=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return de(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new xl;o.listenOnce(gl.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ml.NO_ERROR:var t=o.getResponseJson();Cl("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ml.TIMEOUT:Cl("Connection",'RPC "'+e+'" timed out'),a(new Ul(Ml.DEADLINE_EXCEEDED,"Request time out"));break;case ml.HTTP_ERROR:var n=o.getStatus();if(Cl("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ml).indexOf(t)>=0?t:Ml.UNKNOWN}(r.status);a(new Ul(s,r.message))}else a(new Ul(Ml.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ul(Ml.UNAVAILABLE,"Connection failed."));break;default:Dl()}}finally{Cl("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=vl(),a=yl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bl({})),this.qi(o.initMessageHeaders,t,n),ma()||ka()||ya().indexOf("Electron/")>=0||wa()||ya().indexOf("MSAppHost/")>=0||ga()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Cl("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,h=new Lp({Vi:function(e){l?Cl("Connection","Not sending because WebChannel is closed:",e):(c||(Cl("Connection","Opening WebChannel transport."),u.open(),c=!0),Cl("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,El.EventType.OPEN,(function(){l||Cl("Connection","WebChannel transport opened.")})),f(u,El.EventType.CLOSE,(function(){l||(l=!0,Cl("Connection","WebChannel transport closed"),h.Fi())})),f(u,El.EventType.ERROR,(function(e){l||(l=!0,Rl("Connection","WebChannel transport errored:",e),h.Fi(new Ul(Ml.UNAVAILABLE,"The operation could not be completed")))})),f(u,El.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Pl(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Cl("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Hf[e];if(void 0!==t)return Yf(t)}(a),s=i.message;void 0===o&&(o=Ml.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,h.Fi(new Ul(o,s)),u.close()}else Cl("Connection","WebChannel received:",n),h.Oi(n)}})),f(a,kl.STAT_EVENT,(function(e){e.stat===wl.PROXY?Cl("Connection","Detected buffering proxy"):e.stat===wl.NOPROXY&&Cl("Connection","Detected no buffering proxy")})),setTimeout((function(){h.$i()}),0),h}}]),n}(function(){function e(t){he(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return de(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Cl("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Cl("RestConnection","Received: ",e),e}),(function(t){throw Rl("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Pp[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function Up(){return"undefined"!=typeof document?document:null}function jp(e){return new hd(e,!0)}var Fp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;he(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return de(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Cl("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Vp=function(){function e(t,n,r,i,a,o,s,u){he(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Fp(t,n)}return de(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Ml.RESOURCE_EXHAUSTED?(Nl(n.toString()),Nl("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Ml.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=a(t,2),i=r[0],o=r[1];e.rr===n&&e.Ir(i,o)}),(function(n){t((function(){var t=new Ul(Ml.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(X($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Cl("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(Cl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Bp=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a,o,s){var u;return he(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return de(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,ne(ee(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Pl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Pl(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?vd(e.updateTime):vd(t);return n.isEqual(Zl.min())&&(n=vd(t)),new Nf(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=vd(e.commitTime);return this.listener.Cr(n,t)}return Pl(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=wd(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return xd(t.k,e)}))};this.gr(n)}}]),n}(Vp),zp=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a){var o;return he(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return de(n,[{key:"Fr",value:function(){if(this.$r)throw new Ul(Ml.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),s=o[0],u=o[1];return r.ir.Bi(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ml.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ul(Ml.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),s=o[0],u=o[1];return r.ir.ji(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ml.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ul(Ml.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return de((function e(){he(this,e)}))}()),qp=function(){function e(t,n){he(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return de(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Nl(t),this.Lr=!1):Cl("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),Hp=de((function e(t,n,r,i,a){var o=this;he(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Yp(o),!e.t0){e.next=5;break}return Cl("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ll(t)).Gr.add(4),e.next=4,Gp(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Kp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new qp(r,i)}));function Kp(e){return Wp.apply(this,arguments)}function Wp(){return Wp=X($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Yp(t)){e.next=18;break}n=le(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Wp.apply(this,arguments)}function Gp(e){return Qp.apply(this,arguments)}function Qp(){return Qp=X($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=le(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Qp.apply(this,arguments)}function Yp(e){return 0===Ll(e).Gr.size}function Jp(e,t,n){return Xp.apply(this,arguments)}function Xp(){return Xp=X($().mark((function e(t,n,r){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xd(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Gp(t);case 5:t.Jr.set("Offline"),r||(r=function(){return gp(t.localStore)}),t.asyncQueue.enqueueRetryable(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cl("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Kp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}function Zp(e,t){return t().catch((function(n){return Jp(e,n,t)}))}function $p(e){return ev.apply(this,arguments)}function ev(){return ev=X($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ll(t),r=vv(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!tv(n)){e.next=19;break}return e.prev=3,e.next=6,kp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,nv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Jp(n,e.t0);case 17:e.next=2;break;case 19:rv(n)&&iv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ev.apply(this,arguments)}function tv(e){return Yp(e)&&e.Qr.length<10}function nv(e,t){e.Qr.push(t);var n=vv(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function rv(e){return Yp(e)&&!vv(e).hr()&&e.Qr.length>0}function iv(e){vv(e).start()}function av(e){return ov.apply(this,arguments)}function ov(){return ov=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vv(t).kr();case 1:case"end":return e.stop()}}),e)}))),ov.apply(this,arguments)}function sv(e){return uv.apply(this,arguments)}function uv(){return uv=X($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vv(t),r=le(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),uv.apply(this,arguments)}function cv(e,t,n){return lv.apply(this,arguments)}function lv(){return lv=X($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=$d.from(i,n,r),e.next=3,Zp(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,$p(t);case 5:case"end":return e.stop()}}),e)}))),lv.apply(this,arguments)}function hv(e,t){return fv.apply(this,arguments)}function fv(){return fv=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&vv(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qf(i=n.code)||i===Ml.ABORTED){e.next=7;break}return r=t.Qr.shift(),vv(t).wr(),e.next=5,Zp(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,$p(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:rv(t)&&iv(t);case 5:case"end":return e.stop()}}),e)}))),fv.apply(this,arguments)}function dv(e,t){return pv.apply(this,arguments)}function pv(){return pv=X($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ll(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Kp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Gp(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),pv.apply(this,arguments)}function vv(e){return e.Zr||(e.Zr=function(e,t,n){var r=Ll(e);return r.Fr(),new Bp(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:av.bind(null,e),Ni:hv.bind(null,e),Nr:sv.bind(null,e),Cr:cv.bind(null,e)}),e.zr.push(function(){var t=X($().mark((function t(n){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,$p(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(Cl("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var yv=function(){function e(t,n,r,i,a){he(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new jl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return de(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ul(Ml.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function mv(e,t){if(Nl("AsyncQueue","".concat(t,": ").concat(e)),Xd(e))return new Ul(Ml.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var gv=de((function e(){he(this,e),this.queries=new up((function(e){return lf(e)}),cf),this.onlineState="Unknown",this.io=new Set}));function kv(e){e.io.forEach((function(e){e.next()}))}var wv=function(){function e(t,n,r,i,a,o){he(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new up((function(e){return lf(e)}),cf),this.Mo=new Map,this.Lo=new Set,this.Bo=new Jf(mh.comparator),this.Uo=new Map,this.qo=new bp,this.Ko={},this.jo=new Map,this.Qo=ap.re(),this.onlineState="Unknown",this.Wo=void 0}return de(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function bv(e,t,n){return Ev.apply(this,arguments)}function Ev(){return Ev=X($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pv(t),e.prev=1,e.next=4,function(e,t){var n,r=Ll(e),i=Xl.now(),a=t.reduce((function(e,t){return e.add(t.key)}),ud());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=le(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Mf(c,n.get(c.key));null!=l&&s.push(new Vf(c.key,l,Nh(l.value.mapValue),Rf.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Jf(Yl)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Nv(i,a.changes);case 9:return e.next=11,$p(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=mv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Ev.apply(this,arguments)}function xv(e,t,n){var r=Ll(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ll(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=le(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&kv(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Iv(e,t){return Tv.apply(this,arguments)}function Tv(){return Tv=X($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ll(t),i=n.batch.batchId,e.prev=1,e.next=4,mp(r.localStore,n);case 4:return a=e.sent,Cv(r,i,null),Av(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Nv(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,op(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Tv.apply(this,arguments)}function Sv(e,t,n){return _v.apply(this,arguments)}function _v(){return _v=X($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ll(t),e.prev=1,e.next=4,function(e,t){var n=Ll(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Pl(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Cv(i,n,r),Av(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Nv(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,op(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),_v.apply(this,arguments)}function Av(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Cv(e,t,n){var r=Ll(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Nv(e,t,n){return Rv.apply(this,arguments)}function Rv(){return Rv=X($().mark((function e(t,n,r){var i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ll(t),a=[],o=[],s=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=hp.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=X($().mark((function e(t,n){var r,i,a,o,s,u,c,l;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ll(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Jd.forEach(n,(function(t){return Jd.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Jd.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Xd(e.t0)){e.next=10;break}throw e.t0;case 10:Cl("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=le(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Rv.apply(this,arguments)}function Ov(e,t){return Dv.apply(this,arguments)}function Dv(){return Dv=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ll(t)).currentUser.isEqual(n)){e.next=11;break}return Cl("SyncEngine","User change. New user:",n.toKey()),e.next=5,vp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Ul(Ml.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Nv(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}function Pv(e){var t=Ll(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Iv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sv.bind(null,t),t}var Lv=function(){function e(){he(this,e),this.synchronizeTabs=!1}return de(e,[{key:"initialize",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=jp(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return pp(this.persistence,new fp,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new _p(Cp.ks,this.k)}},{key:"Jo",value:function(e){return new Rp}},{key:"terminate",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Mv=function(){function e(){he(this,e)}return de(e,[{key:"initialize",value:function(){var e=X($().mark((function e(t,n){var r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return xv(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ov.bind(null,this.syncEngine),e.next=12,dv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new gv}},{key:"createDatastore",value:function(e){var t,n=jp(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Mp(t));return function(e,t,n,r){return new zp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return xv(o.syncEngine,e,0)},a=Dp.bt()?new Dp:new Op,new Hp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new wv(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ll(t),Cl("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Gp(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Uv=function(){function e(t,n,r,i){var a=this;he(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tl.UNAUTHENTICATED,this.clientId=Ql.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cl("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return de(e,[{key:"getConfiguration",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ul(Ml.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new jl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(X($().mark((function n(){var r;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=mv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function jv(e,t){return Fv.apply(this,arguments)}function Fv(){return Fv=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Cl("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,vp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function Vv(e,t){return Bv.apply(this,arguments)}function Bv(){return Bv=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,zv(t);case 3:return r=e.sent,Cl("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ll(t)).asyncQueue.verifyOperationInProgress(),Cl("RemoteStore","RemoteStore received new credentials"),i=Yp(r),r.Gr.add(3),e.next=6,Gp(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Kp(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),Bv.apply(this,arguments)}function zv(e){return qv.apply(this,arguments)}function qv(){return qv=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Cl("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,jv(t,new Lv);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),qv.apply(this,arguments)}function Hv(e){return Kv.apply(this,arguments)}function Kv(){return Kv=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Cl("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Vv(t,new Mv);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Kv.apply(this,arguments)}function Wv(e){return Hv(e).then((function(e){return e.syncEngine}))}var Gv=de((function e(t,n,r,i,a,o,s,u){he(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Qv=function(){function e(t,n){he(this,e),this.projectId=t,this.database=n||"(default)"}return de(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Yv=new Map;function Jv(e,t,n){if(!n)throw new Ul(Ml.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Xv(e){if(!mh.isDocumentKey(e))throw new Ul(Ml.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Zv(e){if(mh.isDocumentKey(e))throw new Ul(Ml.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function $v(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Dl()}function ey(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ul(Ml.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=$v(e);throw new Ul(Ml.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var ty=function(){function e(t){var n;if(he(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ul(Ml.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ul(Ml.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Ul(Ml.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return de(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),ny=function(){function e(t,n,r){he(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ty({}),this._settingsFrozen=!1,t instanceof Qv?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ul(Ml.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qv(e.options.projectId)}(t))}return de(e,[{key:"app",get:function(){if(!this._app)throw new Ul(Ml.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ul(Ml.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ty(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vl;switch(e.type){case"gapi":var t=e.client;return Pl(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ql(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ul(Ml.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Yv.get(e);t&&(Cl("ComponentProvider","Removing Datastore"),Yv.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var ry=function(){function e(t,n,r){he(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return de(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new ay(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),iy=function(){function e(t,n,r){he(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return de(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),ay=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,e,r,$h(i)))._path=i,a.type="collection",a}return de(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new ry(this.firestore,null,new mh(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(iy);function oy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Oa(e),Jv("collection","path",t),e instanceof ny){var a=rh.fromString.apply(rh,[t].concat(r));return Zv(a),new ay(e,null,a)}if(!(e instanceof ry||e instanceof ay))throw new Ul(Ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(rh.fromString.apply(rh,[t].concat(r)));return Zv(o),new ay(e.firestore,null,o)}function sy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Oa(e),1===arguments.length&&(t=Ql.A()),Jv("doc","path",t),e instanceof ny){var a=rh.fromString.apply(rh,[t].concat(r));return Xv(a),new ry(e,null,new mh(a))}if(!(e instanceof ry||e instanceof ay))throw new Ul(Ml.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(rh.fromString.apply(rh,[t].concat(r)));return Xv(o),new ry(e.firestore,e instanceof ay?e.converter:null,new mh(o))}var uy=function(){function e(){var t=this;he(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Fp(this,"async_queue_retry"),this.Ra=function(){var e=Up();e&&Cl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Up();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return de(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=Up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new jl;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=X($().mark((function e(){var t=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Xd(e.t0)){e.next=12;break}throw e.t0;case 12:Cl("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Nl("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=yv.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&Dl()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=le(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=le(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();var cy=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new uy,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return de(n,[{key:"_terminate",value:function(){return this._firestoreClient||hy(this),this._firestoreClient.terminate()}}]),n}(ny);function ly(e){return e._firestoreClient||hy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hy(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Gv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Uv(e._authCredentials,e._appCheckCredentials,e._queue,r)}var fy=function(){function e(){he(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ul(Ml.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ah(n)}return de(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var dy=function(){function e(t){he(this,e),this._byteString=t}return de(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(sh.fromBase64String(t))}catch(t){throw new Ul(Ml.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(sh.fromUint8Array(t))}}]),e}(),py=de((function e(t){he(this,e),this._methodName=t})),vy=function(){function e(t,n){if(he(this,e),!isFinite(t)||t<-90||t>90)throw new Ul(Ml.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ul(Ml.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return de(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Yl(this._lat,e._lat)||Yl(this._long,e._long)}}]),e}(),yy=/^__.*__$/,my=function(){function e(t,n,r){he(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return de(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Vf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ff(e,this.data,t,this.fieldTransforms)}}]),e}();function gy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dl()}}var ky=function(){function e(t,n,r,i,a,o){he(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return de(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return Ny(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(gy(this.xa)&&yy.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),wy=function(){function e(t,n,r){he(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||jp(t)}return de(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ky({xa:e,methodName:t,Ka:n,path:ah.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function by(e){var t=e._freezeSettings(),n=jp(e._databaseId);return new wy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ey(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);Sy("Data must be an object, but it was:",o,r);var s,u,c=Iy(r,o);if(a.merge)s=new oh(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=le(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=l.value,p=_y(t,d,n);if(!o.contains(p))throw new Ul(Ml.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Ry(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new oh(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new my(new Ch(c),s,u)}function xy(e,t){if(Ty(e=Oa(e)))return Sy("Unsupported field value:",t,e),Iy(e,t);if(e instanceof py)return function(e,t){if(!gy(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=le(e);try{for(a.s();!(n=a.n()).done;){var o=xy(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Oa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return mf(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Xl.fromDate(e);return{timestampValue:fd(t.k,n)}}if(e instanceof Xl){var r=new Xl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fd(t.k,r)}}if(e instanceof vy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dy)return{bytesValue:dd(t.k,e._byteString)};if(e instanceof ry){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:yd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat($v(e)))}(e,t)}function Iy(e,t){var n={};return th(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eh(e,(function(e,r){var i=xy(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ty(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xl||e instanceof vy||e instanceof dy||e instanceof ry||e instanceof py)}function Sy(e,t,n){if(!Ty(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=$v(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function _y(e,t,n){if((t=Oa(t))instanceof fy)return t._internalPath;if("string"==typeof t)return Cy(e,t);throw Ny("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Ay=new RegExp("[~\\*/\\[\\]]");function Cy(e,t,n){if(t.search(Ay)>=0)throw Ny("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ye(fy,pe(t.split(".")))._internalPath}catch(r){throw Ny("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ny(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Ul(Ml.INVALID_ARGUMENT,s+e+u)}function Ry(e,t){return e.some((function(e){return e.isEqual(t)}))}function Oy(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}function Dy(e,t){var n=ey(e.firestore,cy),r=sy(e),i=Oy(e.converter,t);return Py(n,[Ey(by(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Rf.exists(!1))]).then((function(){return r}))}function Py(e,t){return function(e,t){var n=new jl;return e.asyncQueue.enqueueAndForget(X($().mark((function r(){return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=bv,r.next=3,Wv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ly(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Sl="9.6.1",no(new Da("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new cy(i,new Bl(e.getProvider("auth-internal")),new Kl(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),co(Il,"3.4.1",e),co(Il,"3.4.1","esm2017")}();function Ly(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var My;Object.create;function Uy(){return ve({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var jy=Uy,Fy=new Ea("auth","Firebase",Uy()),Vy=new Wa("@firebase/auth");function By(e){if(Vy.logLevel<=Ua.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vy.error.apply(Vy,["Auth (".concat(so,"): ").concat(e)].concat(n))}}function zy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ky.apply(void 0,[e].concat(n))}function qy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ky.apply(void 0,[e].concat(n))}function Hy(e,t,n){var r=Object.assign(Object.assign({},jy()),ve({},t,n));return new Ea("auth","Firebase",r).create(t,{appName:e.name})}function Ky(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=pe(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(pe(o)))}return Fy.create.apply(Fy,[e].concat(n))}function Wy(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ky.apply(void 0,[t].concat(r))}}function Gy(e){var t="INTERNAL ASSERTION FAILED: "+e;throw By(t),new Error(t)}function Qy(e,t){e||Gy(t)}var Yy=new Map;function Jy(e){Qy(e instanceof Function,"Expected a class definition");var t=Yy.get(e);return t?(Qy(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yy.set(e,t),t)}function Xy(e,t){var n=ro(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Ta(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;zy(r,"already-initialized")}return n.initialize({options:t})}function Zy(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $y(){return"http:"===em()||"https:"===em()}function em(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var tm=function(){function e(t,n){he(this,e),this.shortDelay=t,this.longDelay=n,Qy(n>t,"Short delay should be less than long delay!"),this.isMobile=ma()||ka()}return de(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&($y()||ga()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function nm(e,t){Qy(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var rm=function(){function e(){he(this,e)}return de(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Gy("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Gy("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Gy("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),im=(ve(My={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ve(My,"MISSING_CUSTOM_TOKEN","internal-error"),ve(My,"INVALID_IDENTIFIER","invalid-email"),ve(My,"MISSING_CONTINUE_URI","internal-error"),ve(My,"INVALID_PASSWORD","wrong-password"),ve(My,"MISSING_PASSWORD","internal-error"),ve(My,"EMAIL_EXISTS","email-already-in-use"),ve(My,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ve(My,"INVALID_IDP_RESPONSE","invalid-credential"),ve(My,"INVALID_PENDING_TOKEN","invalid-credential"),ve(My,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ve(My,"MISSING_REQ_TYPE","internal-error"),ve(My,"EMAIL_NOT_FOUND","user-not-found"),ve(My,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ve(My,"EXPIRED_OOB_CODE","expired-action-code"),ve(My,"INVALID_OOB_CODE","invalid-action-code"),ve(My,"MISSING_OOB_CODE","internal-error"),ve(My,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ve(My,"INVALID_ID_TOKEN","invalid-user-token"),ve(My,"TOKEN_EXPIRED","user-token-expired"),ve(My,"USER_NOT_FOUND","user-token-expired"),ve(My,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ve(My,"INVALID_CODE","invalid-verification-code"),ve(My,"INVALID_SESSION_INFO","invalid-verification-id"),ve(My,"INVALID_TEMPORARY_PROOF","invalid-credential"),ve(My,"MISSING_SESSION_INFO","missing-verification-id"),ve(My,"SESSION_EXPIRED","code-expired"),ve(My,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ve(My,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ve(My,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ve(My,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ve(My,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ve(My,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ve(My,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ve(My,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ve(My,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ve(My,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ve(My,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),My),am=new tm(3e4,6e4);function om(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function sm(e,t,n,r){return um.apply(this,arguments)}function um(){return um=X($().mark((function e(t,n,r,i){var a,o=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",cm(t,a,X($().mark((function e(){var a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=_a(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",rm.fetch()(dm(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function cm(e,t,n){return lm.apply(this,arguments)}function lm(){return lm=X($().mark((function e(t,n,r){var i,o,s,u,c,l,h,f,d,p;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},im),n),e.prev=2,o=new pm(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw vm(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),h=a(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw vm(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw vm(t,"email-already-in-use",u);case 25:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Hy(t,p,d);case 30:zy(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof ba)){e.next=37;break}throw e.t0;case 37:zy(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),lm.apply(this,arguments)}function hm(e,t,n,r){return fm.apply(this,arguments)}function fm(){return fm=X($().mark((function e(t,n,r,i){var a,o,s=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,sm(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&zy(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function dm(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?nm(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var pm=function(){function e(t){var n=this;he(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(qy(n.auth,"timeout"))}),am.get())}))}return de(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function vm(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=qy(e,t,r);return i.customData._tokenResponse=n,i}function ym(e,t){return mm.apply(this,arguments)}function mm(){return mm=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sm(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),mm.apply(this,arguments)}function gm(e,t){return km.apply(this,arguments)}function km(){return km=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sm(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function wm(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function bm(){return bm=X($().mark((function e(t){var n,r,i,a,o,s,u=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Oa(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Wy((a=xm(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:wm(Em(a.auth_time)),issuedAtTime:wm(Em(a.iat)),expirationTime:wm(Em(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function Em(e){return 1e3*Number(e)}function xm(e){var t=a(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return By("JWT malformed, contained fewer than 3 sections"),null;try{var o=pa(r);return o?JSON.parse(o):(By("Failed to decode base64 JWT payload"),null)}catch(s){return By("Caught error parsing JWT payload as JSON",s),null}}function Im(e,t){return Tm.apply(this,arguments)}function Tm(){return Tm=X($().mark((function e(t,n){var r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ba&&Sm(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Tm.apply(this,arguments)}function Sm(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var _m=function(){function e(t){he(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return de(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(X($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Am=function(){function e(t,n){he(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return de(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=wm(this.lastLoginAt),this.creationTime=wm(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Cm(e){return Nm.apply(this,arguments)}function Nm(){return Nm=X($().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Im(t,gm(r,{idToken:i}));case 6:Wy(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Dm(o.providerUserInfo):[],u=Om(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Am(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),Nm.apply(this,arguments)}function Rm(){return(Rm=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Oa(t),e.next=3,Cm(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Om(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(pe(n),pe(t))}function Dm(e){return e.map((function(e){var t=e.providerId,n=Ly(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Pm(e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=X($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cm(t,{},X($().mark((function e(){var r,i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_a({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=dm(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",rm.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}var Mm=function(){function e(){he(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return de(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Wy(e.idToken,"internal-error"),Wy("undefined"!==typeof e.idToken,"internal-error"),Wy("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=xm(e);return Wy(t,"internal-error"),Wy("undefined"!==typeof t.exp,"internal-error"),Wy("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=X($().mark((function e(t){var n,r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Wy(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=X($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pm(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Gy("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Wy("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Wy("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Wy("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Um(e,t){Wy("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var jm=function(){function e(t){he(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ly(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new _m(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Am(a.createdAt||void 0,a.lastLoginAt||void 0)}return de(e,[{key:"getIdToken",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Im(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Wy(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return bm.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Rm.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Wy(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Wy(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=X($().mark((function e(t){var n,r,i=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Cm(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Im(this,ym(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,E=n.providerData,x=n.stsTokenManager;Wy(k&&x,t,"internal-error");var I=Mm.fromJSON(this.name,x);Wy("string"===typeof k,t,"internal-error"),Um(h,t.name),Um(f,t.name),Wy("boolean"===typeof w,t,"internal-error"),Wy("boolean"===typeof b,t,"internal-error"),Um(d,t.name),Um(p,t.name),Um(v,t.name),Um(y,t.name),Um(m,t.name),Um(g,t.name);var T=new e({uid:k,auth:t,email:f,emailVerified:w,displayName:h,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:m,lastLoginAt:g});return E&&Array.isArray(E)&&(T.providerData=E.map((function(e){return Object.assign({},e)}))),y&&(T._redirectEventId=y),T}},{key:"_fromIdTokenResponse",value:function(){var t=X($().mark((function t(n,r){var i,a,o,s=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Mm).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Cm(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Fm=function(){function e(){he(this,e),this.type="NONE",this.storage={}}return de(e,[{key:"_isAvailable",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Fm.type="NONE";var Vm=Fm;function Bm(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var zm=function(){function e(t,n,r){he(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Bm(this.userKey,a.apiKey,o),this.fullPersistenceKey=Bm("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return de(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?jm._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=X($().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Jy(Vm),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Jy(Vm),s=Bm(i,n.config.apiKey,n.name),u=null,c=le(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=jm._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function qm(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Gm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ym(t))return"Blackberry";if(Jm(t))return"Webos";if(Km(t))return"Safari";if((t.includes("chrome/")||Wm(t))&&!t.includes("edge/"))return"Chrome";if(Qm(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Hm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya();return/firefox\//i.test(e)}function Km(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Wm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya();return/crios\//i.test(e)}function Gm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya();return/iemobile/i.test(e)}function Qm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya();return/android/i.test(e)}function Ym(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya();return/blackberry/i.test(e)}function Jm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya();return/webos/i.test(e)}function Xm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya();return/iphone|ipad|ipod/i.test(e)}function Zm(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya();return Xm(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function $m(){return wa()&&10===document.documentMode}function eg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya();return Xm(e)||Qm(e)||Jm(e)||Ym(e)||/windows phone/i.test(e)||Gm(e)}function tg(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qm(ya());break;case"Worker":t="".concat(qm(ya()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(so,"/").concat(r)}var ng=function(){function e(t,n){he(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ig(this),this.idTokenSubscription=new ig(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fy,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return de(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Jy(t)),this._initializationPromise=this.queue(X($().mark((function r(){var i,a;return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,zm.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=X($().mark((function e(t){var n,r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Wy(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Cm(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Oa(t):null)&&Wy(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=X($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Wy(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(X($().mark((function n(){return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Jy(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ea("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=X($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Wy(n=t&&Jy(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,zm.create(this,[Jy(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=X($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=X($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Wy(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Wy(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tg(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ve({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rg(e){return Oa(e)}var ig=function(){function e(t){var n=this;he(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Na(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return de(e,[{key:"next",get:function(){return Wy(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var ag=function(){function e(t,n){he(this,e),this.providerId=t,this.signInMethod=n}return de(e,[{key:"toJSON",value:function(){return Gy("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Gy("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Gy("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Gy("not implemented")}}]),e}();function og(e,t){return sg.apply(this,arguments)}function sg(){return sg=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sm(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),sg.apply(this,arguments)}function ug(e,t){return cg.apply(this,arguments)}function cg(){return cg=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hm(t,"POST","/v1/accounts:signInWithPassword",om(t,n)));case 1:case"end":return e.stop()}}),e)}))),cg.apply(this,arguments)}function lg(e,t){return hg.apply(this,arguments)}function hg(){return hg=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hm(t,"POST","/v1/accounts:signInWithEmailLink",om(t,n)));case 1:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function fg(e,t){return dg.apply(this,arguments)}function dg(){return dg=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hm(t,"POST","/v1/accounts:signInWithEmailLink",om(t,n)));case 1:case"end":return e.stop()}}),e)}))),dg.apply(this,arguments)}var pg=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return he(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return de(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ug(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",lg(t,{email:this._email,oobCode:this._password}));case 5:zy(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",og(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",fg(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:zy(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ag);function vg(e,t){return yg.apply(this,arguments)}function yg(){return yg=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hm(t,"POST","/v1/accounts:signInWithIdp",om(t,n)));case 1:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}var mg=function(e){ae(n,e);var t=ce(n);function n(){var e;return he(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return de(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return vg(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,vg(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,vg(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_a(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zy("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ly(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ag);function gg(e,t){return kg.apply(this,arguments)}function kg(){return kg=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sm(t,"POST","/v1/accounts:sendVerificationCode",om(t,n)));case 1:case"end":return e.stop()}}),e)}))),kg.apply(this,arguments)}function wg(){return wg=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hm(t,"POST","/v1/accounts:signInWithPhoneNumber",om(t,n)));case 1:case"end":return e.stop()}}),e)}))),wg.apply(this,arguments)}function bg(){return bg=X($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hm(t,"POST","/v1/accounts:signInWithPhoneNumber",om(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw vm(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),bg.apply(this,arguments)}var Eg=ve({},"USER_NOT_FOUND","user-not-found");function xg(){return xg=X($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",hm(t,"POST","/v1/accounts:signInWithPhoneNumber",om(t,r),Eg));case 2:case"end":return e.stop()}}),e)}))),xg.apply(this,arguments)}var Ig=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this,"phone","phone")).params=e,r}return de(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return wg.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return bg.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return xg.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ag);var Tg=function(){function e(t){var n,r,i,a,o,s;he(this,e);var u=Aa(Ca(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Wy(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return de(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Aa(Ca(e)).link,n=t?Aa(Ca(t)).deep_link_id:null,r=Aa(Ca(e)).deep_link_id;return(r?Aa(Ca(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Av){return null}}}]),e}();var Sg=function(){function e(){he(this,e),this.providerId=e.PROVIDER_ID}return de(e,null,[{key:"credential",value:function(e,t){return pg._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Tg.parseLink(t);return Wy(n,"argument-error"),pg._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Sg.PROVIDER_ID="password",Sg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Sg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var _g=function(){function e(t){he(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return de(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ag=function(e){ae(n,e);var t=ce(n);function n(){var e;return he(this,n),(e=t.apply(this,arguments)).scopes=[],e}return de(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return pe(this.scopes)}}]),n}(_g),Cg=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.call(this,"facebook.com")}return de(n,null,[{key:"credential",value:function(e){return mg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Av){return null}}}]),n}(Ag);Cg.FACEBOOK_SIGN_IN_METHOD="facebook.com",Cg.PROVIDER_ID="facebook.com";var Ng=function(e){ae(n,e);var t=ce(n);function n(){var e;return he(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return de(n,null,[{key:"credential",value:function(e,t){return mg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Av){return null}}}]),n}(Ag);Ng.GOOGLE_SIGN_IN_METHOD="google.com",Ng.PROVIDER_ID="google.com";var Rg=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.call(this,"github.com")}return de(n,null,[{key:"credential",value:function(e){return mg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Av){return null}}}]),n}(Ag);Rg.GITHUB_SIGN_IN_METHOD="github.com",Rg.PROVIDER_ID="github.com";var Og=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.call(this,"twitter.com")}return de(n,null,[{key:"credential",value:function(e,t){return mg._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Av){return null}}}]),n}(Ag);Og.TWITTER_SIGN_IN_METHOD="twitter.com",Og.PROVIDER_ID="twitter.com";var Dg=function(){function e(t){he(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return de(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=X($().mark((function t(n,r,i){var a,o,s,u,c=arguments;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,jm._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Pg(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=X($().mark((function t(n,r,i){var a;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Pg(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Pg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Lg=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a){var o,s;return he(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(re(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return de(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ba);function Mg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Lg._fromErrorAndOperation(e,n,t,r);throw n}))}function Ug(e,t){return jg.apply(this,arguments)}function jg(){return jg=X($().mark((function e(t,n){var r,i,a=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Im,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Dg._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Fg(e,t){return Vg.apply(this,arguments)}function Vg(){return Vg=X($().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Im(t,Mg(i,a,n,t),r);case 6:return Wy((o=e.sent).idToken,i,"internal-error"),Wy(s=xm(o.idToken),i,"internal-error"),u=s.sub,Wy(t.uid===u,i,"user-mismatch"),e.abrupt("return",Dg._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&zy(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Vg.apply(this,arguments)}function Bg(e,t){return zg.apply(this,arguments)}function zg(){return zg=X($().mark((function e(t,n){var r,i,a,o,s=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Mg(t,i,n);case 4:return a=e.sent,e.next=7,Dg._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),zg.apply(this,arguments)}function qg(e,t){return sm(e,"POST","/v2/accounts/mfaEnrollment:start",om(e,t))}new WeakMap;var Hg="__sak",Kg=function(){function e(t,n){he(this,e),this.storageRetriever=t,this.type=n}return de(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Hg,"1"),this.storage.removeItem(Hg),Promise.resolve(!0)):Promise.resolve(!1)}catch(Av){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Wg=function(e){ae(n,e);var t=ce(n);function n(){var e;return he(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ya();return Km(e)||Xm(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=eg(),e._shouldAllowMigration=!0,e}return de(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);$m()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=X($().mark((function e(t,r){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(ee(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=X($().mark((function e(t){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(ee(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(ee(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Kg);Wg.type="LOCAL";var Gg=Wg,Qg=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return de(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Kg);Qg.type="SESSION";var Yg=Qg;function Jg(e){return Promise.all(e.map(function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Xg=function(){function e(t){he(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return de(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=X($().mark((function e(t){var n,r,i,a,o,s,u,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Jg(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Zg(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Xg.receivers=[];var $g=function(){function e(t){he(this,e),this.target=t,this.handlers=new Set}return de(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=X($().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Zg("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ek(){return window}function tk(){return"undefined"!==typeof ek().WorkerGlobalScope&&"function"===typeof ek().importScripts}function nk(){return rk.apply(this,arguments)}function rk(){return(rk=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ik(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var ak="firebaseLocalStorageDb",ok="firebaseLocalStorage",sk="fbase_key",uk=function(){function e(t){he(this,e),this.request=t}return de(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ck(e,t){return e.transaction([ok],t?"readwrite":"readonly").objectStore(ok)}function lk(){var e=indexedDB.deleteDatabase(ak);return new uk(e).toPromise()}function hk(){var e=indexedDB.open(ak,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ok,{keyPath:sk})}catch(r){n(r)}})),e.addEventListener("success",X($().mark((function n(){var r;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ok)){n.next=12;break}return r.close(),n.next=5,lk();case 5:return n.t0=t,n.next=8,hk();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function fk(e,t,n){return dk.apply(this,arguments)}function dk(){return dk=X($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ck(t,!0).put((ve(i={},sk,n),ve(i,"value",r),i)),e.abrupt("return",new uk(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),dk.apply(this,arguments)}function pk(e,t){return vk.apply(this,arguments)}function vk(){return vk=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ck(t,!1).get(n),e.next=3,new uk(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}function yk(e,t){var n=ck(e,!0).delete(t);return new uk(n).toPromise()}var mk=function(){function e(){he(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return de(e,[{key:"_openDb",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,hk();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=X($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tk()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=X($().mark((function e(){var t=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Xg._getInstance(tk()?self:null),this.receiver._subscribe("keyChanged",function(){var e=X($().mark((function e(n,r){var i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=X($().mark((function e(){var t,n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nk();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new $g(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ik()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,hk();case 5:return t=e.sent,e.next=8,fk(t,Hg,"1");case 8:return e.next=10,yk(t,Hg);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=X($().mark((function e(t,n){var r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return fk(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return pk(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=X($().mark((function e(t){var n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return yk(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=X($().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ck(e,!1).getAll();return new uk(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=le(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(X($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();mk.type="LOCAL";var gk=mk;function kk(e,t){return sm(e,"POST","/v2/accounts/mfaSignIn:start",om(e,t))}function wk(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=qy("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function bk(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}bk("rcb"),new tm(3e4,6e4);var Ek="recaptcha";function xk(e,t,n){return Ik.apply(this,arguments)}function Ik(){return Ik=X($().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Wy("string"===typeof a,t,"argument-error"),Wy(r.type===Ek,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Wy("enroll"===s.type,t,"internal-error"),e.next=13,qg(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Wy("signin"===s.type,t,"internal-error"),Wy(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,kk(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,gg(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Ik.apply(this,arguments)}var Tk=function(){function e(t){he(this,e),this.providerId=e.PROVIDER_ID,this.auth=rg(t)}return de(e,[{key:"verifyPhoneNumber",value:function(e,t){return xk(this.auth,e,Oa(t))}}],[{key:"credential",value:function(e,t){return Ig._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ig._fromTokenResponse(n,r):null}}]),e}();function Sk(e,t){return t?Jy(t):(Wy(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Tk.PROVIDER_ID="phone",Tk.PHONE_SIGN_IN_METHOD="phone";var _k=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this,"custom","custom")).params=e,r}return de(n,[{key:"_getIdTokenResponse",value:function(e){return vg(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return vg(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return vg(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ag);function Ak(e){return Bg(e.auth,new _k(e),e.bypassAuthState)}function Ck(e){var t=e.auth,n=e.user;return Wy(n,t,"internal-error"),Fg(n,new _k(e),e.bypassAuthState)}function Nk(e){return Rk.apply(this,arguments)}function Rk(){return Rk=X($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Wy(r=t.user,n,"internal-error"),e.abrupt("return",Ug(r,new _k(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Rk.apply(this,arguments)}var Ok=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];he(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return de(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=X($().mark((function t(n,r){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=X($().mark((function e(t){var n,r,i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ak;case"linkViaPopup":case"linkViaRedirect":return Nk;case"reauthViaPopup":case"reauthViaRedirect":return Ck;default:zy(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Qy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Qy(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Dk=new tm(2e3,1e4);var Pk=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a,o){var s;return he(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=re(s),s}return de(n,[{key:"executeNotNull",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Wy(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=X($().mark((function e(){var t,n=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qy(1===this.filter.length,"Popup operations only handle one event"),t=Zg(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(qy(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(qy(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(qy(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Dk.get())}()}}]),n}(Ok);Pk.currentPopupAction=null;var Lk=new Map,Mk=function(e){ae(n,e);var t=ce(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return he(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return de(n,[{key:"execute",value:function(){var e=X($().mark((function e(){var t,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Lk.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Uk(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ne(ee(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Lk.set(this.auth._key(),t);case 21:return this.bypassAuthState||Lk.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=X($().mark((function e(t){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ne(ee(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ne(ee(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ok);function Uk(e,t){return jk.apply(this,arguments)}function jk(){return jk=X($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vk(n),i=Fk(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),jk.apply(this,arguments)}function Fk(e){return Jy(e._redirectPersistence)}function Vk(e){return Bm("pendingRedirect",e.config.apiKey,e.name)}function Bk(e,t){return zk.apply(this,arguments)}function zk(){return zk=X($().mark((function e(t,n){var r,i,a,o,s,u=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=rg(t),a=Sk(i,n),o=new Mk(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),zk.apply(this,arguments)}var qk=function(){function e(t){he(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return de(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kk(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Kk(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(qy(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hk(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Hk(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Hk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Kk(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Wk(e){return Gk.apply(this,arguments)}function Gk(){return Gk=X($().mark((function e(t){var n,r=arguments;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",sm(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}var Qk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yk=/^https?/;function Jk(){return Jk=X($().mark((function e(t){var n,r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Wk(t);case 4:n=e.sent,r=n.authorizedDomains,i=le(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Xk(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:zy(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Jk.apply(this,arguments)}function Xk(e){var t=Zy(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Yk.test(r))return!1;if(Qk.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Zk=new tm(3e4,6e4);function $k(){var e=ek().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=pe(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ew=null;function tw(e){return ew=ew||function(e){return new Promise((function(t,n){var r,i,a;function o(){$k(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){$k(),n(qy(e,"network-request-failed"))},timeout:Zk.get()})}if(null===(i=null===(r=ek().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ek().gapi)||void 0===a?void 0:a.load)){var s=bk("iframefcb");return ek()[s]=function(){gapi.load?o():n(qy(e,"network-request-failed"))},wk("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ew=null,e}))}(e),ew}var nw=new tm(5e3,15e3),rw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aw(e){var t=e.config;Wy(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?nm(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:so},i=iw.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(_a(r).slice(1))}function ow(e){return sw.apply(this,arguments)}function sw(){return sw=X($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tw(t);case 2:return n=e.sent,Wy(r=ek().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:aw(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rw,dontclear:!0},(function(e){return new Promise(function(){var n=X($().mark((function n(r,i){var a,o,s;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){ek().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=qy(t,"network-request-failed"),o=ek().setTimeout((function(){i(a)}),nw.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),sw.apply(this,arguments)}var uw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cw="_blank",lw="http://localhost",hw=function(){function e(t){he(this,e),this.window=t,this.associatedEvent=null}return de(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function fw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},uw),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ya().toLowerCase();n&&(u=Wm(l)?cw:n),Hm(l)&&(t=t||lw,c.scrollbars="yes");var h=Object.entries(c).reduce((function(e,t){var n=a(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Zm(l)&&"_self"!==u)return dw(t||"",u),new hw(null);var f=window.open(t||"",u,h);Wy(f,e,"popup-blocked");try{f.focus()}catch(d){}return new hw(f)}function dw(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var pw="__/auth/handler",vw="emulator/auth/handler";function yw(e,t,n,r,i,o){Wy(e.config.authDomain,e,"auth-domain-config-required"),Wy(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:so,eventId:i};if(t instanceof _g){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(o||{});u<c.length;u++){var l=a(c[u],2),h=l[0],f=l[1];s[h]=f}}if(t instanceof Ag){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(s.scopes=d.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(pw);return nm(t,vw)}(e),"?").concat(_a(p).slice(1))}var mw="webStorageSupport",gw=function(){function e(){he(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yg,this._completeRedirectFn=Bk}return de(e,[{key:"_openPopup",value:function(){var e=X($().mark((function e(t,n,r,i){var a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qy(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=yw(t,n,r,Zy(),i),e.abrupt("return",fw(t,o,Zg()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=X($().mark((function e(t,n,r,i){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=yw(t,n,r,Zy(),i),ek().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Qy(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=X($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ow(t);case 2:return n=e.sent,r=new qk(t),n.register("authEvent",(function(e){return Wy(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(mw,{type:mw},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),zy(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Jk.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return eg()||Km()||Xm()}}]),e}(),kw=gw,ww=function(){function e(t){he(this,e),this.factorId=t}return de(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Gy("unexpected MultiFactorSessionType")}}}]),e}(),bw=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this,"phone")).credential=e,r}return de(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return sm(e,"POST","/v2/accounts/mfaEnrollment:finalize",om(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return sm(e,"POST","/v2/accounts/mfaSignIn:finalize",om(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ww),Ew=function(){function e(){he(this,e)}return de(e,null,[{key:"assertion",value:function(e){return bw._fromCredential(e)}}]),e}();Ew.FACTOR_ID="phone";var xw="@firebase/auth",Iw="0.19.4",Tw=function(){function e(t){he(this,e),this.auth=t,this.internalListeners=new Map}return de(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Wy(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();!function(e){no(new Da("auth",(function(t,n){var r=n.options,i=t.getProvider("app").getImmediate(),a=i.options,o=a.apiKey,s=a.authDomain;return function(t){Wy(o&&!o.includes(":"),"invalid-api-key",{appName:t.name}),Wy(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:t.name});var n={apiKey:o,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tg(e)},i=new ng(t,n);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jy);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,r),i}(i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),no(new Da("auth-internal",(function(e){return function(e){return new Tw(e)}(rg(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),co(xw,Iw,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),co(xw,Iw,"esm2017")}("Browser");var Sw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Xa,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ao.create("bad-app-name",{appName:String(i)});var a=$a.get(i);if(a){if(Ta(e,a.options)&&Ta(r,a.config))return a;throw ao.create("duplicate-app",{appName:i})}var o,s=new ja(i),u=le(eo.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new oo(e,r,s);return $a.set(i,l),l}({apiKey:"AIzaSyCdN1WsH7agQb0ZZm4rAhThy32-HmY0x2w",authDomain:"pweb-69be9.firebaseapp.com",projectId:"pweb-69be9",storageBucket:"pweb-69be9.appspot.com",messagingSenderId:"517444776352",appId:"1:517444776352:web:0356289957dd82d10974c5",measurementId:"G-GYRLEPEQZ6"}),_w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo();return ro(e,"firestore").getImmediate()}(Sw),Aw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo(),t=ro(e,"auth");return t.isInitialized()?t.getImmediate():Xy(e,{popupRedirectResolver:kw,persistence:[gk,Gg,Yg]})}(Sw),Cw=function(){var e=X($().mark((function e(t,n,r,i,a,o,s,u,c,l){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dy(oy(_w,"veiculos"),{id:sy.id,nome:t,imagem:n,marca:r,placa:i,chassi:a,renovam:o,cadeiras:s,classificacao:u,cor:c,gps:l,reservado:!1});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r,i,a,o,s,u,c,l){return e.apply(this,arguments)}}();function Nw(){var t=a((0,e.useState)(""),2),n=t[0],r=t[1],i=a((0,e.useState)(""),2),o=i[0],s=i[1],u=function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ar(Aw,n,o);case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,Q.jsx)("main",{children:(0,Q.jsxs)("div",{className:"container-login",children:[(0,Q.jsx)("div",{className:"titulo",children:"LOGIN"}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o seu email...",onChange:function(e){r(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"senha",children:"Senha:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite a sua senha...",onChange:function(e){s(e.target.value)}})]}),(0,Q.jsx)("button",{className:"botao-entrar",onClick:u,children:"Entrar"})]})})}yt("firebase","9.6.1","app");var Rw,Ow="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Dw={},Pw=Pw||{},Lw=Ow||self;function Mw(){}function Uw(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function jw(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Fw="closure_uid_"+(1e9*Math.random()>>>0),Vw=0;function Bw(e,t,n){return e.call.apply(e.bind,arguments)}function zw(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function qw(e,t,n){return(qw=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bw:zw).apply(null,arguments)}function Hw(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Kw(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ww(){this.s=this.s,this.o=this.o}var Gw={};Ww.prototype.s=!1,Ww.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Fw)&&e[Fw]||(e[Fw]=++Vw)}(this);delete Gw[e]}},Ww.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Qw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Yw=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Jw(e){return Array.prototype.concat.apply([],arguments)}function Xw(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zw(e){return/^[\s\xa0]*$/.test(e)}var $w,eb=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function tb(e,t){return-1!=e.indexOf(t)}function nb(e,t){return e<t?-1:e>t?1:0}e:{var rb=Lw.navigator;if(rb){var ib=rb.userAgent;if(ib){$w=ib;break e}}$w=""}function ab(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ob(e){var t={};for(var n in e)t[n]=e[n];return t}var sb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ub(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<sb.length;a++)n=sb[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function cb(e){return cb[" "](e),e}cb[" "]=Mw;var lb,hb=tb($w,"Opera"),fb=tb($w,"Trident")||tb($w,"MSIE"),db=tb($w,"Edge"),pb=db||fb,vb=tb($w,"Gecko")&&!(tb($w.toLowerCase(),"webkit")&&!tb($w,"Edge"))&&!(tb($w,"Trident")||tb($w,"MSIE"))&&!tb($w,"Edge"),yb=tb($w.toLowerCase(),"webkit")&&!tb($w,"Edge");function mb(){var e=Lw.document;return e?e.documentMode:void 0}e:{var gb="",kb=function(){var e=$w;return vb?/rv:([^\);]+)(\)|;)/.exec(e):db?/Edge\/([\d\.]+)/.exec(e):fb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):yb?/WebKit\/(\S+)/.exec(e):hb?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(kb&&(gb=kb?kb[1]:""),fb){var wb=mb();if(null!=wb&&wb>parseFloat(gb)){lb=String(wb);break e}}lb=gb}var bb,Eb={};function xb(){return function(e){var t=Eb;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=eb(String(lb)).split("."),n=eb("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=nb(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||nb(0==a[2].length,0==o[2].length)||nb(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Lw.document&&fb){var Ib=mb();bb=Ib||(parseInt(lb,10)||void 0)}else bb=void 0;var Tb=bb,Sb=function(){if(!Lw.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Lw.addEventListener("test",Mw,t),Lw.removeEventListener("test",Mw,t)}catch(n){}return e}();function _b(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ab(e,t){if(_b.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(vb){e:{try{cb(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Cb[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ab.Z.h.call(this)}}_b.prototype.h=function(){this.defaultPrevented=!0},Kw(Ab,_b);var Cb={2:"touch",3:"pen",4:"mouse"};Ab.prototype.h=function(){Ab.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Nb="closure_listenable_"+(1e6*Math.random()|0),Rb=0;function Ob(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Rb,this.ca=this.fa=!1}function Db(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Pb(e){this.src=e,this.g={},this.h=0}function Lb(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Qw(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Db(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Mb(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Pb.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Mb(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ob(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ub="closure_lm_"+(1e6*Math.random()|0),jb={};function Fb(e,t,n,r,i){if(r&&r.once)return Bb(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fb(e,t[a],n,r,i);return null}return n=Qb(n),e&&e[Nb]?e.N(t,n,jw(r)?!!r.capture:!!r,i):Vb(e,t,n,!1,r,i)}function Vb(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=jw(i)?!!i.capture:!!i,s=Wb(e);if(s||(e[Ub]=s=new Pb(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Kb;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sb||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Hb(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Bb(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Bb(e,t[a],n,r,i);return null}return n=Qb(n),e&&e[Nb]?e.O(t,n,jw(r)?!!r.capture:!!r,i):Vb(e,t,n,!0,r,i)}function zb(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)zb(e,t[a],n,r,i);else r=jw(r)?!!r.capture:!!r,n=Qb(n),e&&e[Nb]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Mb(a=e.g[t],n,r,i))&&(Db(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Wb(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Mb(t,n,r,i)),(n=-1<e?t[e]:null)&&qb(n))}function qb(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Nb])Lb(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Hb(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Wb(t))?(Lb(n,e),0==n.h&&(n.src=null,t[Ub]=null)):Db(e)}}}function Hb(e){return e in jb?jb[e]:jb[e]="on"+e}function Kb(e,t){if(e.ca)e=!0;else{t=new Ab(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&qb(e),e=n.call(r,t)}return e}function Wb(e){return(e=e[Ub])instanceof Pb?e:null}var Gb="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qb(e){return"function"===typeof e?e:(e[Gb]||(e[Gb]=function(t){return e.handleEvent(t)}),e[Gb])}function Yb(){Ww.call(this),this.i=new Pb(this),this.P=this,this.I=null}function Jb(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new _b(t,e);else if(t instanceof _b)t.target=t.target||e;else{var i=t;ub(t=new _b(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Xb(o,r,!0,t)&&i}if(i=Xb(o=t.g=e,r,!0,t)&&i,i=Xb(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Xb(o=t.g=n[a],r,!1,t)&&i}function Xb(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Lb(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Kw(Yb,Ww),Yb.prototype[Nb]=!0,Yb.prototype.removeEventListener=function(e,t,n,r){zb(this,e,t,n,r)},Yb.prototype.M=function(){if(Yb.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Db(n[r]);delete t.g[e],t.h--}}this.I=null},Yb.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Yb.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Zb=Lw.JSON.stringify;function $b(){var e=sE,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var eE,tE=function(){function e(){he(this,e),this.h=this.g=null}return de(e,[{key:"add",value:function(e,t){var n=nE.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),nE=new(function(){function e(t,n){he(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return de(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new rE}),(function(e){return e.reset()})),rE=function(){function e(){he(this,e),this.next=this.g=this.h=null}return de(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function iE(e){Lw.setTimeout((function(){throw e}),0)}function aE(e,t){eE||function(){var e=Lw.Promise.resolve(void 0);eE=function(){e.then(uE)}}(),oE||(eE(),oE=!0),sE.add(e,t)}var oE=!1,sE=new tE;function uE(){for(var e;e=$b();){try{e.h.call(e.g)}catch(n){iE(n)}var t=nE;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}oE=!1}function cE(e,t){Yb.call(this),this.h=e||1,this.g=t||Lw,this.j=qw(this.kb,this),this.l=Date.now()}function lE(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function hE(e,t,n){if("function"===typeof e)n&&(e=qw(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=qw(e.handleEvent,e)}return 2147483647<Number(t)?-1:Lw.setTimeout(e,t||0)}function fE(e){e.g=hE((function(){e.g=null,e.i&&(e.i=!1,fE(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Kw(cE,Yb),(Rw=cE.prototype).da=!1,Rw.S=null,Rw.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jb(this,"tick"),this.da&&(lE(this),this.start()))}},Rw.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rw.M=function(){cE.Z.M.call(this),lE(this),delete this.g};var dE=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return de(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:fE(this)}},{key:"M",value:function(){ne(ee(n.prototype),"M",this).call(this),this.g&&(Lw.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ww);function pE(e){Ww.call(this),this.h=e,this.g={}}Kw(pE,Ww);var vE=[];function yE(e,t,n,r){Array.isArray(n)||(n&&(vE[0]=n.toString()),n=vE);for(var i=0;i<n.length;i++){var a=Fb(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function mE(e){ab(e.g,(function(e,t){this.g.hasOwnProperty(t)&&qb(e)}),e),e.g={}}function gE(){this.g=!0}function kE(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Zb(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}pE.prototype.M=function(){pE.Z.M.call(this),mE(this)},pE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gE.prototype.Aa=function(){this.g=!1},gE.prototype.info=function(){};var wE={},bE=null;function EE(){return bE=bE||new Yb}function xE(e){_b.call(this,wE.Ma,e)}function IE(e){var t=EE();Jb(t,new xE(t,e))}function TE(e,t){_b.call(this,wE.STAT_EVENT,e),this.stat=t}function SE(e){var t=EE();Jb(t,new TE(t,e))}function _E(e,t){_b.call(this,wE.Na,e),this.size=t}function AE(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Lw.setTimeout((function(){e()}),t)}wE.Ma="serverreachability",Kw(xE,_b),wE.STAT_EVENT="statevent",Kw(TE,_b),wE.Na="timingevent",Kw(_E,_b);var CE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},NE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function RE(){}function OE(e){return e.h||(e.h=e.i())}function DE(){}RE.prototype.h=null;var PE,LE={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ME(){_b.call(this,"d")}function UE(){_b.call(this,"c")}function jE(){}function FE(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new pE(this),this.P=BE,e=pb?125:void 0,this.W=new cE(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new VE}function VE(){this.i=null,this.g="",this.h=!1}Kw(ME,_b),Kw(UE,_b),Kw(jE,RE),jE.prototype.g=function(){return new XMLHttpRequest},jE.prototype.i=function(){return{}},PE=new jE;var BE=45e3,zE={},qE={};function HE(e,t,n){e.K=1,e.v=dx(sx(t)),e.s=n,e.U=!0,KE(e,null)}function KE(e,t){e.F=Date.now(),YE(e),e.A=sx(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Sx(n.h,"t",r),e.C=0,n=e.l.H,e.h=new VE,e.g=_I(e.l,n?t:null,!e.s),0<e.O&&(e.L=new dE(qw(e.Ia,e,e.g),e.O)),yE(e.V,e.g,"readystatechange",e.gb),t=e.H?ob(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),IE(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function WE(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function GE(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=QE(e,n))==qE){4==t&&(e.o=4,SE(14),i=!1),kE(e.j,e.m,null,"[Incomplete Response]");break}if(r==zE){e.o=4,SE(15),kE(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}kE(e.j,e.m,r,null),ex(e,r)}WE(e)&&r!=qE&&r!=zE&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,SE(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),kI(t),t.L=!0,SE(11))):(kE(e.j,e.m,n,"[Invalid Chunked Response]"),$E(e),ZE(e))}function QE(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qE:(n=Number(t.substring(n,r)),isNaN(n)?zE:(r+=1)+n>t.length?qE:(t=t.substr(r,n),e.C=r+n,t))}function YE(e){e.Y=Date.now()+e.P,JE(e,e.P)}function JE(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=AE(qw(e.eb,e),t)}function XE(e){e.B&&(Lw.clearTimeout(e.B),e.B=null)}function ZE(e){0==e.l.G||e.I||EI(e.l,e)}function $E(e){XE(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,lE(e.W),mE(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ex(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Dx(n.i,e)))if(n.I=e.N,!e.J&&Dx(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;bI(n),lI(n)}gI(n),SE(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=AE(qw(n.ab,n),6e3));if(1>=Ox(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else II(n,11)}else if((e.J||n.g==e)&&bI(n),!Zw(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(tb(l,"spdy")||tb(l,"quic")||tb(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Px(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,fx(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=SI(r,r.H?r.la:null,r.W),d.J){Lx(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(XE(p),YE(p)),r.g=d}else mI(r);0<n.l.length&&dI(n)}else"stop"!=a[0]&&"close"!=a[0]||II(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?II(n,7):cI(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}IE(4)}catch(a){}}function tx(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Uw(e)||"string"===typeof e)Yw(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Uw(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Uw(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function nx(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof nx)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function rx(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ix(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ix(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ix(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Rw=FE.prototype).setTimeout=function(e){this.P=e},Rw.gb=function(e){e=e.target;var t=this.L;t&&3==iI(e)?t.l():this.Ia(e)},Rw.Ia=function(e){try{if(e==this.g)e:{var t=iI(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||pb||this.g&&(this.h.h||this.g.ga()||aI(this.g)))){this.I||4!=t||7==n||IE(8==n||0>=r?3:2),XE(this);var i=this.g.ba();this.N=i;t:if(WE(this)){var a=aI(this.g);e="";var o=a.length,s=4==iI(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$E(this),ZE(this);var u="";break t}this.h.i=new Lw.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zw(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,SE(12),$E(this),ZE(this);break e}kE(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ex(this,i)}this.U?(GE(this,t,u),pb&&this.i&&3==t&&(yE(this.V,this.W,"tick",this.fb),this.W.start())):(kE(this.j,this.m,u,null),ex(this,u)),4==t&&$E(this),this.i&&!this.I&&(4==t?EI(this.l,this):(this.i=!1,YE(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,SE(12)):(this.o=0,SE(13)),$E(this),ZE(this)}}}catch(t){}},Rw.fb=function(){if(this.g){var e=iI(this.g),t=this.g.ga();this.C<t.length&&(XE(this),GE(this,e,t),this.i&&4!=e&&YE(this))}},Rw.cancel=function(){this.I=!0,$E(this)},Rw.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(IE(3),SE(17)),$E(this),this.o=2,ZE(this)):JE(this,this.Y-e)},(Rw=nx.prototype).R=function(){rx(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Rw.T=function(){return rx(this),this.g.concat()},Rw.get=function(e,t){return ix(this.h,e)?this.h[e]:t},Rw.set=function(e,t){ix(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Rw.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ax=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ox(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ox){this.g=void 0!==t?t:e.g,ux(this,e.j),this.s=e.s,cx(this,e.i),lx(this,e.m),this.l=e.l,t=e.h;var n=new Ex;n.i=t.i,t.g&&(n.g=new nx(t.g),n.h=t.h),hx(this,n),this.o=e.o}else e&&(n=String(e).match(ax))?(this.g=!!t,ux(this,n[1]||"",!0),this.s=px(n[2]||""),cx(this,n[3]||"",!0),lx(this,n[4]),this.l=px(n[5]||"",!0),hx(this,n[6]||"",!0),this.o=px(n[7]||"")):(this.g=!!t,this.h=new Ex(null,this.g))}function sx(e){return new ox(e)}function ux(e,t,n){e.j=n?px(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function cx(e,t,n){e.i=n?px(t,!0):t}function lx(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function hx(e,t,n){t instanceof Ex?(e.h=t,function(e,t){t&&!e.j&&(xx(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ix(this,t),Sx(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=vx(t,wx)),e.h=new Ex(t,e.g))}function fx(e,t,n){e.h.set(t,n)}function dx(e){return fx(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function px(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function vx(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,yx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function yx(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ox.prototype.toString=function(){var e=[],t=this.j;t&&e.push(vx(t,mx,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(vx(t,mx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(vx(n,"/"==n.charAt(0)?kx:gx,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",vx(n,bx)),e.join("")};var mx=/[#\/\?@]/g,gx=/[#\?:]/g,kx=/[#\?]/g,wx=/[#\?@]/g,bx=/#/g;function Ex(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xx(e){e.g||(e.g=new nx,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ix(e,t){xx(e),t=_x(e,t),ix(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ix((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&rx(e)))}function Tx(e,t){return xx(e),t=_x(e,t),ix(e.g.h,t)}function Sx(e,t,n){Ix(e,t),0<n.length&&(e.i=null,e.g.set(_x(e,t),Xw(n)),e.h+=n.length)}function _x(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Rw=Ex.prototype).add=function(e,t){xx(this),this.i=null,e=_x(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Rw.forEach=function(e,t){xx(this),this.g.forEach((function(n,r){Yw(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Rw.T=function(){xx(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Rw.R=function(e){xx(this);var t=[];if("string"===typeof e)Tx(this,e)&&(t=Jw(t,this.g.get(_x(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Jw(t,e[n])}return t},Rw.set=function(e,t){return xx(this),this.i=null,Tx(this,e=_x(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Rw.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Rw.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ax=de((function e(t,n){he(this,e),this.h=t,this.g=n}));function Cx(e){this.l=e||Nx,Lw.PerformanceNavigationTiming?e=0<(e=Lw.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Lw.g&&Lw.g.Ea&&Lw.g.Ea()&&Lw.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Nx=10;function Rx(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ox(e){return e.h?1:e.g?e.g.size:0}function Dx(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Px(e,t){e.g?e.g.add(t):e.h=t}function Lx(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Mx(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=le(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Xw(e.i)}function Ux(){}function jx(){this.g=new Ux}function Fx(e,t,n){var r=n||"";try{tx(e,(function(e,n){var i=e;jw(e)&&(i=Zb(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vx(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Bx(e){this.l=e.$b||null,this.j=e.ib||!1}function zx(e,t){Yb.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=qx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cx.prototype.cancel=function(){if(this.i=Mx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=le(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ux.prototype.stringify=function(e){return Lw.JSON.stringify(e,void 0)},Ux.prototype.parse=function(e){return Lw.JSON.parse(e,void 0)},Kw(Bx,RE),Bx.prototype.g=function(){return new zx(this.l,this.j)},Bx.prototype.i=function(e){return function(){return e}}({}),Kw(zx,Yb);var qx=0;function Hx(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Kx(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Wx(e)}function Wx(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Rw=zx.prototype).open=function(e,t){if(this.readyState!=qx)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Wx(this)},Rw.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Lw).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Rw.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kx(this)),this.readyState=qx},Rw.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Wx(this)),this.g&&(this.readyState=3,Wx(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Lw.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hx(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Rw.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Kx(this):Wx(this),3==this.readyState&&Hx(this)}},Rw.Ua=function(e){this.g&&(this.response=this.responseText=e,Kx(this))},Rw.Ta=function(e){this.g&&(this.response=e,Kx(this))},Rw.ha=function(){this.g&&Kx(this)},Rw.setRequestHeader=function(e,t){this.v.append(e,t)},Rw.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Rw.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gx=Lw.JSON.parse;function Qx(e){Yb.call(this),this.headers=new nx,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Yx,this.K=this.L=!1}Kw(Qx,Yb);var Yx="",Jx=/^https?$/i,Xx=["POST","PUT"];function Zx(e){return"content-type"==e.toLowerCase()}function $x(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,eI(e),nI(e)}function eI(e){e.D||(e.D=!0,Jb(e,"complete"),Jb(e,"error"))}function tI(e){if(e.h&&"undefined"!=typeof Pw&&(!e.C[1]||4!=iI(e)||2!=e.ba()))if(e.v&&4==iI(e))hE(e.Fa,0,e);else if(Jb(e,"readystatechange"),4==iI(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ax)[1]||null;if(!a&&Lw.self&&Lw.self.location){var o=Lw.self.location.protocol;a=o.substr(0,o.length-1)}i=!Jx.test(a?a.toLowerCase():"")}t=i}if(t)Jb(e,"complete"),Jb(e,"success");else{e.m=6;try{var s=2<iI(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",eI(e)}}finally{nI(e)}}}function nI(e,t){if(e.g){rI(e);var n=e.g,r=e.C[0]?Mw:null;e.g=null,e.C=null,t||Jb(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function rI(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Lw.clearTimeout(e.A),e.A=null)}function iI(e){return e.g?e.g.readyState:0}function aI(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Yx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function oI(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ab(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):fx(e,t,n))}function sI(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function uI(e){this.za=0,this.l=[],this.h=new gE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sI("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sI("baseRetryDelayMs",5e3,e),this.$a=sI("retryDelaySeedMs",1e4,e),this.Ya=sI("forwardChannelMaxRetries",2,e),this.ra=sI("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Cx(e&&e.concurrentRequestLimit),this.Ca=new jx,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function cI(e){if(hI(e),3==e.G){var t=e.V++,n=sx(e.F);fx(n,"SID",e.J),fx(n,"RID",t),fx(n,"TYPE","terminate"),vI(e,n),(t=new FE(e,e.h,t,void 0)).K=2,t.v=dx(sx(n)),n=!1,Lw.navigator&&Lw.navigator.sendBeacon&&(n=Lw.navigator.sendBeacon(t.v.toString(),"")),!n&&Lw.Image&&((new Image).src=t.v,n=!0),n||(t.g=_I(t.l,null),t.g.ea(t.v)),t.F=Date.now(),YE(t)}TI(e)}function lI(e){e.g&&(kI(e),e.g.cancel(),e.g=null)}function hI(e){lI(e),e.u&&(Lw.clearTimeout(e.u),e.u=null),bI(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Lw.clearTimeout(e.m),e.m=null)}function fI(e,t){e.l.push(new Ax(e.Za++,t)),3==e.G&&dI(e)}function dI(e){Rx(e.i)||e.m||(e.m=!0,aE(e.Ha,e),e.C=0)}function pI(e,t){var n;n=t?t.m:e.V++;var r=sx(e.F);fx(r,"SID",e.J),fx(r,"RID",n),fx(r,"AID",e.U),vI(e,r),e.o&&e.s&&oI(r,e.o,e.s),n=new FE(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=yI(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Px(e.i,n),HE(n,r,t)}function vI(e,t){e.j&&tx({},(function(e,n){fx(t,n,e)}))}function yI(e,t,n){n=Math.min(e.l.length,n);var r=e.j?qw(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Fx(l,o,"req"+c+"_")}catch(Vl){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function mI(e){e.g||e.u||(e.Y=1,aE(e.Ga,e),e.A=0)}function gI(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=AE(qw(e.Ga,e),xI(e,e.A)),e.A++,!0)}function kI(e){null!=e.B&&(Lw.clearTimeout(e.B),e.B=null)}function wI(e){e.g=new FE(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=sx(e.oa);fx(t,"RID","rpc"),fx(t,"SID",e.J),fx(t,"CI",e.N?"0":"1"),fx(t,"AID",e.U),vI(e,t),fx(t,"TYPE","xmlhttp"),e.o&&e.s&&oI(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=dx(sx(t)),n.s=null,n.U=!0,KE(n,e)}function bI(e){null!=e.v&&(Lw.clearTimeout(e.v),e.v=null)}function EI(e,t){var n=null;if(e.g==t){bI(e),kI(e),e.g=null;var r=2}else{if(!Dx(e.i,t))return;n=t.D,Lx(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Jb(r=EE(),new _E(r,n,t,i)),dI(e)}else mI(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ox(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=AE(qw(e.Ha,e,t),xI(e,e.C)),e.C++,!0))}(e,t)||2==r&&gI(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:II(e,5);break;case 4:II(e,10);break;case 3:II(e,6);break;default:II(e,2)}}function xI(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function II(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=qw(e.jb,e);n||(n=new ox("//www.google.com/images/cleardot.gif"),Lw.location&&"http"==Lw.location.protocol||ux(n,"https"),dx(n)),function(e,t){var n=new gE;if(Lw.Image){var r=new Image;r.onload=Hw(Vx,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Hw(Vx,n,r,"TestLoadImage: error",!1,t),r.onabort=Hw(Vx,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Hw(Vx,n,r,"TestLoadImage: timeout",!1,t),Lw.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else SE(2);e.G=0,e.j&&e.j.va(t),TI(e),hI(e)}function TI(e){e.G=0,e.I=-1,e.j&&(0==Mx(e.i).length&&0==e.l.length||(e.i.i.length=0,Xw(e.l),e.l.length=0),e.j.ua())}function SI(e,t,n){var r=function(e){return e instanceof ox?sx(e):new ox(e,void 0)}(n);if(""!=r.i)t&&cx(r,t+"."+r.i),lx(r,r.m);else{var i=Lw.location;r=function(e,t,n,r){var i=new ox(null,void 0);return e&&ux(i,e),t&&cx(i,t),n&&lx(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ab(e.aa,(function(e,t){fx(r,t,e)})),t=e.D,n=e.sa,t&&n&&fx(r,t,n),fx(r,"VER",e.ma),vI(e,r),r}function _I(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Qx(new Bx({ib:!0})):new Qx(e.qa)).L=e.H,t}function AI(){}function CI(){if(fb&&!(10<=Number(Tb)))throw Error("Environmental error: no available transport.")}function NI(e,t){Yb.call(this),this.g=new uI(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Zw(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zw(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new DI(this)}function RI(e){ME.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function OI(){UE.call(this),this.status=1}function DI(e){this.g=e}(Rw=Qx.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():PE.g(),this.C=this.u?OE(this.u):OE(PE),this.g.onreadystatechange=qw(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void $x(this,a)}e=n||"";var i=new nx(this.headers);r&&tx(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Zx,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Lw.FormData&&e instanceof Lw.FormData,!(0<=Qw(Xx,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rI(this),0<this.B&&((this.K=function(e){return fb&&xb()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qw(this.pa,this)):this.A=hE(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){$x(this,a)}},Rw.pa=function(){"undefined"!=typeof Pw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jb(this,"timeout"),this.abort(8))},Rw.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Jb(this,"complete"),Jb(this,"abort"),nI(this))},Rw.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nI(this,!0)),Qx.Z.M.call(this)},Rw.Fa=function(){this.s||(this.F||this.v||this.l?tI(this):this.cb())},Rw.cb=function(){tI(this)},Rw.ba=function(){try{return 2<iI(this)?this.g.status:-1}catch(lc){return-1}},Rw.ga=function(){try{return this.g?this.g.responseText:""}catch(lc){return""}},Rw.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gx(t)}},Rw.Da=function(){return this.m},Rw.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Rw=uI.prototype).ma=8,Rw.G=1,Rw.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Rw.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new FE(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ub(n=ob(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=yI(this,t,r),fx(i=sx(this.F),"RID",e),fx(i,"CVER",22),this.D&&fx(i,"X-HTTP-Session-Id",this.D),vI(this,i),this.o&&n&&oI(i,this.o,n),Px(this.i,t),this.Ra&&fx(i,"TYPE","init"),this.ja?(fx(i,"$req",r),fx(i,"SID","null"),t.$=!0,HE(t,i,null)):HE(t,i,r),this.G=2}}else 3==this.G&&(e?pI(this,e):0==this.l.length||Rx(this.i)||pI(this))},Rw.Ga=function(){if(this.u=null,wI(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=AE(qw(this.bb,this),e)}},Rw.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,SE(10),lI(this),wI(this))},Rw.ab=function(){null!=this.v&&(this.v=null,lI(this),gI(this),SE(19))},Rw.jb=function(e){e?(this.h.info("Successfully pinged google.com"),SE(2)):(this.h.info("Failed to ping google.com"),SE(1))},(Rw=AI.prototype).xa=function(){},Rw.wa=function(){},Rw.va=function(){},Rw.ua=function(){},Rw.Oa=function(){},CI.prototype.g=function(e,t){return new NI(e,t)},Kw(NI,Yb),NI.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),aE(qw(e.hb,e,t))),SE(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=SI(e,null,e.W),dI(e)},NI.prototype.close=function(){cI(this.g)},NI.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,fI(this.g,t)}else this.v?((t={}).__data__=Zb(e),fI(this.g,t)):fI(this.g,e)},NI.prototype.M=function(){this.g.j=null,delete this.j,cI(this.g),delete this.g,NI.Z.M.call(this)},Kw(RI,ME),Kw(OI,UE),Kw(DI,AI),DI.prototype.xa=function(){Jb(this.g,"a")},DI.prototype.wa=function(e){Jb(this.g,new RI(e))},DI.prototype.va=function(e){Jb(this.g,new OI(e))},DI.prototype.ua=function(){Jb(this.g,"b")},CI.prototype.createWebChannel=CI.prototype.g,NI.prototype.send=NI.prototype.u,NI.prototype.open=NI.prototype.m,NI.prototype.close=NI.prototype.close,CE.NO_ERROR=0,CE.TIMEOUT=8,CE.HTTP_ERROR=6,NE.COMPLETE="complete",DE.EventType=LE,LE.OPEN="a",LE.CLOSE="b",LE.ERROR="c",LE.MESSAGE="d",Yb.prototype.listen=Yb.prototype.N,Qx.prototype.listenOnce=Qx.prototype.O,Qx.prototype.getLastError=Qx.prototype.La,Qx.prototype.getLastErrorCode=Qx.prototype.Da,Qx.prototype.getStatus=Qx.prototype.ba,Qx.prototype.getResponseJson=Qx.prototype.Qa,Qx.prototype.getResponseText=Qx.prototype.ga,Qx.prototype.send=Qx.prototype.ea;var PI=Dw.createWebChannelTransport=function(){return new CI},LI=Dw.getStatEventTarget=function(){return EE()},MI=Dw.ErrorCode=CE,UI=Dw.EventType=NE,jI=Dw.Event=wE,FI=Dw.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},VI=Dw.FetchXmlHttpFactory=Bx,BI=Dw.WebChannel=DE,zI=Dw.XhrIo=Qx,qI="@firebase/firestore",HI=function(){function e(t){he(this,e),this.uid=t}return de(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();HI.UNAUTHENTICATED=new HI(null),HI.GOOGLE_CREDENTIALS=new HI("google-credentials-uid"),HI.FIRST_PARTY=new HI("first-party-uid"),HI.MOCK_USER=new HI("mock-user");var KI="9.6.1",WI=new Ze("@firebase/firestore");function GI(){return WI.logLevel}function QI(e){if(WI.logLevel<=qe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(XI);WI.debug.apply(WI,["Firestore (".concat(KI,"): ").concat(e)].concat(pe(i)))}}function YI(e){if(WI.logLevel<=qe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(XI);WI.error.apply(WI,["Firestore (".concat(KI,"): ").concat(e)].concat(pe(i)))}}function JI(e){if(WI.logLevel<=qe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(XI);WI.warn.apply(WI,["Firestore (".concat(KI,"): ").concat(e)].concat(pe(i)))}}function XI(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ZI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(KI,") INTERNAL ASSERTION FAILED: ")+e;throw YI(t),new Error(t)}function $I(e,t){e||ZI()}function eT(e,t){return e}var tT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nT=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return de(n)}(me(Error)),rT=de((function e(){var t=this;he(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),iT=de((function e(t,n){he(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),aT=function(){function e(){he(this,e)}return de(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(HI.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),oT=function(){function e(t){he(this,e),this.t=t,this.currentUser=HI.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return de(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new rT;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new rT,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){QI("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(QI("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rT)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(QI("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?($I("string"==typeof n.accessToken),new iT(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return $I(null===e||"string"==typeof e),new HI(e)}}]),e}(),sT=de((function e(t,n,r){he(this,e),this.type="FirstParty",this.user=HI.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),uT=function(){function e(t,n,r){he(this,e),this.h=t,this.l=n,this.m=r}return de(e,[{key:"getToken",value:function(){return Promise.resolve(new sT(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(HI.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),cT=de((function e(t){he(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),lT=function(){function e(t){he(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return de(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&QI("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){QI("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):QI("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?($I("string"==typeof e.token),new cT(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),hT=function(){function e(t,n){var r=this;he(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return de(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function fT(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}hT.I=-1;var dT=function(){function e(){he(this,e)}return de(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=fT(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function pT(e,t){return e<t?-1:e>t?1:0}function vT(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var yT=function(){function e(t,n){if(he(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new nT(tT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new nT(tT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new nT(tT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nT(tT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return de(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?pT(this.nanoseconds,e.nanoseconds):pT(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),mT=function(){function e(t){he(this,e),this.timestamp=t}return de(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new yT(0,0))}}]),e}();function gT(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function kT(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wT(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var bT=function(){function e(t,n,r){he(this,e),void 0===n?n=0:n>t.length&&ZI(),void 0===r?r=t.length-n:r>t.length-n&&ZI(),this.segments=t,this.offset=n,this.len=r}return de(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ET=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.apply(this,arguments)}return de(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new nT(tT.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,pe(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(bT),xT=/^[_a-zA-Z][_a-zA-Z0-9]*$/,IT=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.apply(this,arguments)}return de(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return xT.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new nT(tT.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new nT(tT.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new nT(tT.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new nT(tT.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(bT),TT=function(){function e(t){he(this,e),this.fields=t,t.sort(IT.comparator)}return de(e,[{key:"covers",value:function(e){var t,n=le(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return vT(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var ST=function(){function e(t){he(this,e),this.binaryString=t}return de(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return pT(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();ST.EMPTY_BYTE_STRING=new ST("");var _T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function AT(e){if($I(!!e),"string"==typeof e){var t=0,n=_T.exec(e);if($I(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:CT(e.seconds),nanos:CT(e.nanos)}}function CT(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function NT(e){return"string"==typeof e?ST.fromBase64String(e):ST.fromUint8Array(e)}function RT(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function OT(e){var t=e.mapValue.fields.__previous_value__;return RT(t)?OT(t):t}function DT(e){var t=AT(e.mapValue.fields.__local_write_time__.timestampValue);return new yT(t.seconds,t.nanos)}function PT(e){return null==e}function LT(e){return 0===e&&1/e==-1/0}function MT(e){return"number"==typeof e&&Number.isInteger(e)&&!LT(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var UT=function(){function e(t){he(this,e),this.path=t}return de(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===ET.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ET.fromString(t))}},{key:"fromName",value:function(t){return new e(ET.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return ET.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ET(t.slice()))}}]),e}();function jT(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?RT(e)?4:10:ZI()}function FT(e,t){var n=jT(e);if(n!==jT(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return DT(e).isEqual(DT(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=AT(e.timestampValue),r=AT(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return NT(e.bytesValue).isEqual(NT(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return CT(e.geoPointValue.latitude)===CT(t.geoPointValue.latitude)&&CT(e.geoPointValue.longitude)===CT(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return CT(e.integerValue)===CT(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=CT(e.doubleValue),r=CT(t.doubleValue);return n===r?LT(n)===LT(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vT(e.arrayValue.values||[],t.arrayValue.values||[],FT);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gT(n)!==gT(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!FT(n[i],r[i])))return!1;return!0}(e,t);default:return ZI()}}function VT(e,t){return void 0!==(e.values||[]).find((function(e){return FT(e,t)}))}function BT(e,t){var n=jT(e),r=jT(t);if(n!==r)return pT(n,r);switch(n){case 0:return 0;case 1:return pT(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=CT(e.integerValue||e.doubleValue),r=CT(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return zT(e.timestampValue,t.timestampValue);case 4:return zT(DT(e),DT(t));case 5:return pT(e.stringValue,t.stringValue);case 6:return function(e,t){var n=NT(e),r=NT(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=pT(n[i],r[i]);if(0!==a)return a}return pT(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=pT(CT(e.latitude),CT(t.latitude));return 0!==n?n:pT(CT(e.longitude),CT(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=BT(n[i],r[i]);if(a)return a}return pT(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=pT(r[o],a[o]);if(0!==s)return s;var u=BT(n[r[o]],i[a[o]]);if(0!==u)return u}return pT(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ZI()}}function zT(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pT(e,t);var n=AT(e),r=AT(t),i=pT(n.seconds,r.seconds);return 0!==i?i:pT(n.nanos,r.nanos)}function qT(e){return HT(e)}function HT(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=AT(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?NT(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,UT.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=le(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=HT(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=le(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(HT(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ZI();var t,n}function KT(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function WT(e){return!!e&&"integerValue"in e}function GT(e){return!!e&&"arrayValue"in e}function QT(e){return!!e&&"nullValue"in e}function YT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function JT(e){return!!e&&"mapValue"in e}function XT(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return kT(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=XT(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=XT(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ZT=function(){function e(t){he(this,e),this.value=t}return de(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!JT(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=XT(t)}},{key:"setAll",value:function(e){var t=this,n=IT.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=XT(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());JT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return FT(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];JT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){kT(t,(function(t,n){return e[t]=n}));var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(XT(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function $T(e){var t=[];return kT(e.fields,(function(e,n){var r=new IT([e]);if(JT(n)){var i=$T(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=le(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new TT(t)}var eS=function(){function e(t,n,r,i,a){he(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return de(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ZT.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ZT.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,mT.min(),ZT.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ZT.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ZT.empty(),2)}}]),e}(),tS=de((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;he(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function nS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new tS(e,t,n,r,i,a,o)}function rS(e){var t=eT(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+qT(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),PT(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=yS(t.startAt)),t.endAt&&(n+="|ub:",n+=yS(t.endAt)),t.R=n}return t.R}function iS(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!gS(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!FT(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!wS(e.startAt,t.startAt)&&wS(e.endAt,t.endAt)}function aS(e){return UT.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var oS=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return de(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(BT(t,this.value)):null!==t&&jT(this.value)===jT(t)&&this.v(BT(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ZI()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new sS(e,t,r):"array-contains"===t?new hS(e,r):"in"===t?new fS(e,r):"not-in"===t?new dS(e,r):"array-contains-any"===t?new pS(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new uS(e,n):new cS(e,n)}}]),n}(function(){return de((function e(){he(this,e)}))}());var sS=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,e,r,i)).key=UT.fromName(i.referenceValue),a}return de(n,[{key:"matches",value:function(e){var t=UT.comparator(e.key,this.key);return this.v(t)}}]),n}(oS),uS=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e,"in",r)).keys=lS("in",r),i}return de(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(oS),cS=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this,e,"not-in",r)).keys=lS("not-in",r),i}return de(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(oS);function lS(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return UT.fromName(e.referenceValue)}))}var hS=function(e){ae(n,e);var t=ce(n);function n(e,r){return he(this,n),t.call(this,e,"array-contains",r)}return de(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return GT(t)&&VT(t.arrayValue,this.value)}}]),n}(oS),fS=function(e){ae(n,e);var t=ce(n);function n(e,r){return he(this,n),t.call(this,e,"in",r)}return de(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&VT(this.value.arrayValue,t)}}]),n}(oS),dS=function(e){ae(n,e);var t=ce(n);function n(e,r){return he(this,n),t.call(this,e,"not-in",r)}return de(n,[{key:"matches",value:function(e){if(VT(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!VT(this.value.arrayValue,t)}}]),n}(oS),pS=function(e){ae(n,e);var t=ce(n);function n(e,r){return he(this,n),t.call(this,e,"array-contains-any",r)}return de(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!GT(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return VT(t.value.arrayValue,e)}))}}]),n}(oS),vS=de((function e(t,n){he(this,e),this.position=t,this.before=n}));function yS(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return qT(e)})).join(","))}var mS=de((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";he(this,e),this.field=t,this.dir=n}));function gS(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function kS(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?UT.comparator(UT.fromName(o.referenceValue),n.key):BT(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function wS(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!FT(e.position[n],t.position[n]))return!1;return!0}var bS=de((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;he(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function ES(e,t,n,r,i,a,o,s){return new bS(e,t,n,r,i,a,o,s)}function xS(e){return new bS(e)}function IS(e){return!PT(e.limit)&&"F"===e.limitType}function TS(e){return!PT(e.limit)&&"L"===e.limitType}function SS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _S(e){var t,n=le(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function AS(e){return null!==e.collectionGroup}function CS(e){var t=eT(e);if(null===t.S){t.S=[];var n=_S(t),r=SS(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new mS(n)),t.S.push(new mS(IT.keyField(),"asc"));else{var i,a=!1,o=le(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new mS(IT.keyField(),u))}}}return t.S}function NS(e){var t=eT(e);if(!t.D)if("F"===t.limitType)t.D=nS(t.path,t.collectionGroup,CS(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=le(CS(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new mS(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new vS(t.endAt.position,!t.endAt.before):null,u=t.startAt?new vS(t.startAt.position,!t.startAt.before):null;t.D=nS(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function RS(e,t,n){return new bS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function OS(e,t){return iS(NS(e),NS(t))&&e.limitType===t.limitType}function DS(e){return"".concat(rS(NS(e)),"|lt:").concat(e.limitType)}function PS(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(qT(t.value));var t})).join(", "),"]")),PT(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+yS(e.startAt)),e.endAt&&(t+=", endAt: "+yS(e.endAt)),"Target(".concat(t,")")}(NS(e)),"; limitType=").concat(e.limitType,")")}function LS(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):UT.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=le(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=le(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!kS(e.startAt,CS(e),t))&&(!e.endAt||!kS(e.endAt,CS(e),t))}(e,t)}function MS(e){return function(t,n){var r,i=!1,a=le(CS(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=US(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function US(e,t,n){var r=e.field.isKeyField()?UT.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?BT(r,i):ZI()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ZI()}}function jS(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:LT(t)?"-0":t}}function FS(e){return{integerValue:""+e}}function VS(e,t){return MT(t)?FS(t):jS(e,t)}var BS=de((function e(){he(this,e),this._=void 0}));function zS(e,t,n){return e instanceof KS?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof WS?GS(e,t):e instanceof QS?YS(e,t):function(e,t){var n=HS(e,t),r=XS(n)+XS(e.N);return WT(n)&&WT(e.N)?FS(r):jS(e.k,r)}(e,t)}function qS(e,t,n){return e instanceof WS?GS(e,t):e instanceof QS?YS(e,t):n}function HS(e,t){return e instanceof JS?WT(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var KS=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.apply(this,arguments)}return de(n)}(BS),WS=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this)).elements=e,r}return de(n)}(BS);function GS(e,t){var n,r=ZS(t),i=le(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return FT(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var QS=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this)).elements=e,r}return de(n)}(BS);function YS(e,t){var n,r=ZS(t),i=le(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!FT(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var JS=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).k=e,i.N=r,i}return de(n)}(BS);function XS(e){return CT(e.integerValue||e.doubleValue)}function ZS(e){return GT(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var $S=de((function e(t,n){he(this,e),this.version=t,this.transformResults=n})),e_=function(){function e(t,n){he(this,e),this.updateTime=t,this.exists=n}return de(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function t_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var n_=de((function e(){he(this,e)}));function r_(e,t,n){e instanceof u_?function(e,t,n){var r=e.value.clone(),i=h_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof c_?function(e,t,n){if(t_(e.precondition,t)){var r=h_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(l_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function i_(e,t,n){e instanceof u_?function(e,t,n){if(t_(e.precondition,t)){var r=e.value.clone(),i=f_(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(s_(t),r).setHasLocalMutations()}}(e,t,n):e instanceof c_?function(e,t,n){if(t_(e.precondition,t)){var r=f_(e.fieldTransforms,n,t),i=t.data;i.setAll(l_(e)),i.setAll(r),t.convertToFoundDocument(s_(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){t_(e.precondition,t)&&t.convertToNoDocument(mT.min())}(e,t)}function a_(e,t){var n,r=null,i=le(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=HS(a.transform,o||null);null!=s&&(null==r&&(r=ZT.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function o_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vT(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof WS&&t instanceof WS||e instanceof QS&&t instanceof QS?vT(e.elements,t.elements,FT):e instanceof JS&&t instanceof JS?FT(e.N,t.N):e instanceof KS&&t instanceof KS}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function s_(e){return e.isFoundDocument()?e.version:mT.min()}var u_=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return he(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return de(n)}(n_),c_=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return he(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return de(n)}(n_);function l_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function h_(e,t,n){var r=new Map;$I(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,qS(o,s,n[i]))}return r}function f_(e,t,n){var r,i=new Map,a=le(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,zS(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var d_,p_,v_=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return de(n)}(n_),y_=function(e){ae(n,e);var t=ce(n);function n(e,r){var i;return he(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return de(n)}(n_),m_=de((function e(t){he(this,e),this.count=t}));function g_(e){switch(e){default:return ZI();case tT.CANCELLED:case tT.UNKNOWN:case tT.DEADLINE_EXCEEDED:case tT.RESOURCE_EXHAUSTED:case tT.INTERNAL:case tT.UNAVAILABLE:case tT.UNAUTHENTICATED:return!1;case tT.INVALID_ARGUMENT:case tT.NOT_FOUND:case tT.ALREADY_EXISTS:case tT.PERMISSION_DENIED:case tT.FAILED_PRECONDITION:case tT.ABORTED:case tT.OUT_OF_RANGE:case tT.UNIMPLEMENTED:case tT.DATA_LOSS:return!0}}function k_(e){if(void 0===e)return YI("GRPC error has no .code"),tT.UNKNOWN;switch(e){case d_.OK:return tT.OK;case d_.CANCELLED:return tT.CANCELLED;case d_.UNKNOWN:return tT.UNKNOWN;case d_.DEADLINE_EXCEEDED:return tT.DEADLINE_EXCEEDED;case d_.RESOURCE_EXHAUSTED:return tT.RESOURCE_EXHAUSTED;case d_.INTERNAL:return tT.INTERNAL;case d_.UNAVAILABLE:return tT.UNAVAILABLE;case d_.UNAUTHENTICATED:return tT.UNAUTHENTICATED;case d_.INVALID_ARGUMENT:return tT.INVALID_ARGUMENT;case d_.NOT_FOUND:return tT.NOT_FOUND;case d_.ALREADY_EXISTS:return tT.ALREADY_EXISTS;case d_.PERMISSION_DENIED:return tT.PERMISSION_DENIED;case d_.FAILED_PRECONDITION:return tT.FAILED_PRECONDITION;case d_.ABORTED:return tT.ABORTED;case d_.OUT_OF_RANGE:return tT.OUT_OF_RANGE;case d_.UNIMPLEMENTED:return tT.UNIMPLEMENTED;case d_.DATA_LOSS:return tT.DATA_LOSS;default:return ZI()}}(p_=d_||(d_={}))[p_.OK=0]="OK",p_[p_.CANCELLED=1]="CANCELLED",p_[p_.UNKNOWN=2]="UNKNOWN",p_[p_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p_[p_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p_[p_.NOT_FOUND=5]="NOT_FOUND",p_[p_.ALREADY_EXISTS=6]="ALREADY_EXISTS",p_[p_.PERMISSION_DENIED=7]="PERMISSION_DENIED",p_[p_.UNAUTHENTICATED=16]="UNAUTHENTICATED",p_[p_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p_[p_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p_[p_.ABORTED=10]="ABORTED",p_[p_.OUT_OF_RANGE=11]="OUT_OF_RANGE",p_[p_.UNIMPLEMENTED=12]="UNIMPLEMENTED",p_[p_.INTERNAL=13]="INTERNAL",p_[p_.UNAVAILABLE=14]="UNAVAILABLE",p_[p_.DATA_LOSS=15]="DATA_LOSS";var w_=function(){function e(t,n){he(this,e),this.comparator=t,this.root=n||E_.EMPTY}return de(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,E_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,E_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new b_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new b_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new b_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new b_(this.root,e,this.comparator,!0)}}]),e}(),b_=function(){function e(t,n,r,i){he(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return de(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),E_=function(){function e(t,n,r,i,a){he(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return de(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ZI();if(this.right.isRed())throw ZI();var e=this.left.check();if(e!==this.right.check())throw ZI();return e+(this.isRed()?0:1)}}]),e}();E_.EMPTY=null,E_.RED=!0,E_.BLACK=!1,E_.EMPTY=new(function(){function e(){he(this,e),this.size=0}return de(e,[{key:"key",get:function(){throw ZI()}},{key:"value",get:function(){throw ZI()}},{key:"color",get:function(){throw ZI()}},{key:"left",get:function(){throw ZI()}},{key:"right",get:function(){throw ZI()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new E_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var x_=function(){function e(t){he(this,e),this.comparator=t,this.data=new w_(this.comparator)}return de(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new I_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new I_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),I_=function(){function e(t){he(this,e),this.iter=t}return de(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),T_=new w_(UT.comparator);function S_(){return T_}var __=new w_(UT.comparator);function A_(){return __}var C_=new w_(UT.comparator);function N_(){return C_}var R_=new x_(UT.comparator);function O_(){for(var e=R_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var D_=new x_(pT);function P_(){return D_}var L_=function(){function e(t,n,r,i,a){he(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return de(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,M_.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(mT.min(),r,P_(),S_(),O_())}}]),e}(),M_=function(){function e(t,n,r,i,a){he(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return de(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ST.EMPTY_BYTE_STRING,n,O_(),O_(),O_())}}]),e}(),U_=de((function e(t,n,r,i){he(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),j_=de((function e(t,n){he(this,e),this.targetId=t,this.O=n})),F_=de((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ST.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;he(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),V_=function(){function e(){he(this,e),this.M=0,this.L=q_(),this.B=ST.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return de(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=O_(),t=O_(),n=O_();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ZI()}})),new M_(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=q_()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),B_=function(){function e(t){he(this,e),this.et=t,this.nt=new Map,this.st=S_(),this.it=z_(),this.rt=new x_(pT)}return de(e,[{key:"ot",value:function(e){var t,n=le(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=le(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:ZI()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(aS(i))if(0===n){var a=new UT(i.path);this.ct(t,a,eS.newNoDocument(a,mT.min()))}else $I(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&aS(a.target)){var o=new UT(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,eS.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=O_();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new L_(e,n,this.rt,this.st,r);return this.st=S_(),this.it=z_(),this.rt=new x_(pT),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new V_,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new x_(pT),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||QI("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new V_),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function z_(){return new w_(UT.comparator)}function q_(){return new w_(UT.comparator)}var H_={asc:"ASCENDING",desc:"DESCENDING"},K_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W_=de((function e(t,n){he(this,e),this.databaseId=t,this.C=n}));function G_(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Q_(e,t){return e.C?t.toBase64():t.toUint8Array()}function Y_(e,t){return G_(e,t.toTimestamp())}function J_(e){return $I(!!e),mT.fromTimestamp(function(e){var t=AT(e);return new yT(t.seconds,t.nanos)}(e))}function X_(e,t){return function(e){return new ET(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Z_(e){var t=ET.fromString(e);return $I(wA(t)),t}function $_(e,t){return X_(e.databaseId,t.path)}function eA(e,t){var n=Z_(t);if(n.get(1)!==e.databaseId.projectId)throw new nT(tT.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new nT(tT.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new UT(iA(n))}function tA(e,t){return X_(e.databaseId,t)}function nA(e){var t=Z_(e);return 4===t.length?ET.emptyPath():iA(t)}function rA(e){return new ET(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iA(e){return $I(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function aA(e,t,n){return{name:$_(e,t),fields:n.value.mapValue.fields}}function oA(e,t){var n;if(t instanceof u_)n={update:aA(e,t.key,t.value)};else if(t instanceof v_)n={delete:$_(e,t.key)};else if(t instanceof c_)n={update:aA(e,t.key,t.data),updateMask:kA(t.fieldMask)};else{if(!(t instanceof y_))return ZI();n={verify:$_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof KS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof WS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof QS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof JS)return{fieldPath:t.field.canonicalString(),increment:n.N};throw ZI()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Y_(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ZI()}(e,t.precondition)),n}function sA(e,t){return{documents:[tA(e,t.path)]}}function uA(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=tA(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=tA(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(YT(e.value))return{unaryFilter:{field:vA(e.field),op:"IS_NAN"}};if(QT(e.value))return{unaryFilter:{field:vA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(YT(e.value))return{unaryFilter:{field:vA(e.field),op:"IS_NOT_NAN"}};if(QT(e.value))return{unaryFilter:{field:vA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vA(e.field),op:pA(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:vA(e.field),direction:dA(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||PT(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=hA(t.startAt)),t.endAt&&(n.structuredQuery.endAt=hA(t.endAt)),n}function cA(e){var t=nA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){$I(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=lA(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new mS(yA(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return PT(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=fA(n.startAt));var l=null;return n.endAt&&(l=fA(n.endAt)),ES(t,i,s,o,u,"F",c,l)}function lA(e){return e?void 0!==e.unaryFilter?[gA(e)]:void 0!==e.fieldFilter?[mA(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return lA(e)})).reduce((function(e,t){return e.concat(t)})):ZI():[]}function hA(e){return{before:e.before,values:e.position}}function fA(e){var t=!!e.before,n=e.values||[];return new vS(n,t)}function dA(e){return H_[e]}function pA(e){return K_[e]}function vA(e){return{fieldPath:e.canonicalString()}}function yA(e){return IT.fromServerFormat(e.fieldPath)}function mA(e){return oS.create(yA(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ZI()}}(e.fieldFilter.op),e.fieldFilter.value)}function gA(e){switch(e.unaryFilter.op){case"IS_NAN":var t=yA(e.unaryFilter.field);return oS.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=yA(e.unaryFilter.field);return oS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yA(e.unaryFilter.field);return oS.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yA(e.unaryFilter.field);return oS.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ZI()}}function kA(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function wA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function bA(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=xA(t)),t=EA(e.get(n),t);return xA(t)}function EA(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function xA(e){return e+"\x01\x01"}var IA=de((function e(t,n,r){he(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));IA.store="owner",IA.key="owner";var TA=de((function e(t,n,r){he(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));TA.store="mutationQueues",TA.keyPath="userId";var SA=de((function e(t,n,r,i,a){he(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));SA.store="mutations",SA.keyPath="batchId",SA.userMutationsIndex="userMutationsIndex",SA.userMutationsKeyPath=["userId","batchId"];var _A=function(){function e(){he(this,e)}return de(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,bA(t)]}},{key:"key",value:function(e,t,n){return[e,bA(t),n]}}]),e}();_A.store="documentMutations",_A.PLACEHOLDER=new _A;var AA=de((function e(t,n,r,i,a,o){he(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));AA.store="remoteDocuments",AA.readTimeIndex="readTimeIndex",AA.readTimeIndexPath="readTime",AA.collectionReadTimeIndex="collectionReadTimeIndex",AA.collectionReadTimeIndexPath=["parentPath","readTime"];var CA=de((function e(t){he(this,e),this.byteSize=t}));CA.store="remoteDocumentGlobal",CA.key="remoteDocumentGlobalKey";var NA=de((function e(t,n,r,i,a,o,s){he(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));NA.store="targets",NA.keyPath="targetId",NA.queryTargetsIndexName="queryTargetsIndex",NA.queryTargetsKeyPath=["canonicalId","targetId"];var RA=de((function e(t,n,r){he(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));RA.store="targetDocuments",RA.keyPath=["targetId","path"],RA.documentTargetsIndex="documentTargetsIndex",RA.documentTargetsKeyPath=["path","targetId"];var OA=de((function e(t,n,r,i){he(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));OA.key="targetGlobalKey",OA.store="targetGlobal";var DA=de((function e(t,n){he(this,e),this.collectionId=t,this.parent=n}));DA.store="collectionParents",DA.keyPath=["collectionId","parent"];var PA=de((function e(t,n,r,i){he(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));PA.store="clientMetadata",PA.keyPath="clientId";var LA=de((function e(t,n,r){he(this,e),this.bundleId=t,this.createTime=n,this.version=r}));LA.store="bundles",LA.keyPath="bundleId";var MA=de((function e(t,n,r){he(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));MA.store="namedQueries",MA.keyPath="name";[TA.store,SA.store,_A.store,AA.store,NA.store,IA.store,OA.store,RA.store].concat([PA.store]).concat([CA.store]).concat([DA.store]).concat([LA.store,MA.store]);var UA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jA=function(){function e(){he(this,e),this.onCommittedListeners=[]}return de(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),FA=function(){function e(t){var n=this;he(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return de(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ZI(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=le(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function VA(e){return"IndexedDbTransactionError"===e.name}var BA=function(){function e(t,n,r,i){he(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return de(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&r_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=le(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&i_(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=le(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&i_(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(mT.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),O_())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&vT(this.mutations,e.mutations,(function(e,t){return o_(e,t)}))&&vT(this.baseMutations,e.baseMutations,(function(e,t){return o_(e,t)}))}}]),e}(),zA=function(){function e(t,n,r,i){he(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return de(e,null,[{key:"from",value:function(t,n,r){$I(t.mutations.length===r.length);for(var i=N_(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),qA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mT.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:mT.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ST.EMPTY_BYTE_STRING;he(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return de(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),HA=de((function e(t){he(this,e),this.Gt=t}));function KA(e){var t=cA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?RS(t,t.limit,"L"):t}var WA=function(){function e(){he(this,e),this.zt=new GA}return de(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),FA.resolve()}},{key:"getCollectionParents",value:function(e,t){return FA.resolve(this.zt.getEntries(t))}}]),e}(),GA=function(){function e(){he(this,e),this.index={}}return de(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new x_(ET.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new x_(ET.comparator)).toArray()}}]),e}();var QA=function(){function e(t,n,r){he(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return de(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();QA.DEFAULT_COLLECTION_PERCENTILE=10,QA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,QA.DEFAULT=new QA(41943040,QA.DEFAULT_COLLECTION_PERCENTILE,QA.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),QA.DISABLED=new QA(-1,0,0);var YA=function(){function e(t){he(this,e),this.se=t}return de(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}();function JA(e){return XA.apply(this,arguments)}function XA(){return XA=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===tT.FAILED_PRECONDITION&&t.message===UA){e.next=2;break}throw t;case 2:QI("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),XA.apply(this,arguments)}var ZA=function(){function e(t,n){he(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return de(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],u=o[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){kT(this.inner,(function(t,n){var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var o=a(r.value,2),s=o[0],u=o[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return wT(this.inner)}}]),e}(),$A=function(){function e(){he(this,e),this.changes=new ZA((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return de(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:mT.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:eS.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?FA.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var eC=function(){function e(t,n,r){he(this,e),this.Je=t,this.An=n,this.Jt=r}return de(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=le(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=le(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return UT.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):AS(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new UT(t)).next((function(e){var t=A_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=A_();return this.Jt.getCollectionParents(e,i).next((function(o){return FA.forEach(o,(function(o){var s=function(e,t){return new bS(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=le(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=le(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=eS.newInvalidDocument(c),r=r.insert(c,l)),i_(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){n.e(h)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){LS(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=O_(),a=le(t);try{for(a.s();!(r=a.n()).done;){var o,s=le(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof c_&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),tC=function(){function e(t,n,r,i){he(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return de(e,null,[{key:"$n",value:function(t,n){var r,i=O_(),a=O_(),o=le(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),nC=function(){function e(){he(this,e)}return de(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(mT.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(IS(t)||TS(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(GI()<=qe.DEBUG&&QI("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),PS(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new x_(MS(e));return t.forEach((function(t,r){LS(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return GI()<=qe.DEBUG&&QI("QueryEngine","Using full collection scan to execute query:",PS(t)),this.On.getDocumentsMatchingQuery(e,t,mT.min())}}]),e}(),rC=function(){function e(t,n,r,i){he(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new w_(pT),this.Kn=new ZA((function(e){return rS(e)}),iS),this.jn=mT.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new eC(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return de(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function iC(e,t,n,r){return new rC(e,t,n,r)}function aC(e,t){return oC.apply(this,arguments)}function oC(){return oC=X($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eT(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new eC(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=O_(),u=le(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,h=le(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=le(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=le(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function sC(e,t){var n=eT(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=FA.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);$I(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function uC(e){var t=eT(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function cC(e,t){var n=eT(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var s=i.get(a);if(s){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return $I(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var s=S_();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(lC(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(mT.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return FA.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function lC(e,t,n,r,i){var a=O_();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=S_();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(mT.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):QI("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function hC(e,t){var n=eT(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function fC(e,t){var n=eT(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,FA.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new qA(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function dC(e,t,n){return pC.apply(this,arguments)}function pC(){return pC=X($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=eT(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),VA(e.t1)){e.next=12;break}throw e.t1;case 12:QI("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),pC.apply(this,arguments)}function vC(e,t,n){var r=eT(e),i=mT.min(),a=O_();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=eT(e),i=r.Kn.get(n);return void 0!==i?FA.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,NS(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:mT.min(),n?a:O_())})).next((function(e){return{documents:e,zn:a}}))}))}var yC=function(){function e(t){he(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return de(e,[{key:"getBundleMetadata",value:function(e,t){return FA.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:J_(n.createTime)}),FA.resolve()}},{key:"getNamedQuery",value:function(e,t){return FA.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:KA(e.bundledQuery),readTime:J_(e.readTime)}}(t)),FA.resolve()}}]),e}(),mC=function(){function e(){he(this,e),this.ts=new x_(gC.es),this.ns=new x_(gC.ss)}return de(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new gC(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new gC(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new UT(new ET([])),r=new gC(n,e),i=new gC(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new UT(new ET([])),n=new gC(t,e),r=new gC(t,e+1),i=O_();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new gC(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),gC=function(){function e(t,n){he(this,e),this.key=t,this.fs=n}return de(e,null,[{key:"es",value:function(e,t){return UT.comparator(e.key,t.key)||pT(e.fs,t.fs)}},{key:"ss",value:function(e,t){return pT(e.fs,t.fs)||UT.comparator(e.key,t.key)}}]),e}(),kC=function(){function e(t,n){he(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new x_(gC.es)}return de(e,[{key:"checkEmpty",value:function(e){return FA.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new BA(i,t,n,r);this.An.push(a);var o,s=le(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new gC(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return FA.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return FA.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return FA.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return FA.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return FA.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new gC(t,0),i=new gC(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),FA.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new x_(pT);return t.forEach((function(e){var t=new gC(e,0),i=new gC(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),FA.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;UT.isDocumentKey(i)||(i=i.child(""));var a=new gC(new UT(i),0),o=new x_(pT);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),FA.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;$I(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return FA.forEach(t.mutations,(function(i){var a=new gC(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new gC(t,0),r=this.ws.firstAfterOrEqual(n);return FA.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,FA.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),wC=function(){function e(t,n){he(this,e),this.Jt=t,this.Ts=n,this.docs=new w_(UT.comparator),this.size=0}return de(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return FA.resolve(n?n.document.clone():eS.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=S_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():eS.newInvalidDocument(e))})),FA.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=S_(),i=new UT(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||LS(t,c)&&(r=r.insert(c.key,c.clone()))}return FA.resolve(r)}},{key:"Es",value:function(e,t){return FA.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new bC(this)}},{key:"getSize",value:function(e){return FA.resolve(this.size)}}]),e}(),bC=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this)).De=e,r}return de(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),FA.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}($A),EC=function(){function e(t){he(this,e),this.persistence=t,this.Is=new ZA((function(e){return rS(e)}),iS),this.lastRemoteSnapshotVersion=mT.min(),this.highestTargetId=0,this.As=0,this.Rs=new mC,this.targetCount=0,this.Ps=YA.ie()}return de(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),FA.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return FA.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return FA.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),FA.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),FA.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new YA(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,FA.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),FA.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,FA.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),FA.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return FA.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return FA.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),FA.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),FA.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),FA.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return FA.resolve(n)}},{key:"containsKey",value:function(e,t){return FA.resolve(this.Rs.containsKey(t))}}]),e}(),xC=function(){function e(t,n){var r=this;he(this,e),this.bs={},this.Be=new hT(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new EC(this),this.Jt=new WA,this.Je=function(e,t){return new wC(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new HA(n),this.Ye=new yC(this.k)}return de(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new kC(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;QI("MemoryPersistence","Starting transaction:",e);var i=new IC(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return FA.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),IC=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return de(n)}(jA),TC=function(){function e(t){he(this,e),this.persistence=t,this.Cs=new mC,this.Ns=null}return de(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw ZI()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),FA.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),FA.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),FA.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return FA.forEach(this.xs,(function(r){var i=UT.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return FA.or([function(){return FA.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();var SC=function(){function e(){he(this,e),this.activeTargetIds=P_()}return de(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),_C=function(){function e(){he(this,e),this.pi=new SC,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return de(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new SC,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),AC=function(){function e(){he(this,e)}return de(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),CC=function(){function e(){var t=this;he(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return de(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){QI("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=le(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){QI("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=le(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),NC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},RC=function(){function e(t){he(this,e),this.Vi=t.Vi,this.Si=t.Si}return de(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),OC=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return de(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new zI;o.listenOnce(UI.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case MI.NO_ERROR:var t=o.getResponseJson();QI("Connection","XHR received:",JSON.stringify(t)),i(t);break;case MI.TIMEOUT:QI("Connection",'RPC "'+e+'" timed out'),a(new nT(tT.DEADLINE_EXCEEDED,"Request time out"));break;case MI.HTTP_ERROR:var n=o.getStatus();if(QI("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(tT).indexOf(t)>=0?t:tT.UNKNOWN}(r.status);a(new nT(s,r.message))}else a(new nT(tT.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new nT(tT.UNAVAILABLE,"Connection failed."));break;default:ZI()}}finally{QI("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=PI(),a=LI(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new VI({})),this.qi(o.initMessageHeaders,t,n),xe()||Te()||Ee().indexOf("Electron/")>=0||Se()||Ee().indexOf("MSAppHost/")>=0||Ie()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");QI("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,h=new RC({Vi:function(e){l?QI("Connection","Not sending because WebChannel is closed:",e):(c||(QI("Connection","Opening WebChannel transport."),u.open(),c=!0),QI("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,BI.EventType.OPEN,(function(){l||QI("Connection","WebChannel transport opened.")})),f(u,BI.EventType.CLOSE,(function(){l||(l=!0,QI("Connection","WebChannel transport closed"),h.Fi())})),f(u,BI.EventType.ERROR,(function(e){l||(l=!0,JI("Connection","WebChannel transport errored:",e),h.Fi(new nT(tT.UNAVAILABLE,"The operation could not be completed")))})),f(u,BI.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];$I(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){QI("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=d_[e];if(void 0!==t)return k_(t)}(a),s=i.message;void 0===o&&(o=tT.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,h.Fi(new nT(o,s)),u.close()}else QI("Connection","WebChannel received:",n),h.Oi(n)}})),f(a,jI.STAT_EVENT,(function(e){e.stat===FI.PROXY?QI("Connection","Detected buffering proxy"):e.stat===FI.NOPROXY&&QI("Connection","Detected no buffering proxy")})),setTimeout((function(){h.$i()}),0),h}}]),n}(function(){function e(t){he(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return de(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);QI("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return QI("RestConnection","Received: ",e),e}),(function(t){throw JI("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+KI,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=NC[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function DC(){return"undefined"!=typeof document?document:null}function PC(e){return new W_(e,!0)}var LC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;he(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return de(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&QI("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),MC=function(){function e(t,n,r,i,a,o,s,u){he(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new LC(t,n)}return de(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===tT.RESOURCE_EXHAUSTED?(YI(n.toString()),YI("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===tT.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=a(t,2),i=r[0],o=r[1];e.rr===n&&e.Ir(i,o)}),(function(n){t((function(){var t=new nT(tT.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(X($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return QI("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(QI("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),UC=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a,o,s){var u;return he(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return de(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ZI()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?($I(void 0===t||"string"==typeof t),ST.fromBase64String(t||"")):($I(void 0===t||t instanceof Uint8Array),ST.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?tT.UNKNOWN:k_(e.code);return new nT(t,e.message||"")}(o);n=new F_(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=eA(e,u.document.name),l=J_(u.document.updateTime),h=new ZT({mapValue:{fields:u.document.fields}}),f=eS.newFoundDocument(c,l,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new U_(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=eA(e,v.document),m=v.readTime?J_(v.readTime):mT.min(),g=eS.newNoDocument(y,m),k=v.removedTargetIds||[];n=new U_([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=eA(e,w.document),E=w.removedTargetIds||[];n=new U_([],E,b,null)}else{if(!("filter"in t))return ZI();t.filter;var x=t.filter;x.targetId;var I=x.count||0,T=new m_(I),S=x.targetId;n=new j_(S,T)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return mT.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?mT.min():t.readTime?J_(t.readTime):mT.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=rA(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=aS(r)?{documents:sA(e,r)}:{query:uA(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Q_(e,t.resumeToken):t.snapshotVersion.compareTo(mT.min())>0&&(n.readTime=G_(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ZI()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=rA(this.k),t.removeTarget=e,this.gr(t)}}]),n}(MC),jC=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a,o,s){var u;return he(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return de(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,ne(ee(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if($I(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?($I(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?J_(e.updateTime):J_(t);return n.isEqual(mT.min())&&(n=J_(t)),new $S(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=J_(e.commitTime);return this.listener.Cr(n,t)}return $I(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=rA(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return oA(t.k,e)}))};this.gr(n)}}]),n}(MC),FC=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a){var o;return he(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return de(n,[{key:"Fr",value:function(){if(this.$r)throw new nT(tT.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),s=o[0],u=o[1];return r.ir.Bi(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tT.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new nT(tT.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=a(i,2),s=o[0],u=o[1];return r.ir.ji(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tT.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new nT(tT.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return de((function e(){he(this,e)}))}()),VC=function(){function e(t,n){he(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return de(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(YI(t),this.Lr=!1):QI("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),BC=de((function e(t,n,r,i,a){var o=this;he(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ZC(o),!e.t0){e.next=5;break}return QI("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=eT(t)).Gr.add(4),e.next=4,HC(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,zC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new VC(r,i)}));function zC(e){return qC.apply(this,arguments)}function qC(){return qC=X($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ZC(t)){e.next=18;break}n=le(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),qC.apply(this,arguments)}function HC(e){return KC.apply(this,arguments)}function KC(){return KC=X($().mark((function e(t){var n,r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=le(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),KC.apply(this,arguments)}function WC(e,t){var n=eT(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),XC(n)?JC(n):TN(n).lr()&&QC(n,t))}function GC(e,t){var n=eT(e),r=TN(n);n.Wr.delete(t),r.lr()&&YC(n,t),0===n.Wr.size&&(r.lr()?r._r():ZC(n)&&n.Jr.set("Unknown"))}function QC(e,t){e.Yr.X(t.targetId),TN(e).br(t)}function YC(e,t){e.Yr.X(t),TN(e).vr(t)}function JC(e){e.Yr=new B_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),TN(e).start(),e.Jr.Br()}function XC(e){return ZC(e)&&!TN(e).hr()&&e.Wr.size>0}function ZC(e){return 0===eT(e).Gr.size}function $C(e){e.Yr=void 0}function eN(e){return tN.apply(this,arguments)}function tN(){return tN=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){QC(t,e)}));case 1:case"end":return e.stop()}}),e)}))),tN.apply(this,arguments)}function nN(e,t){return rN.apply(this,arguments)}function rN(){return rN=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$C(t),XC(t)?(t.Jr.Kr(n),JC(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),rN.apply(this,arguments)}function iN(e,t,n){return aN.apply(this,arguments)}function aN(){return aN=X($().mark((function e(t,n,r){var i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof F_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=X($().mark((function e(t,n){var r,i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=le(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),QI("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,oN(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof U_?t.Yr.ot(n):n instanceof j_?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(mT.min())){e.next=29;break}return e.prev=14,e.next=17,uC(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(ST.EMPTY_BYTE_STRING,n.snapshotVersion)),YC(e,t);var r=new qA(n.target,t,1,n.sequenceNumber);QC(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),QI("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,oN(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),aN.apply(this,arguments)}function oN(e,t,n){return sN.apply(this,arguments)}function sN(){return sN=X($().mark((function e(t,n,r){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(VA(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,HC(t);case 5:t.Jr.set("Offline"),r||(r=function(){return uC(t.localStore)}),t.asyncQueue.enqueueRetryable(X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QI("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,zC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),sN.apply(this,arguments)}function uN(e,t){return t().catch((function(n){return oN(e,n,t)}))}function cN(e){return lN.apply(this,arguments)}function lN(){return lN=X($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=eT(t),r=SN(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!hN(n)){e.next=19;break}return e.prev=3,e.next=6,hC(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,fN(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,oN(n,e.t0);case 17:e.next=2;break;case 19:dN(n)&&pN(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),lN.apply(this,arguments)}function hN(e){return ZC(e)&&e.Qr.length<10}function fN(e,t){e.Qr.push(t);var n=SN(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function dN(e){return ZC(e)&&!SN(e).hr()&&e.Qr.length>0}function pN(e){SN(e).start()}function vN(e){return yN.apply(this,arguments)}function yN(){return yN=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:SN(t).kr();case 1:case"end":return e.stop()}}),e)}))),yN.apply(this,arguments)}function mN(e){return gN.apply(this,arguments)}function gN(){return gN=X($().mark((function e(t){var n,r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=SN(t),r=le(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),gN.apply(this,arguments)}function kN(e,t,n){return wN.apply(this,arguments)}function wN(){return wN=X($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=zA.from(i,n,r),e.next=3,uN(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,cN(t);case 5:case"end":return e.stop()}}),e)}))),wN.apply(this,arguments)}function bN(e,t){return EN.apply(this,arguments)}function EN(){return EN=X($().mark((function e(t,n){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&SN(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g_(i=n.code)||i===tT.ABORTED){e.next=7;break}return r=t.Qr.shift(),SN(t).wr(),e.next=5,uN(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,cN(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:dN(t)&&pN(t);case 5:case"end":return e.stop()}}),e)}))),EN.apply(this,arguments)}function xN(e,t){return IN.apply(this,arguments)}function IN(){return IN=X($().mark((function e(t,n){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=eT(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,zC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,HC(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),IN.apply(this,arguments)}function TN(e){return e.Xr||(e.Xr=function(e,t,n){var r=eT(e);return r.Fr(),new UC(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:eN.bind(null,e),Ni:nN.bind(null,e),Pr:iN.bind(null,e)}),e.zr.push(function(){var t=X($().mark((function t(n){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),XC(e)?JC(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:$C(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function SN(e){return e.Zr||(e.Zr=function(e,t,n){var r=eT(e);return r.Fr(),new jC(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:vN.bind(null,e),Ni:bN.bind(null,e),Nr:mN.bind(null,e),Cr:kN.bind(null,e)}),e.zr.push(function(){var t=X($().mark((function t(n){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,cN(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(QI("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var _N=function(){function e(t,n,r,i,a){he(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new rT,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return de(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nT(tT.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function AN(e,t){if(YI("AsyncQueue","".concat(t,": ").concat(e)),VA(e))return new nT(tT.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var CN=function(){function e(t){he(this,e),this.comparator=t?function(e,n){return t(e,n)||UT.comparator(e.key,n.key)}:function(e,t){return UT.comparator(e.key,t.key)},this.keyedMap=A_(),this.sortedSet=new w_(this.comparator)}return de(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),NN=function(){function e(){he(this,e),this.eo=new w_(UT.comparator)}return de(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):ZI():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),RN=function(){function e(t,n,r,i,a,o,s,u){he(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return de(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&OS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,CN.emptySet(n),a,r,i,!0,!1)}}]),e}(),ON=de((function e(){he(this,e),this.so=void 0,this.listeners=[]})),DN=de((function e(){he(this,e),this.queries=new ZA((function(e){return DS(e)}),OS),this.onlineState="Unknown",this.io=new Set}));function PN(e,t){return LN.apply(this,arguments)}function LN(){return LN=X($().mark((function e(t,n){var r,i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=eT(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ON),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=AN(e.t0,"Initialization of query '".concat(PS(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&VN(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),LN.apply(this,arguments)}function MN(e,t){return UN.apply(this,arguments)}function UN(){return UN=X($().mark((function e(t,n){var r,i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=eT(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),UN.apply(this,arguments)}function jN(e,t){var n,r=eT(e),i=!1,a=le(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=le(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.so=o}}}catch(h){a.e(h)}finally{a.f()}i&&VN(r)}function FN(e,t,n){var r=eT(e),i=r.queries.get(t);if(i){var a,o=le(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function VN(e){e.io.forEach((function(e){e.next()}))}var BN=function(){function e(t,n,r){he(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return de(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=le(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new RN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=RN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}();var zN=de((function e(t){he(this,e),this.key=t})),qN=de((function e(t){he(this,e),this.key=t})),HN=function(){function e(t,n){he(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=O_(),this.mutatedKeys=O_(),this.Ao=MS(t),this.Ro=new CN(this.Ao)}return de(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new NN,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=IS(this.query)&&i.size===this.query.limit?i.last():null,c=TS(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=LS(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ao(h,u)>0||c&&n.Ao(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),IS(this.query)||TS(this.query))for(;o.size>this.query.limit;){var l=IS(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ZI()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new RN(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new NN,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=O_(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new qN(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new zN(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=O_();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return RN.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),KN=de((function e(t,n,r){he(this,e),this.query=t,this.targetId=n,this.view=r})),WN=de((function e(t){he(this,e),this.key=t,this.$o=!1})),GN=function(){function e(t,n,r,i,a,o){he(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new ZA((function(e){return DS(e)}),OS),this.Mo=new Map,this.Lo=new Set,this.Bo=new w_(UT.comparator),this.Uo=new Map,this.qo=new mC,this.Ko={},this.jo=new Map,this.Qo=YA.re(),this.onlineState="Unknown",this.Wo=void 0}return de(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function QN(e,t){return YN.apply(this,arguments)}function YN(){return YN=X($().mark((function e(t,n){var r,i,a,o,s,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xR(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,fC(r.localStore,NS(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,JN(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&WC(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),YN.apply(this,arguments)}function JN(e,t,n,r){return XN.apply(this,arguments)}function XN(){return XN=X($().mark((function e(t,n,r,i){var a,o,s,u,c,l;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=X($().mark((function e(t,n,r,i){var a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,vC(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(vR(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,vC(t.localStore,n,!0);case 3:return a=e.sent,o=new HN(n,a.zn),s=o.bo(a.documents),u=M_.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),vR(t,r,c.Co),l=new KN(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),XN.apply(this,arguments)}function ZN(e,t){return $N.apply(this,arguments)}function $N(){return $N=X($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=eT(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!OS(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,dC(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),GC(r.remoteStore,i.targetId),dR(r,i.targetId)})).catch(JA);case 9:e.next=14;break;case 11:return dR(r,i.targetId),e.next=14,dC(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),$N.apply(this,arguments)}function eR(e,t,n){return tR.apply(this,arguments)}function tR(){return tR=X($().mark((function e(t,n,r){var i,a,o;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=IR(t),e.prev=1,e.next=4,function(e,t){var n,r=eT(e),i=yT.now(),a=t.reduce((function(e,t){return e.add(t.key)}),O_());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=le(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=a_(c,n.get(c.key));null!=l&&s.push(new c_(c.key,l,$T(l.value.mapValue),e_.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new w_(pT)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,gR(i,a.changes);case 9:return e.next=11,cN(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=AN(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),tR.apply(this,arguments)}function nR(e,t){return rR.apply(this,arguments)}function rR(){return rR=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eT(t),e.prev=1,e.next=4,cC(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&($I(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?$I(n.$o):e.removedDocuments.size>0&&($I(n.$o),n.$o=!1))})),e.next=8,gR(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,JA(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),rR.apply(this,arguments)}function iR(e,t,n){var r=eT(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=eT(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=le(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&VN(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function aR(e,t,n){return oR.apply(this,arguments)}function oR(){return oR=X($().mark((function e(t,n,r){var i,a,o,s,u,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=eT(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new w_(UT.comparator)).insert(o,eS.newNoDocument(o,mT.min())),u=O_().add(o),c=new L_(mT.min(),new Map,new x_(pT),s,u),e.next=9,nR(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),mR(i),e.next=16;break;case 14:return e.next=16,dC(i.localStore,n,!1).then((function(){return dR(i,n,r)})).catch(JA);case 16:case"end":return e.stop()}}),e)}))),oR.apply(this,arguments)}function sR(e,t){return uR.apply(this,arguments)}function uR(){return uR=X($().mark((function e(t,n){var r,i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eT(t),i=n.batch.batchId,e.prev=1,e.next=4,sC(r.localStore,n);case 4:return a=e.sent,fR(r,i,null),hR(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,gR(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,JA(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),uR.apply(this,arguments)}function cR(e,t,n){return lR.apply(this,arguments)}function lR(){return lR=X($().mark((function e(t,n,r){var i,a;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eT(t),e.prev=1,e.next=4,function(e,t){var n=eT(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return $I(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,fR(i,n,r),hR(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,gR(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,JA(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),lR.apply(this,arguments)}function hR(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function fR(e,t,n){var r=eT(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function dR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=le(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||pR(e,t)}))}function pR(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(GC(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),mR(e))}function vR(e,t,n){var r,i=le(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof zN?(e.qo.addReference(a.key,t),yR(e,a)):a instanceof qN?(QI("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||pR(e,a.key)):ZI()}}catch(o){i.e(o)}finally{i.f()}}function yR(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(QI("SyncEngine","New document in limbo: "+n),e.Lo.add(r),mR(e))}function mR(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new UT(ET.fromString(t)),r=e.Qo.next();e.Uo.set(r,new WN(n)),e.Bo=e.Bo.insert(n,r),WC(e.remoteStore,new qA(NS(xS(n.path)),r,2,hT.I))}}function gR(e,t,n){return kR.apply(this,arguments)}function kR(){return kR=X($().mark((function e(t,n,r){var i,a,o,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=eT(t),a=[],o=[],s=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=tC.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=X($().mark((function e(t,n){var r,i,a,o,s,u,c,l;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eT(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return FA.forEach(n,(function(t){return FA.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return FA.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),VA(e.t0)){e.next=10;break}throw e.t0;case 10:QI("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=le(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),kR.apply(this,arguments)}function wR(e,t){return bR.apply(this,arguments)}function bR(){return bR=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=eT(t)).currentUser.isEqual(n)){e.next=11;break}return QI("SyncEngine","User change. New user:",n.toKey()),e.next=5,aC(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new nT(tT.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,gR(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),bR.apply(this,arguments)}function ER(e,t){var n=eT(e),r=n.Uo.get(t);if(r&&r.$o)return O_().add(r.key);var i=O_(),a=n.Mo.get(t);if(!a)return i;var o,s=le(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Oo.get(u);i=i.unionWith(c.view.Po)}}catch(l){s.e(l)}finally{s.f()}return i}function xR(e){var t=eT(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ER.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aR.bind(null,t),t.Fo.Pr=jN.bind(null,t.eventManager),t.Fo.zo=FN.bind(null,t.eventManager),t}function IR(e){var t=eT(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cR.bind(null,t),t}var TR=function(){function e(){he(this,e),this.synchronizeTabs=!1}return de(e,[{key:"initialize",value:function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=PC(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return iC(this.persistence,new nC,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new xC(TC.ks,this.k)}},{key:"Jo",value:function(e){return new _C}},{key:"terminate",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),SR=function(){function e(){he(this,e)}return de(e,[{key:"initialize",value:function(){var e=X($().mark((function e(t,n){var r=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return iR(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wR.bind(null,this.syncEngine),e.next=12,xN(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new DN}},{key:"createDatastore",value:function(e){var t,n=PC(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new OC(t));return function(e,t,n,r){return new FC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return iR(o.syncEngine,e,0)},a=CC.bt()?new CC:new AC,new BC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new GN(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=eT(t),QI("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,HC(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var _R=function(){function e(t){he(this,e),this.observer=t,this.muted=!1}return de(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),AR=function(){function e(t,n,r,i){var a=this;he(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=HI.UNAUTHENTICATED,this.clientId=dT.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QI("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return de(e,[{key:"getConfiguration",value:function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new nT(tT.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new rT;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(X($().mark((function n(){var r;return $().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=AN(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function CR(e,t){return NR.apply(this,arguments)}function NR(){return NR=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),QI("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,aC(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),NR.apply(this,arguments)}function RR(e,t){return OR.apply(this,arguments)}function OR(){return OR=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,DR(t);case 3:return r=e.sent,QI("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=X($().mark((function e(t,n){var r,i;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=eT(t)).asyncQueue.verifyOperationInProgress(),QI("RemoteStore","RemoteStore received new credentials"),i=ZC(r),r.Gr.add(3),e.next=6,HC(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,zC(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),OR.apply(this,arguments)}function DR(e){return PR.apply(this,arguments)}function PR(){return PR=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return QI("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,CR(t,new TR);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),PR.apply(this,arguments)}function LR(e){return MR.apply(this,arguments)}function MR(){return MR=X($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return QI("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,RR(t,new SR);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),MR.apply(this,arguments)}function UR(e){return LR(e).then((function(e){return e.syncEngine}))}function jR(e){return FR.apply(this,arguments)}function FR(){return FR=X($().mark((function e(t){var n,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,LR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=QN.bind(null,n.syncEngine),r.onUnlisten=ZN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),FR.apply(this,arguments)}function VR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rT;return e.asyncQueue.enqueueAndForget(X($().mark((function i(){return $().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new _R({next:function(n){t.enqueueAndForget((function(){return MN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new nT(tT.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new BN(n,a,{includeMetadataChanges:!0,wo:!0});return PN(e,o)},i.next=3,jR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var BR=de((function e(t,n,r,i,a,o,s,u){he(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),zR=function(){function e(t,n){he(this,e),this.projectId=t,this.database=n||"(default)"}return de(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),qR=new Map;function HR(e,t,n){if(!n)throw new nT(tT.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function KR(e){if(!UT.isDocumentKey(e))throw new nT(tT.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function WR(e){if(UT.isDocumentKey(e))throw new nT(tT.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function GR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ZI()}function QR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new nT(tT.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=GR(e);throw new nT(tT.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var YR=function(){function e(t){var n;if(he(this,e),void 0===t.host){if(void 0!==t.ssl)throw new nT(tT.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new nT(tT.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new nT(tT.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return de(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),JR=function(){function e(t,n,r){he(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YR({}),this._settingsFrozen=!1,t instanceof zR?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new nT(tT.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zR(e.options.projectId)}(t))}return de(e,[{key:"app",get:function(){if(!this._app)throw new nT(tT.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new nT(tT.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new aT;switch(e.type){case"gapi":var t=e.client;return $I(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new uT(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new nT(tT.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=qR.get(e);t&&(QI("ComponentProvider","Removing Datastore"),qR.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var XR=function(){function e(t,n,r){he(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return de(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new $R(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ZR=function(){function e(t,n,r){he(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return de(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),$R=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,e,r,xS(i)))._path=i,a.type="collection",a}return de(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new XR(this.firestore,null,new UT(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(ZR);function eO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=je(e),HR("collection","path",t),e instanceof JR){var a=ET.fromString.apply(ET,[t].concat(r));return WR(a),new $R(e,null,a)}if(!(e instanceof XR||e instanceof $R))throw new nT(tT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ET.fromString.apply(ET,[t].concat(r)));return WR(o),new $R(e.firestore,null,o)}var tO=function(){function e(){var t=this;he(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new LC(this,"async_queue_retry"),this.Ra=function(){var e=DC();e&&QI("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=DC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return de(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=DC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new rT;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=X($().mark((function e(){var t=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),VA(e.t0)){e.next=12;break}throw e.t0;case 12:QI("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw YI("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=_N.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&ZI()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=X($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=le(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=le(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();var nO=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new tO,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return de(n,[{key:"_terminate",value:function(){return this._firestoreClient||iO(this),this._firestoreClient.terminate()}}]),n}(JR);function rO(e){return e._firestoreClient||iO(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function iO(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new BR(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new AR(e._authCredentials,e._appCheckCredentials,e._queue,r)}var aO=function(){function e(){he(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new nT(tT.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new IT(n)}return de(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var oO=function(){function e(t){he(this,e),this._byteString=t}return de(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ST.fromBase64String(t))}catch(t){throw new nT(tT.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ST.fromUint8Array(t))}}]),e}(),sO=de((function e(t){he(this,e),this._methodName=t})),uO=function(){function e(t,n){if(he(this,e),!isFinite(t)||t<-90||t>90)throw new nT(tT.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new nT(tT.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return de(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return pT(this._lat,e._lat)||pT(this._long,e._long)}}]),e}(),cO=/^__.*__$/,lO=function(){function e(t,n,r){he(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return de(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new c_(e,this.data,this.fieldMask,t,this.fieldTransforms):new u_(e,this.data,t,this.fieldTransforms)}}]),e}(),hO=function(){function e(t,n,r){he(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return de(e,[{key:"toMutation",value:function(e,t){return new c_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function fO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ZI()}}var dO=function(){function e(t,n,r,i,a,o){he(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return de(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return AO(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(fO(this.xa)&&cO.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),pO=function(){function e(t,n,r){he(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||PC(t)}return de(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new dO({xa:e,methodName:t,Ka:n,path:IT.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function vO(e){var t=e._freezeSettings(),n=PC(e._databaseId);return new pO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yO(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);IO("Data must be an object, but it was:",o,r);var s,u,c=EO(r,o);if(a.merge)s=new TT(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=le(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=l.value,p=TO(t,d,n);if(!o.contains(p))throw new nT(tT.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));CO(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new TT(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new lO(new ZT(c),s,u)}var mO=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.apply(this,arguments)}return de(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sO);function gO(e,t,n,r){var i=e.ja(1,t,n);IO("Data must be an object, but it was:",i,r);var a=[],o=ZT.empty();kT(r,(function(e,r){var s=_O(t,e,n);r=je(r);var u=i.La(s);if(r instanceof mO)a.push(s);else{var c=bO(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new TT(a);return new hO(o,s,i.fieldTransforms)}function kO(e,t,n,r,i,a){var o=e.ja(1,t,n),s=[TO(t,r,n)],u=[i];if(a.length%2!=0)throw new nT(tT.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(TO(t,a[c])),u.push(a[c+1]);for(var l=[],h=ZT.empty(),f=s.length-1;f>=0;--f)if(!CO(l,s[f])){var d=s[f],p=u[f];p=je(p);var v=o.La(d);if(p instanceof mO)l.push(d);else{var y=bO(p,v);null!=y&&(l.push(d),h.set(d,y))}}var m=new TT(l);return new hO(h,m,o.fieldTransforms)}function wO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bO(n,e.ja(r?4:3,t))}function bO(e,t){if(xO(e=je(e)))return IO("Unsupported field value:",t,e),EO(e,t);if(e instanceof sO)return function(e,t){if(!fO(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=le(e);try{for(a.s();!(n=a.n()).done;){var o=bO(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=je(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return VS(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=yT.fromDate(e);return{timestampValue:G_(t.k,n)}}if(e instanceof yT){var r=new yT(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:G_(t.k,r)}}if(e instanceof uO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof oO)return{bytesValue:Q_(t.k,e._byteString)};if(e instanceof XR){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:X_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(GR(e)))}(e,t)}function EO(e,t){var n={};return wT(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kT(e,(function(e,r){var i=bO(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xO(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yT||e instanceof uO||e instanceof oO||e instanceof XR||e instanceof sO)}function IO(e,t,n){if(!xO(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=GR(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function TO(e,t,n){if((t=je(t))instanceof aO)return t._internalPath;if("string"==typeof t)return _O(e,t);throw AO("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var SO=new RegExp("[~\\*/\\[\\]]");function _O(e,t,n){if(t.search(SO)>=0)throw AO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ye(aO,pe(t.split(".")))._internalPath}catch(r){throw AO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function AO(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new nT(tT.INVALID_ARGUMENT,s+e+u)}function CO(e,t){return e.some((function(e){return e.isEqual(t)}))}var NO=function(){function e(t,n,r,i,a){he(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return de(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new XR(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new RO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(OO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),RO=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.apply(this,arguments)}return de(n,[{key:"data",value:function(){return ne(ee(n.prototype),"data",this).call(this)}}]),n}(NO);function OO(e,t){return"string"==typeof t?_O(e,t):t instanceof aO?t._internalPath:t._delegate._internalPath}var DO=function(){function e(t,n){he(this,e),this.hasPendingWrites=t,this.fromCache=n}return de(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),PO=function(e){ae(n,e);var t=ce(n);function n(e,r,i,a,o,s){var u;return he(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return de(n,[{key:"exists",value:function(){return ne(ee(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new LO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(OO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(NO),LO=function(e){ae(n,e);var t=ce(n);function n(){return he(this,n),t.apply(this,arguments)}return de(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ne(ee(n.prototype),"data",this).call(this,e)}}]),n}(PO),MO=function(){function e(t,n,r,i){he(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new DO(i.hasPendingWrites,i.fromCache),this.query=r}return de(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new LO(n._firestore,n._userDataWriter,r.key,r,new DO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nT(tT.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new LO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new LO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:UO(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function UO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ZI()}}function jO(e){if(TS(e)&&0===e.explicitOrderBy.length)throw new nT(tT.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var FO=de((function e(){he(this,e)}));function VO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var BO=function(e){ae(n,e);var t=ce(n);function n(e,r,i){var a;return he(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return de(n,[{key:"_apply",value:function(e){var t=vO(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new nT(tT.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){HO(o,a);var u,c=[],l=le(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(qO(r,e,h))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=qO(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||HO(o,a),s=wO(n,"where",o,"in"===a||"not-in"===a);var f=oS.create(i,a,s);return function(e,t){if(t.V()){var n=_S(e);if(null!==n&&!n.isEqual(t.field))throw new nT(tT.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=SS(e);null!==r&&KO(e,t.field,r)}var i=function(e,t){var n,r=le(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new nT(tT.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new nT(tT.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new ZR(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new bS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(FO);function zO(e,t,n){var r=t,i=OO("where",e);return new BO(i,r,n)}function qO(e,t,n){if("string"==typeof(n=je(n))){if(""===n)throw new nT(tT.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!AS(t)&&-1!==n.indexOf("/"))throw new nT(tT.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ET.fromString(n));if(!UT.isDocumentKey(r))throw new nT(tT.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return KT(e,new UT(r))}if(n instanceof XR)return KT(e,n._key);throw new nT(tT.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(GR(n),"."))}function HO(e,t){if(!Array.isArray(e)||0===e.length)throw new nT(tT.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new nT(tT.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function KO(e,t,n){if(!n.isEqual(t))throw new nT(tT.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var WO=function(){function e(){he(this,e)}return de(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jT(e)){case 0:return null;case 1:return e.booleanValue;case 2:return CT(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(NT(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ZI()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return kT(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new uO(CT(e.latitude),CT(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=OT(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(DT(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=AT(e);return new yT(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ET.fromString(e);$I(wA(n));var r=new zR(n.get(1),n.get(3)),i=new UT(n.popFirst(5));return r.isEqual(t)||YI("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function GO(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var QO=function(e){ae(n,e);var t=ce(n);function n(e){var r;return he(this,n),(r=t.call(this)).firestore=e,r}return de(n,[{key:"convertBytes",value:function(e){return new oO(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new XR(this.firestore,null,t)}}]),n}(WO);function YO(e){e=QR(e,ZR);var t=QR(e.firestore,nO),n=rO(t),r=new QO(t);return jO(e._query),VR(n,e._query).then((function(n){return new MO(t,r,e,n)}))}function JO(e,t,n){e=QR(e,XR);for(var r=QR(e.firestore,nO),i=vO(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return ZO(r,[("string"==typeof(t=je(t))||t instanceof aO?kO(i,"updateDoc",e._key,t,n,o):gO(i,"updateDoc",e._key,t)).toMutation(e._key,e_.exists(!0))])}function XO(e,t){var n=QR(e.firestore,nO),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=je(e),1===arguments.length&&(t=dT.A()),HR("doc","path",t),e instanceof JR){var a=ET.fromString.apply(ET,[t].concat(r));return KR(a),new XR(e,null,new UT(a))}if(!(e instanceof XR||e instanceof $R))throw new nT(tT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ET.fromString.apply(ET,[t].concat(r)));return KR(o),new XR(e.firestore,e instanceof $R?e.converter:null,new UT(o))}(e),i=GO(e.converter,t);return ZO(n,[yO(vO(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,e_.exists(!1))]).then((function(){return r}))}function ZO(e,t){return function(e,t){var n=new rT;return e.asyncQueue.enqueueAndForget(X($().mark((function r(){return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=eR,r.next=3,UR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(rO(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];KI="9.6.1",ut(new Fe("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new nO(i,new oT(e.getProvider("auth-internal")),new lT(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),yt(qI,"3.4.1",e),yt(qI,"3.4.1","esm2017")}();var $O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:rt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ft.create("bad-app-name",{appName:String(i)});var a=at.get(i);if(a){if(Re(e,a.options)&&Re(r,a.config))return a;throw ft.create("duplicate-app",{appName:i})}var o,s=new He(i),u=le(ot.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new dt(e,r,s);return at.set(i,l),l}({apiKey:"AIzaSyCdN1WsH7agQb0ZZm4rAhThy32-HmY0x2w",authDomain:"pweb-69be9.firebaseapp.com",projectId:"pweb-69be9",storageBucket:"pweb-69be9.appspot.com",messagingSenderId:"517444776352",appId:"1:517444776352:web:0356289957dd82d10974c5",measurementId:"G-GYRLEPEQZ6"}),eD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt();return ct(e,"firestore").getImmediate()}($O),tD=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt(),t=ct(e,"auth");t.isInitialized()?t.getImmediate():Dt(e,{popupRedirectResolver:aa,persistence:[ii,Dr,Lr]})}($O),function(){var e=X($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YO(eO(eD,"funcionarios"));case 2:return t=e.sent,n=[],t.docs.forEach((function(e){n.push({id:e.id,nome:e.data().nome,privacessos:e.data().privacessos})})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),nD=function(){var e=X($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YO(eO(eD,"veiculos"));case 2:return t=e.sent,n=[],t.docs.forEach((function(e){n.push({id:e.id,nome:e.data().nome,imagem:e.data().imagem,cor:e.data().cor,classificacao:e.data().classificacao,cadeiras:e.data().cadeiras,marca:e.data().marca,placa:e.data().placa,renovam:e.data().renovam,chassi:e.data().chassi})})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rD=function(){var e=X($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YO(eO(eD,"fornecedor"));case 2:return t=e.sent,n=[],t.docs.forEach((function(e){n.push({id:e.id,nome:e.data().nome,cnpj:e.data().cnpj,prodoferecidos:e.data().prodoferecidos,"endere\xe7o":e.data().endere\u00e7o,contatoempresa:e.data().contatoempresa})})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),iD=function(){var e=X($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YO(eO(eD,"reservarc"));case 2:return t=e.sent,n=[],t.docs.forEach((function(e){n.push({id:e.id,nome:e.data().nome,estado:e.data().estado,veiculo:e.data().veiculo})})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),aD=function(){var e=X($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YO(eO(eD,"reservarc"),zO("estado","==","pendente"));case 2:return t=e.sent,n=[],t.docs.forEach((function(e){n.push({id:e.id,nome:e.data().nome,estado:e.data().estado,nomeveiculo:e.data().veiculo})})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oD=function(){var e=X($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YO(VO(eO(eD,"veiculos"),zO("reservado","==",!1)));case 2:return t=e.sent,n=[],t.docs.forEach((function(e){n.push({id:e.id,nome:e.data().nome,imagem:e.data().imagem,cadeiras:e.data().cadeiras,reservado:e.data().reservado,marca:e.data().marca})})),console.log(t),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sD=function(){var e=X($().mark((function e(t,n,r,i,a,o,s){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,XO(eO(eD,"clientes"),{nome:t,cpf:n,rg:r,endereco:i,cnh:a,email:o,senha:s});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r,i,a,o,s){return e.apply(this,arguments)}}(),uD=function(){var e=X($().mark((function e(t,n,r,i,a,o,s){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,XO(eO(eD,"funcionarios"),{nome:t,cargo:n,cpf:r,rg:i,privacessos:a,email:o,senha:s});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r,i,a,o,s){return e.apply(this,arguments)}}(),cD=function(){var e=X($().mark((function e(t,n,r,i,a){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,XO(eO(eD,"fornecedor"),{nome:t,cnpj:n,"endere\xe7o":r,prodoferecidos:i,contatoempresa:a});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),lD=function(){var e=X($().mark((function e(t,n,r,i){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,XO(eO(eD,"reservarc"),{nome:t,estado:"reservada",nomeveiculo:n,periodolocacao:r,tiposeguro:i});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),hD=function(){var e=X($().mark((function e(t){var n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=VO(eO(eD,"veiculos"),zO("nome","==",t)),console.log(n),e.next=5,JO(n,{reservado:!0});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function fD(){var t=a((0,e.useState)(""),2),n=t[0],r=t[1],i=a((0,e.useState)(""),2),o=i[0],s=i[1],u=a((0,e.useState)(""),2),c=u[0],l=u[1],h=a((0,e.useState)(""),2),f=h[0],d=h[1],p=a((0,e.useState)(""),2),v=p[0],y=p[1],m=a((0,e.useState)(""),2),g=m[0],k=m[1],w=a((0,e.useState)(""),2),b=w[0],E=w[1],x=function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sD(n,o,c,f,v,g,b);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Q.jsxs)("div",{className:"container-cadcliente",children:[(0,Q.jsx)("div",{className:"titulo",children:"CADASTRAR CLIENTE"}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"nome",children:"Nome:"}),(0,Q.jsx)("input",{type:"text",id:"nome",placeholder:"Digite o seu nome...",onChange:function(e){r(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"cpf",children:"CPF:"}),(0,Q.jsx)("input",{type:"text",id:"cpf",placeholder:"Digite o seu CPF...",onChange:function(e){s(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"rg",children:"RG:"}),(0,Q.jsx)("input",{type:"text",id:"rg",placeholder:"Digite o seu RG...",onChange:function(e){l(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"endereco",children:"Endere\xe7o:"}),(0,Q.jsx)("input",{type:"text",id:"endereco",placeholder:"Digite o seu endere\xe7o...",onChange:function(e){d(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"cnh",children:"CNH:"}),(0,Q.jsx)("input",{type:"text",id:"cnh",placeholder:"Digite a sua CNH...",onChange:function(e){y(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,Q.jsx)("input",{type:"text",id:"email",placeholder:"Digite o seu email...",onChange:function(e){k(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"senha",children:"Senha:"}),(0,Q.jsx)("input",{type:"password",id:"senha",placeholder:"Digite a sua senha...",onChange:function(e){E(e.target.value)}})]}),(0,Q.jsx)("button",{className:"botao-cadastrar-cl",onClick:function(){return x()},children:"Cadastrar"})]})}var dD=n(541);function pD(){return(0,Q.jsxs)("nav",{className:"nav-bar-funcionarios",children:[(0,Q.jsx)("h1",{children:"PWEB"}),(0,Q.jsxs)("ul",{children:[(0,Q.jsx)("li",{children:(0,Q.jsx)(G,{to:"/homef",children:"Home"})}),(0,Q.jsx)("li",{children:(0,Q.jsx)(G,{to:"/veiculosf",children:"Ve\xedculos"})}),(0,Q.jsx)("li",{children:(0,Q.jsx)(G,{to:"/funcionarios",children:"Funcion\xe1rios"})}),(0,Q.jsx)("li",{children:(0,Q.jsx)(G,{to:"/fornecedores",children:"Fornecedores"})}),(0,Q.jsx)("li",{children:(0,Q.jsx)(G,{to:"/reservas",children:"Reservas"})}),(0,Q.jsx)("li",{children:(0,Q.jsx)("div",{className:"sair",children:(0,Q.jsx)("img",{className:"botao-sair",src:dD,alt:"sair"})})})]})]})}function vD(){var t=a((0,e.useState)([]),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){aD().then((function(e){r(e.map((function(e){return{id:e.id,nome:e.nome,estado:e.estado,nomeveiculo:e.nomeveiculo}})))}))}),[]),(0,Q.jsxs)("div",{className:"container-hmfuncionarios",children:[(0,Q.jsx)(pD,{}),(0,Q.jsxs)("div",{className:"content-hmf",children:[(0,Q.jsx)("div",{className:"titulo-reservaspendententes",children:"Reservas Pendentes:"}),(0,Q.jsx)("div",{className:"row-detReservasf",children:n.map((function(e){return e?(0,Q.jsxs)("div",{className:"card-reservasf-pendentes",id:e.id,children:[(0,Q.jsxs)("div",{className:"campo-reservasf",children:[(0,Q.jsx)("div",{className:"label-reservasf",children:"Cliente:"}),(0,Q.jsxs)("div",{className:"valor-reservasf",children:[" ",e.nome]})]}),(0,Q.jsxs)("div",{className:"campo-reservasf",children:[(0,Q.jsx)("div",{className:"label-reservasf",children:"Veiculo:"}),(0,Q.jsxs)("div",{className:"valor-reservasf",children:[" ",e.nomeveiculo]})]}),(0,Q.jsxs)("div",{className:"campo-reservasf",children:[(0,Q.jsx)("div",{className:"label-reservasf",children:"Estado:"}),(0,Q.jsxs)("div",{className:"valor-reservasf",children:[" ",e.estado]})]})]}):(0,Q.jsx)("div",{className:"detReservaEmpty",children:"N\xe3o existe nenhuma reserva pendente"})}))})]})]})}function yD(){var t=a((0,e.useState)(""),2),n=t[0],r=t[1],i=a((0,e.useState)(""),2),o=i[0],s=i[1],u=a((0,e.useState)(""),2),c=u[0],l=u[1],h=a((0,e.useState)(""),2),f=h[0],d=h[1],p=a((0,e.useState)(""),2),v=p[0],y=p[1],m=a((0,e.useState)(""),2),g=m[0],k=m[1],w=a((0,e.useState)(""),2),b=w[0],E=w[1],x=function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uD(n,o,c,f,v,g,b);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Q.jsxs)("div",{className:"container-cadfun",children:[(0,Q.jsx)("div",{className:"titulo",children:"CADASTRAR FUNCION\xc1RIOS"}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"nome",children:"Nome:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o seu nome...",onChange:function(e){r(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"cargo",children:"Cargo:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o cargo...",onChange:function(e){s(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"cpf",children:"CPF:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o seu CPF...",onChange:function(e){l(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"rg",children:"RG:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o seu RG...",onChange:function(e){d(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"select-field",children:[(0,Q.jsx)("label",{htmlFor:"pvacessos",children:"Privil\xe9gios de acesso:"}),(0,Q.jsxs)("select",{id:"pvacessos",value:v,className:"drop-box",onChange:function(e){y(e.target.value)},children:[(0,Q.jsx)("option",{disabled:!0,value:"",children:"Insira os privil\xe9gios de acesso do funcion\xe1rio..."}),(0,Q.jsx)("option",{children:"Todos"}),(0,Q.jsx)("option",{children:"Ver"}),(0,Q.jsx)("option",{children:"Editar"})]})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o seu email...",onChange:function(e){k(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"senha",children:"Senha:"}),(0,Q.jsx)("input",{type:"password",placeholder:"Digite a sua senha...",onChange:function(e){E(e.target.value)}})]}),(0,Q.jsx)("div",{className:"botao-cadastrar-cl",onClick:function(){return x()},children:"Cadastrar"})]})}function mD(){var t=a((0,e.useState)(""),2),n=t[0],r=t[1],i=a((0,e.useState)(""),2),o=i[0],s=i[1],u=a((0,e.useState)(""),2),c=u[0],l=u[1],h=a((0,e.useState)(""),2),f=h[0],d=h[1],p=a((0,e.useState)(""),2),v=p[0],y=p[1],m=a((0,e.useState)(""),2),g=m[0],k=m[1],w=a((0,e.useState)(""),2),b=w[0],E=w[1],x=a((0,e.useState)(""),2),I=x[0],T=x[1],S=a((0,e.useState)(""),2),_=S[0],A=S[1],C=a((0,e.useState)(""),2),N=C[0],R=C[1],O=function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cw(n,o,c,f,v,g,b,I,_,N);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Q.jsxs)("div",{className:"container-cadv",children:[(0,Q.jsx)("div",{className:"titulo",children:"CADASTRAR VEICULOS"}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"nome",children:"Nome do veiculo:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o nome do veiculo...",onChange:function(e){r(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"imagem",children:"Imagem:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Insira o link da imagem do veiculo...",onChange:function(e){s(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"marca",children:"Marca:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite a marca do veiculo...",onChange:function(e){l(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"placa",children:"Placa:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite a placa do veiculo...",onChange:function(e){d(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"chassi",children:"Chassi:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o chassi do veiculo...",onChange:function(e){y(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"renovam",children:"Renovam:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o renovam do veiculo...",onChange:function(e){k(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"cadeiras",children:"Cadeiras:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Insira a quantidade de cadeiras...",onChange:function(e){E(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"select-field",children:[(0,Q.jsx)("label",{htmlFor:"classificacao",children:"Classifica\xe7\xe3o:"}),(0,Q.jsxs)("select",{name:"classificacao",id:"classificacao",className:"drop-box",value:I,onChange:function(e){T(e.target.value)},children:[(0,Q.jsx)("option",{disabled:!0,value:"",children:"Insira a classifica\xe7\xe3o do veiculo..."}),(0,Q.jsx)("option",{children:"Familiar"}),(0,Q.jsx)("option",{children:"Utilitario"}),(0,Q.jsx)("option",{children:"Passeio"})]})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"cor",children:"Cor:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Insira a cor do veiculo...",onChange:function(e){A(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"gps",children:"GPS:"}),(0,Q.jsx)("input",{type:"text",placeholder:"O ve\xedculo possui GPS?",onChange:function(e){R(e.target.value)}})]}),(0,Q.jsx)("div",{className:"botao-cadastrar-cl",onClick:function(){return O()},children:"Cadastrar"})]})}function gD(){var t=a((0,e.useState)([]),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){iD().then((function(e){r(e.map((function(e){return{id:e.id,nome:e.nome,estado:e.estado,veiculo:e.veiculo}})))}))}),[]),(0,Q.jsxs)("div",{className:"container-reservasf",children:[(0,Q.jsx)(pD,{}),(0,Q.jsx)("div",{className:"content-reservasf",children:n.map((function(e){return(0,Q.jsxs)("div",{className:"card-reservasf",id:e.id,onClick:null,children:[(0,Q.jsxs)("div",{className:"campo-reservasf",children:[(0,Q.jsx)("div",{className:"label-reservasf",children:"Cliente:"}),(0,Q.jsxs)("div",{className:"valor-reservasf",children:[" ",e.nome]})]}),(0,Q.jsxs)("div",{className:"campo-reservasf",children:[(0,Q.jsx)("div",{className:"label-reservasf",children:"Veiculo:"}),(0,Q.jsxs)("div",{className:"valor-reservasf",children:[" ",e.veiculo]})]}),(0,Q.jsxs)("div",{className:"campo-reservasf",children:[(0,Q.jsx)("div",{className:"label-reservasf",children:"Estado:"}),(0,Q.jsxs)("div",{className:"valor-reservasf",children:[" ",e.estado]})]})]})}))})]})}function kD(){return(0,Q.jsxs)("div",{className:"nav-bar-clientes",children:[(0,Q.jsx)("h1",{children:"PWEB"}),(0,Q.jsxs)("ul",{children:[(0,Q.jsx)("li",{children:(0,Q.jsx)(G,{to:"/homec",children:"Home"})}),(0,Q.jsx)("li",{children:(0,Q.jsx)(G,{to:"/reservar",children:"Reservar"})}),(0,Q.jsx)("li",{children:(0,Q.jsx)("div",{className:"sair",children:(0,Q.jsx)("img",{className:"botao-sair",src:dD,alt:"sair"})})})]})]})}function wD(){var t=a((0,e.useState)([]),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){oD().then((function(e){r(e.map((function(e){return{id:e.id,nome:e.nome,imagem:e.imagem,cadeiras:e.cadeiras,reservado:e.reservado,marca:e.marca}})))}))}),[]),(0,Q.jsxs)("div",{className:"container-homec",children:[(0,Q.jsx)(kD,{}),(0,Q.jsxs)("div",{className:"content-homec",children:[(0,Q.jsx)("div",{className:"titulo-homec",children:"Veiculos disponiveis para reserva:"}),(0,Q.jsx)("div",{className:"cards-homec",children:n.map((function(e){return(0,Q.jsxs)("div",{className:"cardveiculo-cliente",children:[(0,Q.jsx)("img",{src:e.imagem,className:"imagem-veic",alt:"imagem-veic"}),(0,Q.jsx)("div",{className:"label-veic",children:e.nome}),(0,Q.jsx)("div",{className:"label-veic",children:e.marca}),(0,Q.jsxs)("div",{className:"label-veic",children:[e.cadeiras," Cadeiras"]})]})}))})]})]})}function bD(){var t=a((0,e.useState)(""),2),n=t[0],r=t[1],i=a((0,e.useState)(""),2),o=i[0],s=i[1],u=a((0,e.useState)(""),2),c=u[0],l=u[1],h=a((0,e.useState)(""),2),f=h[0],d=h[1],p=a((0,e.useState)(""),2),v=p[0],y=p[1],m=function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cD(n,o,c,f,v);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Q.jsxs)("div",{className:"container-cf",children:[(0,Q.jsx)("div",{className:"titulo",children:"CADASTRAR FORNECEDORES"}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"nome",children:"Nome da empresa:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o nome da empresa...",onChange:function(e){r(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"cnpj",children:"CNPJ:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o CNPF...",onChange:function(e){s(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"endereco",children:"Endere\xe7o:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o endere\xe7o da empresa...",onChange:function(e){l(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"prodoferecidos",children:"Produtos Oferecidos:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite quais s\xe3o os produtos oferecidos...",onChange:function(e){d(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"contatoempresa",children:"Contato da empresa:"}),(0,Q.jsx)("input",{type:"text",placeholder:"Digite o contato da empresa...",onChange:function(e){y(e.target.value)}})]}),(0,Q.jsx)("div",{className:"botao-cadastrar-cl",onClick:function(){return m()},children:"Cadastrar"})]})}var ED=n(147),xD=n(986);function ID(){var t=a((0,e.useState)([]),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){tD().then((function(e){r(e.map((function(e){return{id:e.id,nome:e.nome,privacessos:e.privacessos}})))}))}),[]),(0,Q.jsxs)("div",{className:"container-fun",children:[(0,Q.jsx)(pD,{}),(0,Q.jsxs)("div",{className:"content-fun",children:[n.map((function(e){return(0,Q.jsxs)("div",{className:"card-funcionarios",id:e.id,children:[(0,Q.jsx)("div",{className:"circle-person",children:(0,Q.jsx)("img",{className:"person-img",src:ED,alt:"pessoa"})}),(0,Q.jsxs)("div",{className:"campos-fun",children:[(0,Q.jsx)("div",{className:"label-fun",children:"Nome:"}),(0,Q.jsx)("div",{className:"valor-fun",children:e.nome})]}),(0,Q.jsxs)("div",{className:"campos-fun",children:[(0,Q.jsx)("div",{className:"label-fun",children:"Privil\xe9gios de acesso:"}),(0,Q.jsx)("div",{className:"valor-fun",children:e.privacessos})]})]})})),(0,Q.jsx)("div",{className:"adicionar-funcionarios",children:(0,Q.jsx)(G,{to:"/cadfuncionarios",children:(0,Q.jsx)("img",{className:"add-fun",src:xD,alt:"add-fun"})})})]})]})}function TD(){var t=a((0,e.useState)([]),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){nD().then((function(e){r(e.map((function(e){return{id:e.id,nome:e.nome,imagem:e.imagem,cor:e.cor,classificacao:e.classificacao,cadeiras:e.cadeiras,marca:e.marca,placa:e.placa,renovam:e.renovam,chassi:e.chassi}})))}))}),[]),(0,Q.jsxs)("div",{className:"container-veiculosf",children:[(0,Q.jsx)(pD,{}),(0,Q.jsxs)("div",{className:"content-veicf",children:[n.map((function(e){return(0,Q.jsxs)("div",{className:"card-veiculo",id:e.id,children:[(0,Q.jsx)("img",{className:"carro-image",src:e.imagem,alt:"carrinho"}),(0,Q.jsx)("div",{className:"nome-veiculo",children:e.nome}),(0,Q.jsxs)("div",{className:"campos-cardveiculo",children:[(0,Q.jsx)("div",{className:"label-cardveiculo",children:"Cor:"}),(0,Q.jsx)("div",{className:"valor-cardveiculo",children:e.cor})]}),(0,Q.jsxs)("div",{className:"campos-cardveiculo",children:[(0,Q.jsx)("div",{className:"label-cardveiculo",children:"Classifica\xe7\xe3o:"}),(0,Q.jsx)("div",{className:"valor-cardveiculo",children:e.classificacao})]}),(0,Q.jsxs)("div",{className:"campos-cardveiculo",children:[(0,Q.jsx)("div",{className:"label-cardveiculo",children:"Cadeiras:"}),(0,Q.jsx)("div",{className:"valor-cardveiculo",children:e.cadeiras})]}),(0,Q.jsxs)("div",{className:"campos-cardveiculo",children:[(0,Q.jsx)("div",{className:"label-cardveiculo",children:"Marca:"}),(0,Q.jsx)("div",{className:"valor-cardveiculo",children:e.marca})]}),(0,Q.jsxs)("div",{className:"campos-cardveiculo",children:[(0,Q.jsx)("div",{className:"label-cardveiculo",children:"Placa:"}),(0,Q.jsx)("div",{className:"valor-cardveiculo",children:e.placa})]}),(0,Q.jsxs)("div",{className:"campos-cardveiculo",children:[(0,Q.jsx)("div",{className:"label-cardveiculo",children:"Renovam:"}),(0,Q.jsx)("div",{className:"valor-cardveiculo",children:e.renovam})]}),(0,Q.jsxs)("div",{className:"campos-cardveiculo",children:[(0,Q.jsx)("div",{className:"label-cardveiculo",children:"Chassi:"}),(0,Q.jsx)("div",{className:"valor-cardveiculo",children:e.chassi})]})]})})),(0,Q.jsx)("div",{className:"adicionar-veicf",children:(0,Q.jsx)(G,{to:"/cadveiculos",children:(0,Q.jsx)("img",{src:xD,alt:"adicionar",className:"adicionar-img"})})})]})]})}function SD(){var t=a((0,e.useState)([]),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){rD().then((function(e){r(e.map((function(e){return{id:e.id,nome:e.nome,cnpj:e.cnpj,prodoferecidos:e.prodoferecidos,"endere\xe7o":e.endere\u00e7o,contatoempresa:e.contatoempresa}})))}))}),[]),(0,Q.jsxs)("div",{className:"container-f",children:[(0,Q.jsx)(pD,{}),(0,Q.jsxs)("div",{className:"content-f",children:[n.map((function(e){return(0,Q.jsxs)("div",{className:"card-fornecedores",children:[(0,Q.jsx)("div",{className:"titulo-card-fornecedor",children:e.nome}),(0,Q.jsxs)("div",{className:"campo-fornecedores",children:[(0,Q.jsx)("div",{className:"label-fornecedores",children:"CNPJ:"}),(0,Q.jsx)("div",{className:"valor-fornecedores",children:e.cnpj})]}),(0,Q.jsxs)("div",{className:"campo-fornecedores",children:[(0,Q.jsx)("div",{className:"label-fornecedores",children:"Produtos Oferecidos:"}),(0,Q.jsx)("div",{className:"valor-fornecedores",children:e.prodoferecidos})]}),(0,Q.jsxs)("div",{className:"campo-fornecedores",children:[(0,Q.jsx)("div",{className:"label-fornecedores",children:"Endere\xe7o:"}),(0,Q.jsx)("div",{className:"valor-fornecedores",children:e.endere\u00e7o})]}),(0,Q.jsxs)("div",{className:"campo-fornecedores",children:[(0,Q.jsx)("div",{className:"label-fornecedores",children:"Contato:"}),(0,Q.jsx)("div",{className:"valor-fornecedores",children:e.contatoempresa})]})]})})),(0,Q.jsx)("div",{className:"add-fornecedores",children:(0,Q.jsx)(G,{to:"/cadfornecedores",children:(0,Q.jsx)("img",{src:xD,alt:"add-fornecedores",className:"add-forn"})})})]})]})}function _D(){return(0,Q.jsxs)("div",{className:"container-devolucao",children:[(0,Q.jsx)(kD,{}),(0,Q.jsx)("div",{className:"content-devo",children:(0,Q.jsxs)("div",{className:"checklist-devolucao",children:[(0,Q.jsx)("div",{className:"titulo-ck",children:"Checklist Entrega"}),(0,Q.jsxs)("div",{className:"check-box-devo",children:[(0,Q.jsx)("label",{htmlFor:"atraso",children:"Houve atraso?"}),(0,Q.jsx)("input",{type:"checkbox",className:"input-check"})]}),(0,Q.jsxs)("div",{className:"check-box-devo",children:[(0,Q.jsx)("label",{htmlFor:"atraso",children:"Cont\xe9m dano?"}),(0,Q.jsx)("input",{type:"checkbox",className:"input-check"})]}),(0,Q.jsxs)("div",{className:"check-box-devo",children:[(0,Q.jsx)("label",{htmlFor:"atraso",children:"Est\xe1 limpo?"}),(0,Q.jsx)("input",{type:"checkbox",className:"input-check"})]}),(0,Q.jsx)("button",{className:"botao-enviar",children:"Enviar"})]})})]})}function AD(){var t=a((0,e.useState)(""),2),n=t[0],r=t[1],i=a((0,e.useState)(""),2),o=i[0],s=i[1],u=a((0,e.useState)(0),2),c=u[0],l=u[1],h=a((0,e.useState)(""),2),f=h[0],d=h[1],p=function(){var e=X($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lD(n,o,c,f);case 2:return e.next=4,hD(o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Q.jsxs)("div",{className:"container-reservar",children:[(0,Q.jsx)("div",{className:"titulo",children:"RESERVAR"}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"nomecliente",children:"Nome Cliente:"}),(0,Q.jsx)("input",{type:"text",id:"cliente",placeholder:"Digite o seu nome",onChange:function(e){r(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"nomeveiculo",children:"Nome Veiculo:"}),(0,Q.jsx)("input",{type:"text",id:"nomeveiculo",placeholder:"Digite o nome do veiculo que escolheu",onChange:function(e){s(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"periodolocacao",children:"Periodo de loca\xe7\xe3o:"}),(0,Q.jsx)("input",{type:"number",id:"periodolocacao",placeholder:"Digite o periodo de loca\xe7\xe3o",onChange:function(e){l(e.target.value)}})]}),(0,Q.jsxs)("div",{className:"text-field",children:[(0,Q.jsx)("label",{htmlFor:"tiposeguro",children:"Tipo de seguro:"}),(0,Q.jsx)("input",{type:"text",id:"tiposeguro",placeholder:"Informe o tipo de seguro escolhido",onChange:function(e){d(e.target.value)}})]}),(0,Q.jsx)("button",{className:"botao-cadastrar-cl",onClick:function(){return p},children:"Cadastrar"})]})}function CD(){return(0,Q.jsx)("div",{className:"container-escolha",children:(0,Q.jsxs)("div",{className:"content-escolha",children:[(0,Q.jsx)(G,{to:"/homec",children:(0,Q.jsx)("div",{className:"botao-escolha",children:"Home Page Cliente"})}),(0,Q.jsx)(G,{to:"/homef",children:(0,Q.jsx)("div",{className:"botao-escolha",children:"Home Page Funcionario"})})]})})}var ND=function(){return(0,Q.jsx)(W,{children:(0,Q.jsxs)(E,{children:[(0,Q.jsx)(w,{element:(0,Q.jsx)(Y,{}),path:"/",exact:!0}),(0,Q.jsx)(w,{element:(0,Q.jsx)(fD,{}),path:"/cadcliente"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(vD,{}),path:"/homef"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(bD,{}),path:"/cadfornecedores"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(yD,{}),path:"/cadfuncionarios"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(mD,{}),path:"/cadveiculos"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(gD,{}),path:"/reservas"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(wD,{}),path:"/homec"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(ID,{}),path:"/funcionarios"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(TD,{}),path:"/veiculosf"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(SD,{}),path:"/fornecedores"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(Nw,{}),path:"/login"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(_D,{}),path:"/devolucao"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(AD,{}),path:"/reservar"}),(0,Q.jsx)(w,{element:(0,Q.jsx)(CD,{}),path:"/escolha"})]})})};t.render((0,Q.jsx)(e.StrictMode,{children:(0,Q.jsx)(ND,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.6e1b03ed.js.map